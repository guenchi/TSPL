# 前言

Scheme在1975年由杰拉德 J. 萨斯曼（Gerald J. Sussman）和小盖 L. 斯蒂尔（Guy L. Steele Jr.）提出，是首个完全支持词法作用域（lexical scoping）、一阶过程（first-class procedure）和延续（continuations）的Lisp方言。在早期形式中，Scheme主要用于研究和教学，仅有少量的预定义句法形式和过程。而现在Scheme是一个通用语言，但它的强大力量仍是由一个关键概念的小集合所衍生的。语言的早期实现是基于解释的并且很慢，但现在的Scheme实现有着引以为荣的复杂编译器，其生成的代码可以与最佳优化的低级语言编译器如C和Fortran生成的代码相媲美。

本书旨在提供一个Scheme编程语言的介绍而非对编程的一般介绍。读者需有一定的编程经验且熟悉计算机和编程语言相关的术语。对Scheme或Lisp不熟悉的读者也应该考虑阅读《The Little Schemer》以熟悉列表操作（list processing）和递归（recursion）的概念。初次涉猎编程的读者应由介绍编程的相关文本起步。

Scheme已经被正式和非正式地标准化。《IEEE Standard for the Scheme Programming Language》描述了正式ANSI/IEEE标准的Scheme，但从1991年起，一系列相关联的报告“算法语言Scheme修订报告”（Revised Reports on the Algorithmic Language Scheme）存档了一个演进的由大多数实现支持的非正式标准。系列目前的报告是《修订$^6$算法语言Scheme报告》（《R$^6$RS》）（注：R$^7$RS已敲定small版本），在2007年完成。

本书覆盖了修订$^6$报告所描述的语言。并非是要替代修订$^6$报告，而是用更多解释性的文本和例子给语言提供一个更全面的介绍和参考手册，比起（报告适于）实现者，本书更加适合语言使用者。特定于某个Scheme实现的特性不包含在本书内。特别指出，作者的Chez Scheme和Petite Chez Scheme特定的特性由《Chez Scheme User’s Guide》单独描述。另一方面，不覆盖交互顶层的关于Scheme的书是不完整的，因为几乎每个Scheme系统都支持以某种形式交互使用，尽管其行为并没有在修订$^6$报告中标准化。因此[第2章][2]和[第3章][3]的内容假定读者已获取支持交互顶层的Scheme实现，并有着与更早的报告和IEEE/ANSI标准中的顶层环境一致的行为。

大量小至中型的例子贯穿本书，一整章则致力于说明一个更长的例子。许多例子展示了一个标准的Scheme句法形式或过程可能是如何实现的；其他则实现了有用的拓展。所有的例子都可由键盘直接敲入至一个交互式Scheme会话。

本书组织了12个章节，并后附补充资料。[第1章][1]描述了Scheme之所以成为一个乐学易用的语言的特点和特性。[第1章][1]还描述了Scheme的命名约定和适用于本书的排版约定。

[第2章][2]向Scheme新手介绍Scheme编程，带领读者通过一系列的例子，由简单的Scheme表达式开始，并逐步解决更难的部分。[第2章][2]的每个小节都介绍了一个相关特性的小集合，在每小节的末尾还有一集习题作为进一步的练习。读者从[第2章][2]学到最多的方式是坐在键盘旁打出例子和尝试习题。

[第3章][3]继续介绍但覆盖了更高阶的特性和概念。即使先前有过Scheme经验的读者也不妨尝试一遍本章的例子和习题。

第4至11章组成了本书的参考部分，它们依次展示了Scheme的每一个基本过程和句法形式，并将它们按相关联的过程和形式组成短节。[第4章][4]描述了创建过程和变量绑定的操作；[第5章][5]，程序控制操作；[第6章][6]，对各种对象类型的操作（包括列表、数字和字符串）；[第7章][7]，输入和输出操作；[第8章][8]，语法拓展；[第9章][9]，记录-类型定义；[第10章][10]，库和顶层应用；和[第11章][11]，异常和条件。

[第12章][12]包含了一集示例过程，库和程序，每一个都有简短的概述，一些使用示例，带简单解释的实现和一些用于进一步钻研的习题。每一个程序都演示了一个特性的特辑，而它们一起表明了Scheme编程的恰当风格。

在[第12章][12]之后的是参考文献书目，选定题目的答案，一份详尽的Scheme程序和数据的形式句法说明，一份简明的Scheme句法形式和过程的总结，以及索引。形式和过程总结对于不熟悉句法形式或基本过程参数要求的程序员来说是有用的第一站。形式和过程总结里出现的页码和索引中以斜体出现的页码指明了相应形式和过程的定义在本书中的位置。

因为参考部分描述了一些未在介绍章节中着笔的语言特色和有趣的短例，大多数读者会发现通读这些材料中的大部分来熟悉每一个特性和特性间的相互关联将是有益的。[第6章][6]有些冗长，但可以先略过，并随后在需要时作为参考。

本书的在线版本在[http://www.scheme.com/tspl/](http://www.scheme.com/tspl/)。在线版本的形式总结和索引包括打印版的页码，因此可以作为易于使用的可搜索索引（超链接）。

关于插图：封面插图和每章起始的插图是算法线场，由艺术家Jean-Pierre Hébert根据约翰·凯奇（Jhon Cage）作品产生的灵感创作的算法线场。每个线场由任意数量的平行线网格组成。网格是规则的，但它们不是。例如，线条的长度不规则，造就了不规则的边缘。它们的明暗和厚度略有不同。它们并非完全等距的。它们以一定的角度相交，当这个角度很小时，就会形成干涉图案。这些线首先被浸入到各种标量场中，这些标量场打乱了它们原来的直线形状，然后投射到纸的平面上。掩模在一些层中引入了孔。对于封面插图，网格用不同的色调上色。

所有的图像都是由一个Scheme程序创建的，这个程序做出了大部分的决定，很大程度上是基于巧合。艺术家只控制画布大小、纵横比、整体调色板颜色以及机率和模糊程度。艺术家的任务是在恰当的地方引入足够的巧合，这样结果就会同时令人惊讶、有趣，并符合艺术家的美感。这是一个充满不确定性、混沌与和谐的游戏。

*鸣谢*：许多人以各种方式参与本书本版本和此前多版本的准备工作，包括Bruce Smith，Eugene Kohlbecker，Matthias Felleisen，Dan Friedman，Bruce Duba，Phil Dybvig，Guy Steele，Bob Hieb，Chris Haynes，Dave Plaisted，Joan Curry，Frank Silbermann，Pavel Curtis，John Wait，Carl Bruggeman，Sam Daniel，Oscar Waddell，Mike Ashley，John LaLonde，John Zuckerman，John Simmons，Bob Prior，Bob Burger，and Aziz Ghuloum。其他许多人给出了一些小范围的修改和建议。Oscar Waddell帮助创造了排版系统用于格式化本书的印刷和线上版本。本书的一小部分文本和一些例子是从《R$^6$RS》中改编而来，这要归功于该报告的编辑和许多其他为其做出贡献的人。最后也是最重要的一点是，我的妻子苏珊·迪维格(Susan Dybvig)首先建议我写这本书，并用她的专业知识和帮助来制作和出版这本书及以前的版本。


[1]: (./01.Introduction.md)
[2]: (./02.GettingStarted.md)
[3]: (./03.GoingFurther.md)
[4]: (./04.ProceduresAndVariableBindings.md)
[5]: (./05.ControlOperations.md)
[6]: (./06.OperationsOnObjects.md)
[7]: (./07.InputAndOutput.md)
[8]: (./08.SyntacticExtension.md)
[9]: (./09.Records.md)
[10]: (./10.LibrariesAndTop-LevelPrograms.md)
[11]: (./11.ExceptionsAndConditions.md)
[12]: (./12.ExtendedExamples.md)