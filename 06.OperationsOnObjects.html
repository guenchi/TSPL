
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>06. 对象操作 · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="07.InputAndOutput.html" />
    
    
    <link rel="prev" href="05.ControlOperations.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    首页
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="00.Terminology.html">
            
                <a href="00.Terminology.html">
            
                    
                    00. 术语表
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="01.Introduction.html">
            
                <a href="01.Introduction.html">
            
                    
                    01. 介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="02.GettingStarted.html">
            
                <a href="02.GettingStarted.html">
            
                    
                    02. 开始
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="03.GoingFurther.html">
            
                <a href="03.GoingFurther.html">
            
                    
                    03. 更进一步
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="04.ProceduresAndVariableBindings.html">
            
                <a href="04.ProceduresAndVariableBindings.html">
            
                    
                    04. 过程和变量绑定
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="05.ControlOperations.html">
            
                <a href="05.ControlOperations.html">
            
                    
                    05. 控制操作
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.8" data-path="06.OperationsOnObjects.html">
            
                <a href="06.OperationsOnObjects.html">
            
                    
                    06. 对象操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="07.InputAndOutput.html">
            
                <a href="07.InputAndOutput.html">
            
                    
                    07. 输入输出
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="08.SyntacticExtension.html">
            
                <a href="08.SyntacticExtension.html">
            
                    
                    08. 语法扩展
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="09.Records.html">
            
                <a href="09.Records.html">
            
                    
                    09. 记录类型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="10.LibrariesAndTop-LevelPrograms.html">
            
                <a href="10.LibrariesAndTop-LevelPrograms.html">
            
                    
                    10. 库和顶层程序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="11.ExceptionsAndConditions.html">
            
                <a href="11.ExceptionsAndConditions.html">
            
                    
                    11. 异常和状态
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="12.ExtendedExamples.html">
            
                <a href="12.ExtendedExamples.html">
            
                    
                    12. 例子
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >06. 对象操作</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="6-&#x5BF9;&#x8C61;&#x64CD;&#x4F5C;">6. &#x5BF9;&#x8C61;&#x64CD;&#x4F5C;</h1>
<p>&#x672C;&#x7AE0;&#x4ECB;&#x7ECD;&#x4E86;&#x9488;&#x5BF9;&#x5404;&#x79CD;&#x5BF9;&#x8C61;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x5305;&#x62EC;&#x5217;&#x8868;&#xFF0C;&#x6570;&#x5B57;&#xFF0C;&#x5B57;&#x7B26;&#xFF0C;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5411;&#x91CF;&#xFF0C;&#x5B57;&#x8282;&#x5411;&#x91CF;&#xFF0C;&#x7B26;&#x53F7;&#xFF0C;&#x5E03;&#x5C14;&#x503C;&#xFF0C;&#x54C8;&#x5E0C;&#x8868;&#xFF0C;&#x4EE5;&#x53CA;&#x679A;&#x4E3E;&#x3002;&#x7B2C;&#x4E00;&#x8282;&#x6DB5;&#x76D6;&#x4E86;&#x5E38;&#x91CF;&#x5BF9;&#x8C61;&#x548C;&#x5F15;&#x7528;&#x3002;&#x7B2C;&#x4E8C;&#x8282;&#x4ECB;&#x7ECD;&#x4E86;&#x7528;&#x4E8E;&#x6BD4;&#x8F83;&#x4E24;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x901A;&#x7528;&#x7B49;&#x4EF7;&#x6027;&#x8C13;&#x8BCD;&#xFF0C;&#x53CA;&#x5224;&#x5B9A;&#x5BF9;&#x8C61;&#x7C7B;&#x578B;&#x7684;&#x8C13;&#x8BCD;&#x3002;&#x968F;&#x540E;&#x7684;&#x51E0;&#x8282;&#x4ECB;&#x7ECD;&#x4E86;&#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x5904;&#x7406;&#x4E0A;&#x8FF0;&#x67D0;&#x4E00;&#x7C7B;&#x578B;&#x5BF9;&#x8C61;&#x7684;&#x8FC7;&#x7A0B;&#x3002;&#x672C;&#x7AE0;&#x6CA1;&#x6709;&#x4ECB;&#x7ECD;&#x8FC7;&#x7A0B;&#x64CD;&#x4F5C;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x56E0;&#x4E3A;&#x552F;&#x4E00;&#x4E00;&#x4E2A;&#x4E13;&#x95E8;&#x4E3A;&#x8FC7;&#x7A0B;&#x5B9A;&#x4E49;&#x7684;&#x64CD;&#x4F5C;&#x662F; <em>application</em>, &#x800C;&#x5B83;&#x5DF2;&#x7ECF;&#x5728;&#x7B2C; 5 &#x7AE0;&#x4E2D;&#x4ECB;&#x7ECD;&#x8FC7;&#x4E86;&#x3002;&#x7AEF;&#x53E3;&#x64CD;&#x4F5C;&#x5728;&#x7B2C; 7 &#x7AE0;&#x5173;&#x4E8E;&#x8F93;&#x5165;&#x8F93;&#x51FA;&#x7684;&#x66F4;&#x4E00;&#x822C;&#x6027;&#x7684;&#x8BA8;&#x8BBA;&#x4E2D;&#x4F1A;&#x4ECB;&#x7ECD;&#x3002;&#x5B9A;&#x4E49;&#x65B0;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x7684;&#x673A;&#x5236;&#x4F1A;&#x5728;&#x7B2C; 9 &#x7AE0;&#x4E2D;&#x4ECB;&#x7ECD;&#x3002;</p>
<h2 id="61-&#x5E38;&#x91CF;&#x548C;&#x5F15;&#x7528;">6.1. &#x5E38;&#x91CF;&#x548C;&#x5F15;&#x7528;</h2>
<p>syntax: <code>constant</code></p>
<p>&#x8FD4;&#x56DE;: constant</p>
<p><code>constant</code> &#x662F;&#x4EFB;&#x4F55;&#x81EA;&#x6C42;&#x503C;&#x5E38;&#x91CF;&#xFF0C;&#x5373;&#xFF0C;&#x6570;&#x5B57;&#xFF0C;&#x5E03;&#x5C14;&#x503C;&#xFF0C;&#x5B57;&#x7B26;&#xFF0C;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x6216;&#x5B57;&#x8282;&#x5411;&#x91CF;&#x3002;&#x5E38;&#x91CF;&#x662F;&#x4E0D;&#x53EF;&#x53D8;&#x7684;&#xFF1B;&#x53C2;&#x89C1;&#x4E0B;&#x6587;&#x5BF9;&#x5F15;&#x7528;&#x7684;&#x4ECB;&#x7ECD;&#x4E2D;&#x7684;&#x6CE8;&#x89E3;&#x3002;</p>
<pre><code>3.2 =&gt; 3.2
#f =&gt; #f
#\c =&gt; #\c
&quot;hi&quot; =&gt; &quot;hi&quot;
#vu8(3 4 5) =&gt; #vu8(3 4 5)
</code></pre><p>syntax: <code>(quote obj)</code></p>
<p>syntax: <code>&apos;obj</code></p>
<p>&#x8FD4;&#x56DE;: <code>obj</code></p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p><code>&apos;obj</code> &#x7B49;&#x4EF7;&#x4E8E; <code>(quote obj)</code>. <em>Scheme</em> &#x8BFB;&#x53D6;&#x5668;&#xFF08;&#x53C2;&#x89C1;&#x201C;&#x8BFB;&#x53D6;&#x201D;&#xFF09;&#x4F1A;&#x628A;&#x7F29;&#x5199;&#x5F62;&#x5F0F;&#x8F6C;&#x5316;&#x4E3A;&#x5B8C;&#x6574;&#x5F62;&#x5F0F;&#x3002;</p>
<p><code>quote</code> &#x7981;&#x6B62;&#x4E86;&#x5BF9; <code>obj</code> &#x7684;&#x5E38;&#x89C4;&#x6C42;&#x503C;&#x89C4;&#x5219;&#xFF0C;&#x4F7F;&#x5F97; <code>obj</code> &#x53EF;&#x4EE5;&#x88AB;&#x4F5C;&#x4E3A;&#x6570;&#x636E;&#x4F7F;&#x7528;&#x3002;&#x867D;&#x7136;&#x4EFB;&#x4F55; Scheme &#x5BF9;&#x8C61;&#x90FD;&#x53EF;&#x4EE5;&#x88AB;&#x5F15;&#x7528;&#xFF0C;&#x4F46;&#x6CA1;&#x6709;&#x5FC5;&#x8981;&#x5F15;&#x7528;&#x81EA;&#x6C42;&#x503C;&#x5E38;&#x91CF;&#xFF0C;&#x5373;&#xFF0C;&#x6570;&#x5B57;&#xFF0C;&#x5E03;&#x5C14;&#x503C;&#xFF0C;&#x5B57;&#x7B26;&#xFF0C;&#x5B57;&#x7B26;&#x4E32;&#x548C;&#x5B57;&#x8282;&#x5411;&#x91CF;&#x3002;</p>
<p>&#x5F15;&#x7528;&#x7684;&#x548C;&#x81EA;&#x6C42;&#x503C;&#x7684;&#x5E38;&#x91CF;&#x662F;&#x4E0D;&#x53EF;&#x53D8;&#x7684;&#x3002;&#x5373;&#xFF0C;&#x7A0B;&#x5E8F;&#x4E0D;&#x5E94;&#x901A;&#x8FC7; set-car!, string-set! &#x7B49;&#x8FC7;&#x7A0B;&#x4FEE;&#x6539;&#x5E38;&#x91CF;&#xFF0C;&#x5982;&#x679C;&#x5C1D;&#x8BD5;&#x505A;&#x51FA;&#x8FD9;&#x79CD;&#x4FEE;&#x6539;&#xFF0C;&#x5B9E;&#x73B0;&#x53EF;&#x4EE5;&#x629B;&#x51FA;&#x4E00;&#x4E2A;&#x6761;&#x4EF6;&#x7C7B;&#x578B;&#x7684; &amp;assertion &#x5F02;&#x5E38;&#x3002;&#x5982;&#x679C;&#x4FEE;&#x6539;&#x4E0D;&#x53EF;&#x53D8;&#x5BF9;&#x8C61;&#x7684;&#x5C1D;&#x8BD5;&#x6CA1;&#x6709;&#x88AB;&#x68C0;&#x6D4B;&#x5230;&#xFF0C;&#x7A0B;&#x5E8F;&#x7684;&#x884C;&#x4E3A;&#x5219;&#x4E3A;&#x672A;&#x5B9A;&#x4E49;&#x7684;&#x3002;&#x4E00;&#x79CD;&#x5B9E;&#x73B0;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x4F7F;&#x4E0D;&#x540C;&#x7684;&#x5E38;&#x91CF;&#x5171;&#x4EAB;&#x5B58;&#x50A8;&#xFF0C;&#x4EE5;&#x8282;&#x7701;&#x7A7A;&#x95F4;&#x3002;</p>
<pre><code>(+ 2 3) =&gt; 5
&apos;(+ 2 3) =&gt; (+ 2 3)
(quote (+ 2 3)) =&gt; (+ 2 3)
&apos;a =&gt; a
&apos;cons =&gt; cons
&apos;() =&gt; ()
&apos;7 =&gt; 7
</code></pre><p>syntax: <code>(quasiquote obj ...)</code></p>
<p>syntax: <code>`obj</code></p>
<p>syntax: <code>(unquote obj ...)</code></p>
<p>syntax: <code>,obj</code></p>
<p>syntax: <code>(unquote-splicing obj ...)</code></p>
<p>syntax: <code>,@obj</code></p>
<p>&#x8FD4;&#x56DE;: &#x53C2;&#x89C1;&#x4E0B;&#x6587;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p><code>`obj</code> &#x7B49;&#x4EF7;&#x4E8E; <code>(quasiquote obj)</code>, <code>,obj</code> &#x7B49;&#x4EF7;&#x4E8E; <code>(unquote obj)</code>, &#x800C; <code>,@obj</code> &#x7B49;&#x4EF7;&#x4E8E; <code>(unquote-splicing obj)</code>. Scheme &#x8BFB;&#x53D6;&#x5668;&#xFF08;&#x53C2;&#x89C1;&#x201C;&#x8BFB;&#x53D6;&#x201D;&#xFF09;&#x4F1A;&#x628A;&#x7F29;&#x5199;&#x5F62;&#x5F0F;&#x8F6C;&#x5316;&#x4E3A;&#x5B8C;&#x6574;&#x5F62;&#x5F0F;&#x3002;</p>
<p><code>quasiquote</code> &#x7C7B;&#x4F3C;&#x4E8E; <code>quote</code>, &#x4F46;&#x5B83;&#x5141;&#x8BB8;&#x5F15;&#x7528;&#x5185;&#x5BB9;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x88AB;&#x89E3;&#x9664;&#x5F15;&#x7528;&#x3002;&#x5728;&#x4E00;&#x4E2A; <code>quasiquote</code> &#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#xFF0C; <code>unquote</code> &#x548C; <code>unquote-splicing</code> &#x884D;&#x751F;&#x5F62;&#x5F0F;&#x88AB;&#x6C42;&#x503C;&#xFF0C;&#x800C;&#x5176;&#x5B83;&#x4E00;&#x5207;&#x5185;&#x5BB9;&#x90FD;&#x662F;&#x5F15;&#x7528;&#x7684;&#xFF0C;&#x5373;&#xFF0C;&#x4FDD;&#x7559;&#x4E3A;&#x672A;&#x6C42;&#x503C;&#x7684;&#x3002;&#x6BCF;&#x4E2A; <code>unquote</code> &#x884D;&#x751F;&#x5F62;&#x5F0F;&#x7684;&#x503C;&#x4F1A;&#x66FF;&#x6362;&#x6389; <code>unquote</code> &#x5F62;&#x5F0F;&#xFF0C;&#x5E76;&#x63D2;&#x5165;&#x5230;&#x8F93;&#x51FA;&#x4E2D;&#xFF0C;&#x800C;&#x6BCF;&#x4E2A; <code>unquote-splicing</code> &#x884D;&#x751F;&#x5F62;&#x5F0F;&#x7684;&#x503C;&#x4F1A;&#x88AB;&#x62FC;&#x63A5;&#x8FDB;&#x5916;&#x56F4;&#x7684;&#x5217;&#x8868;&#x6216;&#x5411;&#x91CF;&#x7ED3;&#x6784;&#x4E2D;&#x3002; <code>unquote</code> &#x548C; <code>unquote-splicing</code> &#x53EA;&#x5728; <code>quasiquote</code> &#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x6709;&#x6548;&#x3002;</p>
<p><code>quasiquote</code> &#x8868;&#x8FBE;&#x5F0F;&#x53EF;&#x4EE5;&#x5D4C;&#x5957;&#xFF0C;&#x6BCF;&#x4E2A; <code>quasiquote</code> &#x5F15;&#x5165;&#x4E00;&#x5C42;&#x65B0;&#x7684;&#x5F15;&#x7528;&#xFF0C;&#x800C;&#x6BCF;&#x4E2A; <code>unquote</code> &#x6216; <code>unquote-splicing</code> &#x89E3;&#x9664;&#x4E00;&#x5C42;&#x5F15;&#x7528;&#x3002;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x5D4C;&#x5957;&#x5728; n &#x5C42; <code>quasiquote</code> &#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#xFF0C;&#x5219;&#x5B83;&#x5FC5;&#x987B;&#x901A;&#x8FC7; n &#x5C42; <code>unquote</code> &#x6216; <code>unquote-splicing</code> &#x624D;&#x80FD;&#x88AB;&#x6C42;&#x503C;&#x3002;</p>
<pre><code>`(+ 2 3) =&gt; (+ 2 3)

`(+ 2 ,(* 3 4)) =&gt; (+ 2 12)
`(a b (,(+ 2 3) c) d) =&gt; (a b (5 c) d)
`(a b ,(reverse &apos;(c d e)) f g) =&gt; (a b (e d c) f g)
(let ([a 1] [b 2])
  `(,a . ,b)) =&gt; (1 . 2)

`(+ ,@(cdr &apos;(* 2 3))) =&gt; (+ 2 3)
`(a b ,@(reverse &apos;(c d e)) f g) =&gt; (a b e d c f g)
(let ([a 1] [b 2])
  `(,a ,@b)) =&gt; (1 . 2)
`#(,@(list 1 2 3)) =&gt; #(1 2 3)

&apos;`,(cons &apos;a &apos;b) =&gt; `,(cons &apos;a &apos;b)
`&apos;,(cons &apos;a &apos;b) =&gt; &apos;(a . b)
</code></pre><p>&#x5E26;&#x6709; 0 &#x4E2A;&#x6216;&#x591A;&#x4E8E; 1 &#x4E2A;&#x5B50;&#x5F62;&#x5F0F;&#x7684; <code>unquote</code> &#x548C; <code>unquote-splicing</code> &#x8BED;&#x6CD5;&#x5F62;&#x5F0F;&#x53EA;&#x5728;&#x62FC;&#x63A5;&#x73AF;&#x5883;&#xFF08;&#x5217;&#x8868;&#x6216;&#x5411;&#x91CF;&#xFF09;&#x4E2D;&#x6709;&#x6548;&#x3002; <code>(unquote obj ...)</code> &#x7B49;&#x4EF7;&#x4E8E; <code>(unquote obj) ...</code>, &#x800C; <code>(unquote-splicing obj ...)</code> &#x7B49;&#x4EF7;&#x4E8E; <code>(unquote-splicing obj) ...</code>. &#x8FD9;&#x4E9B;&#x5F62;&#x5F0F;&#x4E3B;&#x8981;&#x4F5C;&#x4E3A; <code>quasiquote</code> &#x5C55;&#x5F00;&#x5668;&#x8F93;&#x51FA;&#x7684;&#x4E2D;&#x95F4;&#x5F62;&#x5F0F;&#x3002;&#x5B83;&#x4EEC;&#x652F;&#x6301;&#x67D0;&#x4E9B;&#x6709;&#x7528;&#x7684; <code>quasiquote</code> &#x5D4C;&#x5957;&#x60EF;&#x7528;&#x6CD5; [3], &#x6BD4;&#x5982; <code>,@,@</code>, &#x5728;&#x53CC;&#x91CD;&#x5D4C;&#x5957;&#x548C;&#x53CC;&#x91CD;&#x6C42;&#x503C;&#x7684; <code>quasiquote</code> &#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;&#x6709;&#x53CC;&#x91CD;&#x95F4;&#x63A5;&#x62FC;&#x63A5;&#x7684;&#x4F5C;&#x7528;&#x3002;</p>
<pre><code>`(a (unquote) b) =&gt; (a b)
`(a (unquote (+ 3 3)) b) =&gt; (a 6 b)
`(a (unquote (+ 3 3) (* 3 3)) b) =&gt; (a 6 9 b)

(let ([x &apos;(m n)]) ``(a ,@,@x f)) =&gt; `(a (unquote-splicing m n) f)
(let ([x &apos;(m n)])
  (eval `(let ([m &apos;(b c)] [n &apos;(d e)]) `(a ,@,@x f))
        (environment &apos;(rnrs)))) =&gt; (a b c d e f)
</code></pre><p><code>unquote</code> &#x548C; <code>unquote-splicing</code> &#x662F; <code>quasiquote</code> &#x7684;&#x8F85;&#x52A9;&#x5173;&#x952E;&#x5B57;&#x3002;&#x9664;&#x4E86;&#x5728;&#x88AB;&#x8BC6;&#x522B;&#x4E3A;&#x8F85;&#x52A9;&#x5173;&#x952E;&#x5B57;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#xFF0C;&#x5728;&#x5176;&#x5B83;&#x5730;&#x65B9;&#x5F15;&#x7528;&#x8FD9;&#x4E9B;&#x6807;&#x8BC6;&#x7B26;&#x662F;&#x8BED;&#x6CD5;&#x8FDD;&#x89C4;&#x7684;&#x3002;</p>
<h2 id="62-&#x901A;&#x7528;&#x7684;&#x7B49;&#x4EF7;&#x6027;&#x548C;&#x7C7B;&#x578B;&#x8C13;&#x8BCD;">6.2. &#x901A;&#x7528;&#x7684;&#x7B49;&#x4EF7;&#x6027;&#x548C;&#x7C7B;&#x578B;&#x8C13;&#x8BCD;</h2>
<p>&#x672C;&#x8282;&#x4ECB;&#x7ECD;&#x4E86;&#x57FA;&#x672C;&#x7684; Scheme &#x8C13;&#x8BCD;&#xFF08;&#x8FD4;&#x56DE;&#x5E03;&#x5C14;&#x503C; #t &#x6216; #f &#x7684;&#x8FC7;&#x7A0B;&#xFF09;&#xFF0C;&#x7528;&#x4E8E;&#x5224;&#x5B9A;&#x5BF9;&#x8C61;&#x7684;&#x7C7B;&#x578B;&#x6216;&#x4E24;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x7B49;&#x4EF7;&#x6027;&#x3002;&#x5148;&#x8BA8;&#x8BBA;&#x7B49;&#x4EF7;&#x6027;&#x8C13;&#x8BCD; eq?, eqv?, &#x548C; equal?, &#x63A5;&#x4E0B;&#x6765;&#x662F;&#x7C7B;&#x578B;&#x8C13;&#x8BCD;&#x3002;</p>
<p>&#x8FC7;&#x7A0B;: <code>(eq? obj1 obj2)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>obj1</code> &#x548C; <code>obj2</code> &#x5B8C;&#x5168;&#x76F8;&#x540C;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x5728;&#x5927;&#x591A;&#x6570; Scheme &#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x4E24;&#x4E2A;&#x5BF9;&#x8C61;&#x5185;&#x90E8;&#x901A;&#x8FC7;&#x76F8;&#x540C;&#x7684;&#x6307;&#x9488;&#x503C;&#x8868;&#x793A;&#xFF0C;&#x5219;&#x88AB;&#x8BA4;&#x4E3A;&#x662F;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x5B83;&#x4EEC;&#x5728;&#x5185;&#x90E8;&#x4EE5;&#x4E0D;&#x540C;&#x7684;&#x6307;&#x9488;&#x503C;&#x8868;&#x793A;&#xFF0C;&#x5219;&#x88AB;&#x8BA4;&#x4E3A;&#x662F;&#x4E0D;&#x540C;&#x7684;&#x3002;&#x4E0D;&#x8FC7;&#x4E5F;&#x6709;&#x91C7;&#x7528;&#x5176;&#x5B83;&#x6807;&#x51C6;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x6BD4;&#x5982;&#x5229;&#x7528;&#x65F6;&#x95F4;&#x6233;&#x5224;&#x5B9A;&#x3002;</p>
<p>&#x867D;&#x7136;&#x4E0D;&#x540C;&#x7CFB;&#x7EDF;&#x4E4B;&#x95F4;&#x5224;&#x5B9A;&#x5BF9;&#x8C61;&#x540C;&#x4E00;&#x6027;&#x7684;&#x7279;&#x5B9A;&#x89C4;&#x5219;&#x4F1A;&#x6709;&#x4E9B;&#x5FAE;&#x7684;&#x4E0D;&#x540C;&#xFF0C;&#x4F46;&#x4EE5;&#x4E0B;&#x89C4;&#x5219;&#x603B;&#x662F;&#x6210;&#x7ACB;&#x7684;&#x3002;</p>
<p>&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#xFF08;&#x5E03;&#x5C14;&#x7C7B;&#x578B;&#xFF0C;&#x7A7A;&#x5217;&#x8868;&#xFF0C;&#x70B9;&#x5BF9;&#xFF0C;&#x6570;&#x5B57;&#xFF0C;&#x5B57;&#x7B26;&#xFF0C;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5411;&#x91CF;&#xFF0C;&#x7B26;&#x53F7;&#xFF0C;&#x53CA;&#x8FC7;&#x7A0B;&#xFF09;&#x7684;&#x5BF9;&#x8C61;&#x662F;&#x4E0D;&#x540C;&#x7684;&#x3002;</p>
<p>&#x4E24;&#x4E2A;&#x5185;&#x5BB9;&#x6216;&#x503C;&#x4E0D;&#x76F8;&#x540C;&#x7684;&#x540C;&#x7C7B;&#x578B;&#x5BF9;&#x8C61;&#x662F;&#x4E0D;&#x540C;&#x7684;&#x3002;</p>
<p>&#x4E0D;&#x8BBA;&#x5728;&#x54EA;&#x91CC;&#x51FA;&#x73B0;&#xFF0C;&#x5E03;&#x5C14;&#x5BF9;&#x8C61; #t &#x4E0E;&#x5176;&#x81EA;&#x8EAB;&#x90FD;&#x662F;&#x76F8;&#x540C;&#x7684;&#x3002;&#x4E0D;&#x8BBA;&#x51FA;&#x73B0;&#x5728;&#x54EA;&#x91CC;&#xFF0C;#f &#x4E5F;&#x4E0E;&#x5176;&#x81EA;&#x8EAB;&#x76F8;&#x540C;&#x3002;&#x4F46;#t &#x4E0E;#f &#x4E0D;&#x540C;&#x3002;</p>
<p>&#x4E0D;&#x8BBA;&#x51FA;&#x73B0;&#x5728;&#x54EA;&#x91CC;&#xFF0C;&#x7A7A;&#x5217;&#x8868; () &#x90FD;&#x4E0E;&#x5176;&#x81EA;&#x8EAB;&#x76F8;&#x540C;&#x3002;</p>
<p>&#x5F53;&#x4E14;&#x4EC5;&#x5F53;&#x4E24;&#x4E2A;&#x7B26;&#x53F7;&#x7684;&#x540D;&#x5B57;&#x76F8;&#x540C;&#x65F6;&#xFF08;&#x901A;&#x8FC7; <code>string=?</code>&#x5224;&#x5B9A;&#xFF09;&#xFF0C;&#x5B83;&#x4EEC;&#x76F8;&#x540C;&#x3002;</p>
<p>&#x4E00;&#x4E2A;&#x5E38;&#x91CF;&#x70B9;&#x5BF9;&#xFF0C;&#x5411;&#x91CF;&#xFF0C;&#x5B57;&#x7B26;&#x4E32;&#x6216;&#x5B57;&#x8282;&#x5411;&#x91CF;&#x4E0E;&#x5176;&#x81EA;&#x8EAB;&#x76F8;&#x540C;&#xFF0C;&#x6BD4;&#x5982;&#x901A;&#x8FC7;&#x5E94;&#x7528; <code>cons</code>, <code>vector</code>, <code>string</code>, <code>make-bytevector</code> &#x7B49;&#x8FC7;&#x7A0B;&#x521B;&#x5EFA;&#x7684;&#x70B9;&#x5BF9;&#xFF0C;&#x5411;&#x91CF;&#xFF0C;&#x5B57;&#x7B26;&#x4E32;&#x6216;&#x5B57;&#x8282;&#x5411;&#x91CF;&#x3002;&#x901A;&#x8FC7;&#x5BF9; <code>cons</code>, <code>vector</code>, <code>string</code>, <code>make-bytevector</code> &#x7B49;&#x8FC7;&#x7A0B;&#x7684;&#x4E0D;&#x540C;&#x5E94;&#x7528;&#x521B;&#x5EFA;&#x7684;&#x4E24;&#x4E2A;&#x70B9;&#x5BF9;&#xFF0C;&#x5411;&#x91CF;&#xFF0C;&#x5B57;&#x7B26;&#x4E32;&#x6216;&#x5B57;&#x8282;&#x5411;&#x91CF;&#x662F;&#x4E0D;&#x540C;&#x7684;&#x3002;&#x7531;&#x6B64;&#x53EF;&#x5F97;&#x7684;&#x4E00;&#x4E2A;&#x63A8;&#x8BBA;&#x662F;&#xFF0C;&#x6BD4;&#x5982;&#x8BF4;&#xFF0C;<code>cons</code>&#xFF0C;&#x53EF;&#x4EE5;&#x88AB;&#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x548C;&#x6240;&#x6709;&#x5176;&#x5B83;&#x5BF9;&#x8C61;&#x90FD;&#x4E0D;&#x540C;&#x7684;&#x552F;&#x4E00;&#x6027;&#x5BF9;&#x8C61;&#x3002;</p>
<p>&#x4E24;&#x4E2A;&#x884C;&#x4E3A;&#x53EF;&#x80FD;&#x4E0D;&#x540C;&#x7684;&#x8FC7;&#x7A0B;&#x662F;&#x4E0D;&#x540C;&#x7684;&#x3002;&#x901A;&#x8FC7;&#x6C42;&#x503C;&#x4E00;&#x4E2A; lambda &#x8868;&#x8FBE;&#x5F0F;&#x521B;&#x5EFA;&#x7684;&#x8FC7;&#x7A0B;&#x4E0E;&#x5176;&#x81EA;&#x8EAB;&#x76F8;&#x540C;&#x3002;&#x4E24;&#x4E2A;&#x901A;&#x8FC7;&#x76F8;&#x540C; lambda &#x8868;&#x8FBE;&#x5F0F;&#x5728;&#x4E0D;&#x540C;&#x65F6;&#x95F4;&#x521B;&#x5EFA;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x6216;&#x901A;&#x8FC7;&#x76F8;&#x4F3C; lambda &#x8868;&#x8FBE;&#x5F0F;&#x521B;&#x5EFA;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x53EF;&#x80FD;&#x76F8;&#x540C;&#xFF0C;&#x4E5F;&#x53EF;&#x80FD;&#x4E0D;&#x540C;&#x3002;</p>
<p>eq? &#x7528;&#x4E8E;&#x6BD4;&#x8F83;&#x6570;&#x5B57;&#x548C;&#x5B57;&#x7B26;&#x65F6;&#x5E76;&#x4E0D;&#x53EF;&#x9760;&#x3002;&#x5C3D;&#x7BA1;&#x6BCF;&#x4E2A;&#x4E0D;&#x7CBE;&#x786E;&#x7684;&#x6570;&#x5B57;&#x4E0E;&#x6BCF;&#x4E2A;&#x7CBE;&#x786E;&#x7684;&#x6570;&#x5B57;&#x90FD;&#x4E0D;&#x540C;&#xFF0C;&#x4F46;&#x62E5;&#x6709;&#x76F8;&#x540C;&#x503C;&#x7684;&#x4E24;&#x4E2A;&#x7CBE;&#x786E;&#x7684;&#x6570;&#x5B57;&#xFF0C;&#x4E24;&#x4E2A;&#x4E0D;&#x7CBE;&#x786E;&#x7684;&#x6570;&#x5B57;&#xFF0C;&#x6216;&#x4E24;&#x4E2A;&#x5B57;&#x7B26;&#xFF0C;&#x90FD;&#x53EF;&#x80FD;&#x76F8;&#x540C;&#xFF0C;&#x4E5F;&#x53EF;&#x80FD;&#x4E0D;&#x540C;&#x3002;</p>
<p>&#x7531;&#x4E8E;&#x5E38;&#x91CF;&#x5BF9;&#x8C61;&#x662F;&#x4E0D;&#x53EF;&#x53D8;&#x7684;&#xFF0C;&#x5373;&#xFF0C;&#x7A0B;&#x5E8F;&#x4E0D;&#x5E94;&#x901A;&#x8FC7; vector-set!, set-car!, &#x6216;&#x4EFB;&#x4F55;&#x5176;&#x5B83;&#x7ED3;&#x6784;&#x4FEE;&#x6539;&#x64CD;&#x4F5C;&#x4FEE;&#x6539;&#x5B83;&#x4EEC;&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x5F15;&#x7528;&#x5E38;&#x91CF;&#x6216;&#x81EA;&#x6C42;&#x503C;&#x5B57;&#x9762;&#x91CF;&#x7684;&#x5168;&#x90E8;&#x6216;&#x90E8;&#x5206;&#x53EF;&#x80FD;&#x5728;&#x5185;&#x90E8;&#x7531;&#x540C;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x8868;&#x793A;&#x3002;&#x4E8E;&#x662F;&#xFF0C;&#x5F53;&#x5E94;&#x7528;&#x4E8E;&#x4E0D;&#x540C;&#x7684;&#x4E0D;&#x53EF;&#x53D8;&#x5E38;&#x91CF;&#x7684;&#x76F8;&#x7B49;&#x90E8;&#x5206;&#x65F6;&#xFF0C;eq? &#x53EF;&#x80FD;&#x8FD4;&#x56DE; #t.</p>
<p>eq? &#x6700;&#x5E38;&#x7528;&#x4E8E;&#x6BD4;&#x8F83;&#x7B26;&#x53F7;&#xFF0C;&#x6216;&#x68C0;&#x67E5;&#x5206;&#x914D;&#x5BF9;&#x8C61;&#x7684;&#x6307;&#x9488;&#x7B49;&#x4EF7;&#x6027;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;&#x70B9;&#x5BF9;&#xFF0C;&#x5411;&#x91CF;&#xFF0C;&#x6216; record &#x5B9E;&#x4F8B;&#x3002;</p>
<pre><code>(eq? &apos;a 3) =&gt; #f
(eq? #t &apos;t) =&gt; #f
(eq? &quot;abc&quot; &apos;abc) =&gt; #f
(eq? &quot;hi&quot; &apos;(hi)) =&gt; #f
(eq? #f &apos;()) =&gt; #f

(eq? 9/2 7/2) =&gt; #f
(eq? 3.4 53344) =&gt; #f
(eq? 3 3.0) =&gt; #f
(eq? 1/3 #i1/3) =&gt; #f

(eq? 9/2 9/2) =&gt; &#x672A;&#x5B9A;&#x4E49;
(eq? 3.4 (+ 3.0 .4)) =&gt; &#x672A;&#x5B9A;&#x4E49;
(let ([x (* 12345678987654321 2)])
  (eq? x x)) =&gt; &#x672A;&#x5B9A;&#x4E49;

(eq? #\a #\b) =&gt; #f
(eq? #\a #\a) =&gt; &#x672A;&#x5B9A;&#x4E49;
(let ([x (string-ref &quot;hi&quot; 0)])
  (eq? x x)) =&gt; &#x672A;&#x5B9A;&#x4E49;

(eq? #t #t) =&gt; #t
(eq? #f #f) =&gt; #t
(eq? #t #f) =&gt; #f
(eq? (null? &apos;()) #t) =&gt; #t
(eq? (null? &apos;(a)) #f) =&gt; #t

(eq? (cdr &apos;(a)) &apos;()) =&gt; #t

(eq? &apos;a &apos;a) =&gt; #t
(eq? &apos;a &apos;b) =&gt; #f
(eq? &apos;a (string-&gt;symbol &quot;a&quot;)) =&gt; #t

(eq? &apos;(a) &apos;(b)) =&gt; #f
(eq? &apos;(a) &apos;(a)) =&gt; &#x672A;&#x5B9A;&#x4E49;
(let ([x &apos;(a . b)]) (eq? x x)) =&gt; #t
(let ([x (cons &apos;a &apos;b)])
  (eq? x x)) =&gt; #t
(eq? (cons &apos;a &apos;b) (cons &apos;a &apos;b)) =&gt; #f

(eq? &quot;abc&quot; &quot;cba&quot;) =&gt; #f
(eq? &quot;abc&quot; &quot;abc&quot;) =&gt; &#x672A;&#x5B9A;&#x4E49;
(let ([x &quot;hi&quot;]) (eq? x x)) =&gt; #t
(let ([x (string #\h #\i)]) (eq? x x)) =&gt; #t
(eq? (string #\h #\i)
     (string #\h #\i)) =&gt; #f

(eq? &apos;#vu8(1) &apos;#vu8(1)) =&gt; &#x672A;&#x5B9A;&#x4E49;
(eq? &apos;#vu8(1) &apos;#vu8(2)) =&gt; #f
(let ([x (make-bytevector 10 0)])
  (eq? x x)) =&gt; #t
(let ([x (make-bytevector 10 0)])
  (eq? x (make-bytevector 10 0))) =&gt; #f

(eq? &apos;#(a) &apos;#(b)) =&gt; #f
(eq? &apos;#(a) &apos;#(a)) =&gt; &#x672A;&#x5B9A;&#x4E49;
(let ([x &apos;#(a)]) (eq? x x)) =&gt; #t
(let ([x (vector &apos;a)])
  (eq? x x)) =&gt; #t
(eq? (vector &apos;a) (vector &apos;a)) =&gt; #f

(eq? car car) =&gt; #t
(eq? car cdr) =&gt; #f
(let ([f (lambda (x) x)])
  (eq? f f)) =&gt; #t
(let ([f (lambda () (lambda (x) x))])
  (eq? (f) (f))) =&gt; &#x672A;&#x5B9A;&#x4E49;
(eq? (lambda (x) x) (lambda (y) y)) =&gt; &#x672A;&#x5B9A;&#x4E49;

(let ([f (lambda (x)
           (lambda ()
             (set! x (+ x 1))
             x))])
  (eq? (f 0) (f 0))) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(eqv? obj1 obj2)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>obj1</code> &#x548C; <code>obj2</code> &#x76F8;&#x7B49;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p><code>eqv?</code> &#x7C7B;&#x4F3C;&#x4E8E; <code>eq?</code>, &#x53EA;&#x662F; <code>eqv?</code> &#x5BF9;&#x4EE5;&#x4E0B;&#x60C5;&#x51B5;&#x786E;&#x5B9A;&#x8FD4;&#x56DE; <code>#t</code>: &#x88AB; <code>char=?</code> &#x5224;&#x5B9A;&#x4E3A;&#x76F8;&#x7B49;&#x7684;&#x4E24;&#x4E2A;&#x5B57;&#x7B26;&#xFF0C;&#x88AB; <code>=</code> &#x5224;&#x5B9A;&#x4E3A;&#x76F8;&#x7B49; (a)&#xFF0C;&#x4E14;&#x4E0D;&#x80FD;&#x88AB; eq? &#x548C; eqv? &#x4EE5;&#x5916;&#x7684;&#x4EFB;&#x4F55;&#x64CD;&#x4F5C;&#x533A;&#x5206; (b) &#x7684;&#x4E24;&#x4E2A;&#x6570;&#x5B57;&#x3002;(b) &#x7684;&#x4E00;&#x4E2A;&#x63A8;&#x8BBA;&#x662F;&#xFF0C;&#x5728;&#x533A;&#x5206; <code>-0.0</code> &#x548C;<code>+0.0</code> &#x7684;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF08;&#x6BD4;&#x5982;&#x90A3;&#x4E9B;&#x57FA;&#x4E8E; IEEE &#x6D6E;&#x70B9;&#x7B97;&#x672F;&#x7684;&#x7CFB;&#x7EDF;&#xFF09;&#xFF0C;&#x867D;&#x7136; <code>(= -0.0 +0.0)</code> &#x4E3A; <code>#t</code>, &#x4F46; <code>(eqv? -0.0 +0.0)</code> &#x4E3A; <code>#f</code>. &#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x4E00;&#x4E9B;&#x64CD;&#x4F5C;&#xFF0C;&#x6BD4;&#x5982; <code>/</code>&#xFF0C; &#x53EF;&#x4EE5;&#x63ED;&#x793A;&#x51FA;&#x5B83;&#x4EEC;&#x4E4B;&#x95F4;&#x533A;&#x522B;&#xFF1A;</p>
<pre><code>(/ 1.0 -0.0) =&gt; -inf.0
(/ 1.0 +0.0) =&gt; +inf.0
</code></pre><p>&#x7C7B;&#x4F3C;&#x7684;&#xFF0C;&#x867D;&#x7136; <code>3.0</code> &#x548C; <code>3.0+0.0i</code> &#x5728;&#x6570;&#x503C;&#x4E0A;&#x88AB;&#x8BA4;&#x4E3A;&#x662F;&#x76F8;&#x7B49;&#x7684;&#xFF0C;&#x4F46;&#x5982;&#x679C; <code>-0.0</code> &#x548C; <code>0.0</code> &#x4E3A;&#x4E0D;&#x540C;&#x7684;&#x8868;&#x793A;&#x5F62;&#x5F0F;&#xFF0C;&#x5219; <code>eqv?</code> &#x4F1A;&#x5224;&#x5B9A;&#x5B83;&#x4EEC;&#x4E3A;&#x4E0D;&#x76F8;&#x7B49;&#x3002;</p>
<pre><code>(= 3.0+0.0i 3.0) =&gt; #t
(eqv? 3.0+0.0i 3.0) =&gt; #f
</code></pre><p>&#x5B9E;&#x53C2;&#x4E3A; <code>NaNs</code> &#x65F6;&#xFF0C;<code>eqv?</code>&#x8FD4;&#x56DE;&#x7684;&#x5E03;&#x5C14;&#x503C;&#x662F;&#x672A;&#x5B9A;&#x4E49;&#x7684;&#x3002;</p>
<p><code>(eqv? +nan.0 (/ 0.0 0.0)) =&gt; &#x672A;&#x5B9A;&#x4E49;</code></p>
<p><code>eqv?</code> &#x6BD4;&#x8D77; <code>eq?</code>, &#x5BF9;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x7684;&#x4F9D;&#x8D56;&#x8F83;&#x5C11;&#xFF0C;&#x4F46;&#x901A;&#x5E38;&#x5BF9;&#x8D44;&#x6E90;&#x7684;&#x6D88;&#x8017;&#x66F4;&#x5927;&#x3002;</p>
<pre><code>(eqv? &apos;a 3) =&gt; #f
(eqv? #t &apos;t) =&gt; #f
(eqv? &quot;abc&quot; &apos;abc) =&gt; #f
(eqv? &quot;hi&quot; &apos;(hi)) =&gt; #f
(eqv? #f &apos;()) =&gt; #f

(eqv? 9/2 7/2) =&gt; #f
(eqv? 3.4 53344) =&gt; #f
(eqv? 3 3.0) =&gt; #f
(eqv? 1/3 #i1/3) =&gt; #f

(eqv? 9/2 9/2) =&gt; #t
(eqv? 3.4 (+ 3.0 .4)) =&gt; #t
(let ([x (* 12345678987654321 2)])
  (eqv? x x)) =&gt; #t

(eqv? #\a #\b) =&gt; #f
(eqv? #\a #\a) =&gt; #t
(let ([x (string-ref &quot;hi&quot; 0)])
  (eqv? x x)) =&gt; #t

(eqv? #t #t) =&gt; #t
(eqv? #f #f) =&gt; #t
(eqv? #t #f) =&gt; #f
(eqv? (null? &apos;()) #t) =&gt; #t
(eqv? (null? &apos;(a)) #f) =&gt; #t

(eqv? (cdr &apos;(a)) &apos;()) =&gt; #t

(eqv? &apos;a &apos;a) =&gt; #t
(eqv? &apos;a &apos;b) =&gt; #f
(eqv? &apos;a (string-&gt;symbol &quot;a&quot;)) =&gt; #t

(eqv? &apos;(a) &apos;(b)) =&gt; #f
(eqv? &apos;(a) &apos;(a)) =&gt; &#x672A;&#x5B9A;&#x4E49;
(let ([x &apos;(a . b)]) (eqv? x x)) =&gt; #t
(let ([x (cons &apos;a &apos;b)])
  (eqv? x x)) =&gt; #t
(eqv? (cons &apos;a &apos;b) (cons &apos;a &apos;b)) =&gt; #f

(eqv? &quot;abc&quot; &quot;cba&quot;) =&gt; #f
(eqv? &quot;abc&quot; &quot;abc&quot;) =&gt; &#x672A;&#x5B9A;&#x4E49;
(let ([x &quot;hi&quot;]) (eqv? x x)) =&gt; #t
(let ([x (string #\h #\i)]) (eqv? x x)) =&gt; #t
(eqv? (string #\h #\i)
      (string #\h #\i)) =&gt; #f

(eqv? &apos;#vu8(1) &apos;#vu8(1)) =&gt; &#x672A;&#x5B9A;&#x4E49;
(eqv? &apos;#vu8(1) &apos;#vu8(2)) =&gt; #f
(let ([x (make-bytevector 10 0)])
  (eqv? x x)) =&gt; #t
(let ([x (make-bytevector 10 0)])
  (eqv? x (make-bytevector 10 0))) =&gt; #f

(eqv? &apos;#(a) &apos;#(b)) =&gt; #f
(eqv? &apos;#(a) &apos;#(a)) =&gt; &#x672A;&#x5B9A;&#x4E49;
(let ([x &apos;#(a)]) (eqv? x x)) =&gt; #t
(let ([x (vector &apos;a)])
  (eqv? x x)) =&gt; #t
(eqv? (vector &apos;a) (vector &apos;a)) =&gt; #f

(eqv? car car) =&gt; #t
(eqv? car cdr) =&gt; #f
(let ([f (lambda (x) x)])
  (eqv? f f)) =&gt; #t
(let ([f (lambda () (lambda (x) x))])
  (eqv? (f) (f))) =&gt; &#x672A;&#x5B9A;&#x4E49;
(eqv? (lambda (x) x) (lambda (y) y)) =&gt; &#x672A;&#x5B9A;&#x4E49;

(let ([f (lambda (x)
           (lambda ()
             (set! x (+ x 1))
             x))])
  (eqv? (f 0) (f 0))) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(equal? obj1 obj2)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>obj1</code> &#x548C; <code>obj2</code> &#x5177;&#x6709;&#x76F8;&#x540C;&#x7684;&#x7ED3;&#x6784;&#x548C;&#x5185;&#x5BB9;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x5982;&#x679C;&#x4E24;&#x4E2A;&#x5BF9;&#x8C61;&#x57FA;&#x4E8E; <code>eqv?</code> &#x5224;&#x5B9A;&#x662F;&#x76F8;&#x7B49;&#x7684;&#xFF0C;&#x5219;&#x5B83;&#x4EEC;&#x662F;&#x76F8;&#x7B49;&#x7684;&#xFF0C;&#x5982; <code>string=?</code> &#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;<code>bytevector=?</code> &#x7684;&#x5B57;&#x8282;&#x5411;&#x91CF;&#xFF0C;<code>cars</code> &#x548C; <code>cdrs</code> &#x90FD;&#x76F8;&#x7B49;&#x7684;&#x70B9;&#x5BF9;&#xFF0C;&#x6216;&#x76F8;&#x540C;&#x957F;&#x5EA6;&#xFF0C;&#x4E14;&#x5BF9;&#x5E94;&#x5143;&#x7D20;&#x90FD;&#x76F8;&#x7B49;&#x7684;&#x5411;&#x91CF;&#x3002;</p>
<p>&#x201C;&#x5F53;&#x4E14;&#x4EC5;&#x5F53;&#x5B83;&#x7684;&#x6240;&#x6709;&#x5B9E;&#x53C2;&#x5C55;&#x5F00;&#xFF08;&#x53EF;&#x80FD;&#x4E3A;&#x65E0;&#x7A77;&#x7684;&#xFF09;&#x4E3A;&#x5E38;&#x89C4;&#x7684;&#x6811;&#xFF0C;&#x4E14;&#x4F5C;&#x4E3A;&#x6709;&#x5E8F;&#x6811;&#x5747;&#x76F8;&#x7B49;&#x65F6;&#x201D;&#xFF0C;&#x8981;&#x6C42;<code>equal?</code>&#x5373;&#x4F7F;&#x5BF9;&#x4E8E;&#x73AF;&#x72B6;&#x5B9E;&#x53C2;&#x4E5F;&#x8981;&#x7EC8;&#x6B62;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE; <code>#t</code>. &#x672C;&#x8D28;&#x4E0A;&#xFF0C;&#x5982;&#x679C;&#x4E24;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x7ED3;&#x6784;&#x4E0D;&#x80FD;&#x88AB;&#x70B9;&#x5BF9;&#x548C;&#x5411;&#x91CF;&#x8BBF;&#x95EE;&#x5668;&#x7684;&#x4EFB;&#x610F;&#x7EC4;&#x5408;&#xFF0C;&#x4EE5;&#x53CA;&#x6BD4;&#x8F83;&#x53F6;&#x8282;&#x70B9;&#x6570;&#x636E;&#x7684; <code>eqv?</code>, <code>string=?</code>, &#x548C; <code>bytevector=?</code> &#x8FC7;&#x7A0B;&#x533A;&#x5206;&#xFF0C;&#x5219;&#x4E24;&#x4E2A;&#x503C;&#x5728; <code>equal?</code> &#x7684;&#x610F;&#x4E49;&#x4E0A;&#x5C31;&#x662F;&#x7B49;&#x4EF7;&#x7684;&#x3002;</p>
<p>&#x5982;&#x4F55;&#x9AD8;&#x6548;&#x5B9E;&#x73B0; equal? &#x662F;&#x5F88;&#x68D8;&#x624B;&#x7684;&#xFF0C;&#x800C;&#x5373;&#x4F7F;&#x5728;&#x4E00;&#x4E2A;&#x597D;&#x7684;&#x5B9E;&#x73B0;&#x4E2D;&#xFF0C;&#x5B83;&#x4E5F;&#x5F88;&#x53EF;&#x80FD;&#x6BD4; eqv? &#x6216; eq? &#x6D88;&#x8017;&#x66F4;&#x5927;&#x3002;</p>
<pre><code>(equal? &apos;a 3) =&gt; #f
(equal? #t &apos;t) =&gt; #f
(equal? &quot;abc&quot; &apos;abc) =&gt; #f
(equal? &quot;hi&quot; &apos;(hi)) =&gt; #f
(equal? #f &apos;()) =&gt; #f

(equal? 9/2 7/2) =&gt; #f
(equal? 3.4 53344) =&gt; #f
(equal? 3 3.0) =&gt; #f
(equal? 1/3 #i1/3) =&gt; #f

(equal? 9/2 9/2) =&gt; #t
(equal? 3.4 (+ 3.0 .4)) =&gt; #t
(let ([x (* 12345678987654321 2)])
  (equal? x x)) =&gt; #t

(equal? #\a #\b) =&gt; #f
(equal? #\a #\a) =&gt; #t
(let ([x (string-ref &quot;hi&quot; 0)])
  (equal? x x)) =&gt; #t

(equal? #t #t) =&gt; #t
(equal? #f #f) =&gt; #t
(equal? #t #f) =&gt; #f
(equal? (null? &apos;()) #t) =&gt; #t
(equal? (null? &apos;(a)) #f) =&gt; #t

(equal? (cdr &apos;(a)) &apos;()) =&gt; #t

(equal? &apos;a &apos;a) =&gt; #t
(equal? &apos;a &apos;b) =&gt; #f
(equal? &apos;a (string-&gt;symbol &quot;a&quot;)) =&gt; #t

(equal? &apos;(a) &apos;(b)) =&gt; #f
(equal? &apos;(a) &apos;(a)) =&gt; #t
(let ([x &apos;(a . b)]) (equal? x x)) =&gt; #t
(let ([x (cons &apos;a &apos;b)])
  (equal? x x)) =&gt; #t
(equal? (cons &apos;a &apos;b) (cons &apos;a &apos;b)) =&gt; #t

(equal? &quot;abc&quot; &quot;cba&quot;) =&gt; #f
(equal? &quot;abc&quot; &quot;abc&quot;) =&gt; #t
(let ([x &quot;hi&quot;]) (equal? x x)) =&gt; #t
(let ([x (string #\h #\i)]) (equal? x x)) =&gt; #t
(equal? (string #\h #\i)
        (string #\h #\i)) =&gt; #t

(equal? &apos;#vu8(1) &apos;#vu8(1)) =&gt; #t
(equal? &apos;#vu8(1) &apos;#vu8(2)) =&gt; #f
(let ([x (make-bytevector 10 0)])
  (equal? x x)) =&gt; #t
(let ([x (make-bytevector 10 0)])
  (equal? x (make-bytevector 10 0))) =&gt; #t

(equal? &apos;#(a) &apos;#(b)) =&gt; #f
(equal? &apos;#(a) &apos;#(a)) =&gt; #t
(let ([x &apos;#(a)]) (equal? x x)) =&gt; #t
(let ([x (vector &apos;a)])
  (equal? x x)) =&gt; #t
(equal? (vector &apos;a) (vector &apos;a)) =&gt; #t

(equal? car car) =&gt; #t
(equal? car cdr) =&gt; #f
(let ([f (lambda (x) x)])
  (equal? f f)) =&gt; #t
(let ([f (lambda () (lambda (x) x))])
  (equal? (f) (f))) =&gt; &#x672A;&#x5B9A;&#x4E49;
(equal? (lambda (x) x) (lambda (y) y)) =&gt; &#x672A;&#x5B9A;&#x4E49;

(let ([f (lambda (x)
           (lambda ()
             (set! x (+ x 1))
             x))])
  (equal? (f 0) (f 0))) =&gt; #f

(equal?
  (let ([x (cons &apos;x &apos;x)])
    (set-car! x x)
    (set-cdr! x x)
    x)
  (let ([x (cons &apos;x &apos;x)])
    (set-car! x x)
    (set-cdr! x x)
    (cons x x))) =&gt; #t
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(boolean? obj)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>obj</code> &#x662F; <code>#t</code> &#x6216; <code>#f</code>&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p><code>boolean?</code> &#x7B49;&#x4EF7;&#x4E8E; <code>(lambda (x) (or (eq? x #t) (eq? x #f)))</code>.</p>
<pre><code>(boolean? #t) =&gt; #t
(boolean? #f) =&gt; #t
(or (boolean? &apos;t) (boolean? &apos;())) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(null? obj)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>obj</code> &#x662F;&#x7A7A;&#x5217;&#x8868;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p><code>null?</code> &#x7B49;&#x4EF7;&#x4E8E; <code>(lambda (x) (eq? x &apos;()))</code>.</p>
<pre><code>(null? &apos;()) =&gt; #t
(null? &apos;(a)) =&gt; #f
(null? (cdr &apos;(a))) =&gt; #t
(null? 3) =&gt; #f
(null? #f) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(pair? obj)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>obj</code> &#x662F;&#x70B9;&#x5BF9;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<pre><code>(pair? &apos;(a b c)) =&gt; #t
(pair? &apos;(3 . 4)) =&gt; #t
(pair? &apos;()) =&gt; #f
(pair? &apos;#(a b)) =&gt; #f
(pair? 3) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(number? obj)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>obj</code> &#x662F;&#x6570;&#x5B57;&#x5BF9;&#x8C61;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x8FC7;&#x7A0B;: <code>(complex? obj)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>obj</code> &#x662F;&#x590D;&#x6570;&#x5BF9;&#x8C61;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x8FC7;&#x7A0B;: <code>(real? obj)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>obj</code> &#x662F;&#x5B9E;&#x6570;&#x5BF9;&#x8C61;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x8FC7;&#x7A0B;: <code>(rational? obj)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>obj</code> &#x662F;&#x6709;&#x7406;&#x6570;&#x5BF9;&#x8C61;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x8FC7;&#x7A0B;: <code>(integer? obj)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>obj</code> &#x662F;&#x6574;&#x6570;&#x5BF9;&#x8C61;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x8FD9;&#x4E9B;&#x8C13;&#x8BCD;&#x5F62;&#x6210;&#x4E86;&#x4E00;&#x4E2A;&#x5C42;&#x6B21;&#x7ED3;&#x6784;&#xFF1A;&#x4EFB;&#x4F55;&#x6574;&#x6570;&#x90FD;&#x662F;&#x6709;&#x7406;&#x6570;&#xFF0C;&#x4EFB;&#x4F55;&#x6709;&#x7406;&#x6570;&#x90FD;&#x662F;&#x5B9E;&#x6570;&#xFF0C;&#x4EFB;&#x4F55;&#x5B9E;&#x6570;&#x90FD;&#x662F;&#x590D;&#x6570;&#xFF0C;&#x800C;&#x4EFB;&#x4F55;&#x590D;&#x6570;&#x90FD;&#x662F;&#x6570;&#x5B57;&#x3002;&#x5927;&#x591A;&#x6570;&#x5B9E;&#x73B0;&#x4E0D;&#x63D0;&#x4F9B;&#x65E0;&#x7406;&#x6570;&#x7684;&#x5185;&#x90E8;&#x8868;&#x793A;&#xFF0C;&#x6240;&#x4EE5;&#x6240;&#x6709;&#x5B9E;&#x6570;&#x901A;&#x5E38;&#x4E5F;&#x662F;&#x6709;&#x7406;&#x6570;&#x3002;</p>
<p>&#x5BF9;&#x4E8E;&#x4EE5;&#x4E0D;&#x7CBE;&#x786E;&#x7684; 0 &#x4E3A;&#x865A;&#x90E8;&#x7684;&#x590D;&#x6570;&#xFF0C;&#x8C13;&#x8BCD; <code>real?</code>, <code>rational?</code>, &#x548C; <code>integer?</code> &#x4E0D;&#x4F1A;&#x628A;&#x5B83;&#x8BC6;&#x522B;&#x4E3A;&#x5B9E;&#x6570;&#xFF0C;&#x6709;&#x7406;&#x6570;&#x6216;&#x6574;&#x6570;&#x3002;</p>
<pre><code>(integer? 1901) =&gt; #t
(rational? 1901) =&gt; #t
(real? 1901) =&gt; #t
(complex? 1901) =&gt; #t
(number? 1901) =&gt; #t

(integer? -3.0) =&gt; #t
(rational? -3.0) =&gt; #t
(real? -3.0) =&gt; #t
(complex? -3.0) =&gt; #t
(number? -3.0) =&gt; #t

(integer? 7+0i) =&gt; #t
(rational? 7+0i) =&gt; #t
(real? 7+0i) =&gt; #t
(complex? 7+0i) =&gt; #t
(number? 7+0i) =&gt; #t

(integer? -2/3) =&gt; #f
(rational? -2/3) =&gt; #t
(real? -2/3) =&gt; #t
(complex? -2/3) =&gt; #t
(number? -2/3) =&gt; #t

(integer? -2.345) =&gt; #f
(rational? -2.345) =&gt; #t
(real? -2.345) =&gt; #t
(complex? -2.345) =&gt; #t
(number? -2.345) =&gt; #t

(integer? 7.0+0.0i) =&gt; #f
(rational? 7.0+0.0i) =&gt; #f
(real? 7.0+0.0i) =&gt; #f
(complex? 7.0+0.0i) =&gt; #t
(number? 7.0+0.0i) =&gt; #t

(integer? 3.2-2.01i) =&gt; #f
(rational? 3.2-2.01i) =&gt; #f
(real? 3.2-2.01i) =&gt; #f
(complex? 3.2-2.01i) =&gt; #t
(number? 3.2-2.01i) =&gt; #t

(integer? &apos;a) =&gt; #f
(rational? &apos;(a b c)) =&gt; #f
(real? &quot;3&quot;) =&gt; #f
(complex? &apos;#(1 2)) =&gt; #f
(number? #\a) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(real-valued? obj)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>obj</code> &#x662F;&#x5B9E;&#x6570;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x8FC7;&#x7A0B;: <code>(rational-valued? obj)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>obj</code> &#x662F;&#x6709;&#x7406;&#x6570;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x8FC7;&#x7A0B;: <code>(integer-valued? obj)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>obj</code> &#x662F;&#x6574;&#x6570;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x8FD9;&#x4E9B;&#x8C13;&#x8BCD;&#x7C7B;&#x4F3C;&#x4E8E; <code>real?</code>, <code>rational?</code>, &#x548C; <code>integer?</code>, &#x4F46;&#x628A;&#x4EE5;&#x4E0D;&#x7CBE;&#x786E;&#x7684; 0 &#x4E3A;&#x865A;&#x90E8;&#x7684;&#x590D;&#x6570;&#x5F53;&#x4F5C;&#x5B9E;&#x6570;&#xFF0C;&#x6709;&#x7406;&#x6570;&#x6216;&#x6574;&#x6570;&#x3002;</p>
<pre><code>(integer-valued? 1901) =&gt; #t
(rational-valued? 1901) =&gt; #t
(real-valued? 1901) =&gt; #t

(integer-valued? -3.0) =&gt; #t
(rational-valued? -3.0) =&gt; #t
(real-valued? -3.0) =&gt; #t

(integer-valued? 7+0i) =&gt; #t
(rational-valued? 7+0i) =&gt; #t
(real-valued? 7+0i) =&gt; #t

(integer-valued? -2/3) =&gt; #f
(rational-valued? -2/3) =&gt; #t
(real-valued? -2/3) =&gt; #t

(integer-valued? -2.345) =&gt; #f
(rational-valued? -2.345) =&gt; #t
(real-valued? -2.345) =&gt; #t

(integer-valued? 7.0+0.0i) =&gt; #t
(rational-valued? 7.0+0.0i) =&gt; #t
(real-valued? 7.0+0.0i) =&gt; #t

(integer-valued? 3.2-2.01i) =&gt; #f
(rational-valued? 3.2-2.01i) =&gt; #f
(real-valued? 3.2-2.01i) =&gt; #f
</code></pre><p>&#x548C; <code>real?</code>, <code>rational?</code>, &#x53CA; <code>integer?</code> &#x4E00;&#x6837;&#xFF0C;&#x8FD9;&#x4E9B;&#x8C13;&#x8BCD;&#x5BF9;&#x6240;&#x6709;&#x975E;&#x6570;&#x5B57;&#x503C;&#x8FD4;&#x56DE; <code>#f</code>.</p>
<pre><code>(integer-valued? &apos;a) =&gt; #f
(rational-valued? &apos;(a b c)) =&gt; #f
(real-valued? &quot;3&quot;) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(char? obj)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>obj</code> &#x662F;&#x5B57;&#x7B26;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<pre><code>(char? &apos;a) =&gt; #f
(char? 97) =&gt; #f
(char? #\a) =&gt; #t
(char? &quot;a&quot;) =&gt; #f
(char? (string-ref (make-string 1) 0)) =&gt; #t
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(string? obj)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>obj</code> &#x662F;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<pre><code>(string? &quot;hi&quot;) =&gt; #t
(string? &apos;hi) =&gt; #f
(string? #\h) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(vector? obj)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>obj</code> &#x662F;&#x5411;&#x91CF;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<pre><code>(vector? &apos;#()) =&gt; #t
(vector? &apos;#(a b c)) =&gt; #t
(vector? (vector &apos;a &apos;b &apos;c)) =&gt; #t
(vector? &apos;()) =&gt; #f
(vector? &apos;(a b c)) =&gt; #f
(vector? &quot;abc&quot;) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(symbol? obj)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>obj</code> &#x662F;&#x7B26;&#x53F7;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<pre><code>(symbol? &apos;t) =&gt; #t
(symbol? &quot;t&quot;) =&gt; #f
(symbol? &apos;(t)) =&gt; #f
(symbol? #\t) =&gt; #f
(symbol? 3) =&gt; #f
(symbol? #t) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(procedure? obj)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>obj</code> &#x662F;&#x8FC7;&#x7A0B;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<pre><code>(procedure? car) =&gt; #t
(procedure? &apos;car) =&gt; #f
(procedure? (lambda (x) x)) =&gt; #t
(procedure? &apos;(lambda (x) x)) =&gt; #f
(call/cc procedure?) =&gt; #t
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bytevector? obj)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>obj</code> &#x662F;&#x5B57;&#x8282;&#x5411;&#x91CF;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs bytevectors), (rnrs)</p>
<pre><code>(bytevector? #vu8()) =&gt; #t
(bytevector? &apos;#()) =&gt; #f
(bytevector? &quot;abc&quot;) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(hashtable? obj)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>obj</code> &#x662F;&#x54C8;&#x5E0C;&#x8868;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs hashtables), (rnrs)</p>
<pre><code>(hashtable? (make-eq-hashtable)) =&gt; #t
(hashtable? &apos;(not a hash table)) =&gt; #f
</code></pre><h2 id="63-&#x5217;&#x8868;&#x548C;&#x70B9;&#x5BF9;">6.3. &#x5217;&#x8868;&#x548C;&#x70B9;&#x5BF9;</h2>
<p>&#x70B9;&#x5BF9;&#xFF0C;&#x6216;&#x79F0; <em>cons cell</em>, &#x662F; Scheme &#x7ED3;&#x6784;&#x5316;&#x5BF9;&#x8C61;&#x7C7B;&#x578B;&#x7684;&#x57FA;&#x7840;&#x3002;&#x70B9;&#x5BF9;&#x6700;&#x5E38;&#x89C1;&#x7684;&#x7528;&#x6CD5;&#x662F;&#x6784;&#x9020;&#x5217;&#x8868;&#xFF0C;&#x5217;&#x8868;&#x662F;&#x70B9;&#x5BF9;&#x7684;&#x6709;&#x5E8F;&#x5E8F;&#x5217;&#xFF0C;&#x901A;&#x8FC7; <code>cdr</code> &#x5B57;&#x6BB5;&#x4E00;&#x4E2A;&#x63A5;&#x4E00;&#x4E2A;&#x94FE;&#x63A5;&#x8D77;&#x6765;&#x3002;&#x5217;&#x8868;&#x5143;&#x7D20;&#x5360;&#x636E;&#x70B9;&#x5BF9;&#x7684; <code>car</code> &#x5B57;&#x6BB5;&#x3002;&#x5728;&#x4E00;&#x4E2A;&#x5B8C;&#x5168;&#x5217;&#x8868;&#x4E2D;&#xFF0C;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x70B9;&#x5BF9;&#x7684; <code>cdr</code> &#x5B57;&#x6BB5;&#x662F;&#x7A7A;&#x5217;&#x8868;&#xFF0C;(); &#x5728;&#x4E00;&#x4E2A;&#x4E0D;&#x5B8C;&#x5168;&#x5217;&#x8868;&#x4E2D;&#xFF0C;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x70B9;&#x5BF9;&#x7684; <code>cdr</code> &#x5B57;&#x6BB5;&#x53EF;&#x4EE5;&#x662F;&#x9664;()&#x4EE5;&#x5916;&#x7684;&#x4EFB;&#x4F55;&#x5BF9;&#x8C61;&#x3002;</p>
<p>&#x70B9;&#x5BF9;&#x53EF;&#x7528;&#x4E8E;&#x6784;&#x9020;&#x4E8C;&#x53C9;&#x6811;&#x3002;&#x6811;&#x7ED3;&#x6784;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x70B9;&#x5BF9;&#x662F;&#x4E8C;&#x53C9;&#x6811;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x5185;&#x90E8;&#x8282;&#x70B9;&#xFF1B;&#x5B83;&#x7684; <code>car</code> &#x548C; <code>cdr</code> &#x662F;&#x8282;&#x70B9;&#x7684;&#x5B50;&#x8282;&#x70B9;&#x3002;</p>
<p>&#x5B8C;&#x5168;&#x5217;&#x8868;&#x6253;&#x5370;&#x4E3A;&#x5706;&#x62EC;&#x53F7;&#x4E2D;&#x7531;&#x7A7A;&#x767D;&#x9694;&#x5F00;&#x7684;&#x5BF9;&#x8C61;&#x5E8F;&#x5217;&#x3002;&#x5339;&#x914D;&#x7684;&#x65B9;&#x62EC;&#x53F7;( [ ] )&#x53EF;&#x7528;&#x4E8E;&#x66FF;&#x4EE3;&#x5706;&#x62EC;&#x53F7;&#x3002;&#x4F8B;&#x5982;&#xFF0C; <code>(1 2 3)</code> &#x548C; <code>(a [nested list])</code> &#x662F;&#x5B8C;&#x5168;&#x5217;&#x8868;&#x3002;&#x7A7A;&#x5217;&#x8868;&#x5199;&#x4F5C; ().</p>
<p>&#x4E0D;&#x5B8C;&#x5168;&#x5217;&#x8868;&#x548C;&#x6811;&#x9700;&#x8981;&#x7A0D;&#x590D;&#x6742;&#x4E00;&#x4E9B;&#x7684;&#x8BED;&#x6CD5;&#x3002;&#x4E00;&#x4E2A;&#x5355;&#x72EC;&#x7684;&#x70B9;&#x5BF9;&#x5199;&#x4F5C;&#x7531;&#x7A7A;&#x767D;&#x548C;&#x4E00;&#x4E2A;&#x70B9;&#x5206;&#x9694;&#x7684;&#x4E24;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;<code>(a . b)</code>. &#x8FD9;&#x88AB;&#x79F0;&#x4E3A;&#x70B9;&#x5BF9;&#x8BB0;&#x6CD5;&#x3002;&#x4E0D;&#x5B8C;&#x5168;&#x5217;&#x8868;&#x548C;&#x6811;&#x4E5F;&#x4EE5;&#x70B9;&#x5BF9;&#x8BB0;&#x6CD5;&#x4E66;&#x5199;&#xFF1B;&#x70B9;&#x5728;&#x9700;&#x8981;&#x7684;&#x65F6;&#x5019;&#x663E;&#x793A;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;<code>(1 2 3 . 4)</code> &#x6216; <code>((1 . 2) . 3)</code>. &#x5B8C;&#x5168;&#x5217;&#x8868;&#x4E5F;&#x53EF;&#x4EE5;&#x5199;&#x4F5C;&#x70B9;&#x5BF9;&#x7684;&#x5F62;&#x5F0F;&#x3002;&#x4F8B;&#x5982;&#xFF0C; <code>(1 2 3)</code> &#x4E5F;&#x53EF;&#x4EE5;&#x5199;&#x4F5C; <code>(1 . (2 . (3 . ())))</code>.</p>
<p>&#x901A;&#x8FC7;&#x4F7F;&#x7528; <code>set-car!</code> &#x6216; <code>set-cdr!</code> &#x7834;&#x574F;&#x6027;&#x5730;&#x66F4;&#x6539;&#x70B9;&#x5BF9;&#x7684; <code>car</code> &#x6216; <code>cdr</code> &#x5B57;&#x6BB5;&#xFF0C;&#x53EF;&#x4EE5;&#x521B;&#x9020;&#x5FAA;&#x73AF;&#x5217;&#x8868;&#x6216;&#x73AF;&#x72B6;&#x56FE;&#x3002;&#x8FD9;&#x7C7B;&#x5217;&#x8868;&#x4E0D;&#x662F;&#x5B8C;&#x5168;&#x5217;&#x8868;&#x3002;</p>
<p>&#x63A5;&#x53D7;&#x4E00;&#x4E2A;&#x5217;&#x8868;&#x5B9E;&#x53C2;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x53EA;&#x5728;&#x4E0B;&#x5217;&#x60C5;&#x51B5;&#x4E0B;&#x9700;&#x8981;&#x68C0;&#x67E5;&#x5217;&#x8868;&#x662F;&#x5426;&#x662F;&#x4E0D;&#x5B8C;&#x5168;&#x7684;&#xFF1A;&#x5B83;&#x4EEC;&#x5BF9;&#x5217;&#x8868;&#x7684;&#x904D;&#x5386;&#x8DB3;&#x591F;&#x6DF1;&#xFF0C;(a) &#x5C1D;&#x8BD5;&#x64CD;&#x4F5C;&#x4E00;&#x4E2A;&#x975E;&#x5217;&#x8868;&#x7684;&#x5C3E;&#x90E8;&#xFF0C;&#x6216; (b) &#x57FA;&#x4E8E;&#x73AF;&#x8FDB;&#x884C;&#x65E0;&#x9650;&#x5FAA;&#x73AF;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C; member &#x627E;&#x5230;&#x4E86;&#x8981;&#x627E;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x5219;&#x5B83;&#x4E0D;&#x9700;&#x8981;&#x68C0;&#x67E5;&#x5217;&#x8868;&#x662F;&#x5426;&#x662F;&#x4E0D;&#x5B8C;&#x5168;&#x7684;&#xFF0C;&#x800C; list-ref &#x6C38;&#x8FDC;&#x4E0D;&#x9700;&#x8981;&#x68C0;&#x6D4B;&#x5217;&#x8868;&#x662F;&#x5426;&#x4E3A;&#x73AF;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x7684;&#x9012;&#x5F52;&#x5DF2;&#x7ECF;&#x901A;&#x8FC7;&#x5B9E;&#x53C2; index &#x9650;&#x5B9A;&#x4E86;&#x754C;&#x9650;&#x3002;</p>
<p>&#x8FC7;&#x7A0B;: <code>(cons obj1 obj2)</code></p>
<p>&#x8FD4;&#x56DE;: &#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x70B9;&#x5BF9;&#xFF0C;&#x5B83;&#x7684; <code>car</code> &#x548C; <code>cdr</code> &#x662F; <code>obj1</code> &#x548C; <code>obj2</code></p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p><code>cons</code> &#x662F;&#x70B9;&#x5BF9;&#x6784;&#x9020;&#x8FC7;&#x7A0B;&#x3002;<code>obj1</code> &#x6210;&#x4E3A;&#x65B0;&#x70B9;&#x5BF9;&#x7684; <code>car</code>&#xFF0C; &#x800C; <code>obj2</code> &#x6210;&#x4E3A;&#x65B0;&#x70B9;&#x5BF9;&#x7684; <code>cdr</code>.</p>
<pre><code>(cons &apos;a &apos;()) =&gt; (a)
(cons &apos;a &apos;(b c)) =&gt; (a b c)
(cons 3 4) =&gt; (3 . 4)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(car pair)</code></p>
<p>&#x8FD4;&#x56DE;: &#x70B9;&#x5BF9;&#x7684; car</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x7A7A;&#x5217;&#x8868;&#x4E0D;&#x662F;&#x70B9;&#x5BF9;&#xFF0C;&#x6240;&#x4EE5;&#x5B9E;&#x53C2;&#x4E0D;&#x80FD;&#x662F;&#x7A7A;&#x5217;&#x8868;&#x3002;</p>
<pre><code>(car &apos;(a)) =&gt; a
(car &apos;(a b c)) =&gt; a
(car (cons 3 4)) =&gt; 3
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(cdr pair)</code></p>
<p>&#x8FD4;&#x56DE;: &#x70B9;&#x5BF9;&#x7684; cdr</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x7A7A;&#x5217;&#x8868;&#x4E0D;&#x662F;&#x70B9;&#x5BF9;&#xFF0C;&#x6240;&#x4EE5;&#x5B9E;&#x53C2;&#x4E0D;&#x80FD;&#x662F;&#x7A7A;&#x5217;&#x8868;&#x3002;</p>
<pre><code>(cdr &apos;(a)) =&gt; ()
(cdr &apos;(a b c)) =&gt; (b c)
(cdr (cons 3 4)) =&gt; 4
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(set-car! pair obj)</code></p>
<p>&#x8FD4;&#x56DE;: &#x672A;&#x5B9A;&#x4E49;</p>
<p>&#x5E93;: (rnrs mutable-pairs)</p>
<p>set-car! &#x628A;&#x70B9;&#x5BF9;&#x7684; car &#x66F4;&#x6539;&#x4E3A; obj.</p>
<pre><code>(let ([x (list &apos;a &apos;b &apos;c)])
  (set-car! x 1)
  x) =&gt; (1 b c)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(set-cdr! pair obj)</code></p>
<p>&#x8FD4;&#x56DE;: &#x672A;&#x5B9A;&#x4E49;</p>
<p>&#x5E93;: (rnrs mutable-pairs)</p>
<p><code>set-cdr!</code> &#x628A;&#x70B9;&#x5BF9;&#x7684; <code>cdr</code> &#x66F4;&#x6539;&#x4E3A; <code>obj</code>.</p>
<pre><code>(let ([x (list &apos;a &apos;b &apos;c)])
  (set-cdr! x 1)
  x) =&gt; (a . 1)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(caar pair)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(cadr pair)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(cddddr pair)</code></p>
<p>&#x8FD4;&#x56DE;: &#x70B9;&#x5BF9;&#x7684; caar, cadr, &#x2026;, &#x6216; cddddr</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x8FD9;&#x4E9B;&#x8FC7;&#x7A0B;&#x4EE5;&#x81F3;&#x591A;&#x56DB;&#x4E2A; <code>cars</code> &#x548C; <code>cdrs</code> &#x7684;&#x7EC4;&#x5408;&#x5B9A;&#x4E49;&#x3002;c &#x548C; r &#x4E4B;&#x95F4;&#x7684; a &#x548C; d &#x4EE3;&#x8868;&#x4E86;&#x5BF9; <code>car</code> &#x6216; <code>cdr</code> &#x7684;&#x8C03;&#x7528;&#xFF0C;&#x987A;&#x5E8F;&#x4E3A;&#x4ECE;&#x53F3;&#x5230;&#x5DE6;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5E94;&#x7528;&#x4E8E;&#x4E00;&#x4E2A;&#x70B9;&#x5BF9;&#x7684;&#x8FC7;&#x7A0B; <code>cadr</code>&#xFF0C;&#x8FD4;&#x56DE;&#x70B9;&#x5BF9;&#x7684; <code>cdr</code> &#x7684; <code>car</code>&#xFF0C;&#x5176;&#x7B49;&#x4EF7;&#x4E8E; <code>(lambda (x) (car (cdr x)))</code>.</p>
<pre><code>(caar &apos;((a))) =&gt; a
(cadr &apos;(a b c)) =&gt; b
(cdddr &apos;(a b c d)) =&gt; (d)
(cadadr &apos;(a (b c))) =&gt; c
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(list obj ...)</code></p>
<p>&#x8FD4;&#x56DE;: <code>obj</code> &#x2026; &#x7EC4;&#x6210;&#x7684;&#x5217;&#x8868;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p><code>list</code> &#x7B49;&#x4EF7;&#x4E8E; <code>(lambda x x)</code>.</p>
<pre><code>(list) =&gt; ()
(list 1 2 3) =&gt; (1 2 3)
(list 3 2 1) =&gt; (3 2 1)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(cons* obj ... final-obj)</code></p>
<p>&#x8FD4;&#x56DE;: <code>obj</code> &#x2026; &#x7EC4;&#x6210;&#x7684;&#x5217;&#x8868;&#xFF0C;&#x4EE5; <code>final-obj</code> &#x7ED3;&#x675F;</p>
<p>&#x5E93;: (rnrs lists), (rnrs)</p>
<p>&#x5982;&#x679C;&#x7701;&#x7565; <code>obj</code> &#x2026;, &#x5219;&#x7ED3;&#x679C;&#x5C31;&#x662F; <code>final-obj</code>. &#x4E0D;&#x7136;&#xFF0C;&#x5C31;&#x548C; <code>list</code> &#x4E00;&#x6837;&#xFF0C;&#x6784;&#x9020;&#x51FA;&#x4E00;&#x4E2A; <code>obj</code> &#x2026; &#x7EC4;&#x6210;&#x7684;&#x5217;&#x8868;&#xFF0C;&#x53EA;&#x662F;&#x6700;&#x540E;&#x7684; <code>cdr</code> &#x5B57;&#x6BB5;&#x7531; <code>final-obj</code> &#x66FF;&#x4EE3;&#x4E86; (). &#x5982;&#x679C; <code>final-obj</code> &#x4E0D;&#x662F;&#x5217;&#x8868;&#xFF0C;&#x5219;&#x7ED3;&#x679C;&#x662F;&#x4E00;&#x4E2A;&#x4E0D;&#x5B8C;&#x5168;&#x5217;&#x8868;&#x3002;</p>
<pre><code>(cons* &apos;()) =&gt; ()
(cons* &apos;(a b)) =&gt; (a b)
(cons* &apos;a &apos;b &apos;c) =&gt; (a b . c)
(cons* &apos;a &apos;b &apos;(c d)) =&gt; (a b c d)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(list? obj)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>obj</code> &#x662F;&#x5B8C;&#x5168;&#x5217;&#x8868;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x5BF9;&#x4E8E;&#x6240;&#x6709;&#x4E0D;&#x5B8C;&#x5168;&#x5217;&#x8868;&#xFF0C;<code>list?</code> &#x4E00;&#x5B9A;&#x8FD4;&#x56DE; <code>#f</code>, &#x5305;&#x62EC;&#x73AF;&#x72B6;&#x5217;&#x8868;&#x3002;<code>list?</code> &#x7684;&#x5B9A;&#x4E49;&#x53C2;&#x89C1;&#x7B2C; 67 &#x9875;&#x3002;</p>
<pre><code>(list? &apos;()) =&gt; #t
(list? &apos;(a b c)) =&gt; #t
(list? &apos;a) =&gt; #f
(list? &apos;(3 . 4)) =&gt; #f
(list? 3) =&gt; #f
(let ([x (list &apos;a &apos;b &apos;c)])
  (set-cdr! (cddr x) x)
  (list? x)) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(length list)</code></p>
<p>&#x8FD4;&#x56DE;: <code>list</code> &#x4E2D;&#x7684;&#x5143;&#x7D20;&#x6570;&#x91CF;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p><code>length</code> &#x53EF;&#x4F9D;&#x5982;&#x4E0B;&#x5B9A;&#x4E49;&#xFF0C;&#x4F7F;&#x7528; 67 &#x9875;&#x5B9A;&#x4E49; <code>list?</code> &#x7684;&#x9F9F;&#x5154;&#x8D5B;&#x8DD1;&#x7B97;&#x6CD5;&#x7684;&#x4FEE;&#x6539;&#x7248;&#x672C;&#x3002;</p>
<pre><code>(define length
  (lambda (x)
    (define improper-list
      (lambda ()
        (assertion-violation &apos;length &quot;not a proper list&quot; x)))

    (let f ([h x] [t x] [n 0])
      (if (pair? h)
          (let ([h (cdr h)])
            (if (pair? h)
                (if (eq? h t)
                    (improper-list)
                    (f (cdr h) (cdr t) (+ n 2)))
                (if (null? h)
                    (+ n 1)
                    (improper-list))))
          (if (null? h)
              n
              (improper-list))))))

(length &apos;()) =&gt; 0
(length &apos;(a b c)) =&gt; 3
(length &apos;(a b . c)) =&gt; exception
(length
 (let ([ls (list &apos;a &apos;b)])
   (set-cdr! (cdr ls) ls) =&gt; exception
   ls))
(length
 (let ([ls (list &apos;a &apos;b)])
   (set-car! (cdr ls) ls) =&gt; 2
   ls))
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(list-ref list n)</code></p>
<p>&#x8FD4;&#x56DE;: <code>list</code> &#x7684;&#x7B2C; <code>n</code> &#x4E2A;&#x5143;&#x7D20;&#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p><code>n</code> &#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x975E;&#x8D1F;&#x6574;&#x6570;&#xFF0C;&#x4E14;&#x5C0F;&#x4E8E; <code>list</code> &#x7684;&#x957F;&#x5EA6;&#x3002;&#x4E0D;&#x5E26;&#x6709;&#x9519;&#x8BEF;&#x68C0;&#x67E5;&#x7684; <code>list-ref</code> &#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#x3002;</p>
<pre><code>(define list-ref
  (lambda (ls n)
    (if (= n 0)
        (car ls)
        (list-ref (cdr ls) (- n 1)))))

(list-ref &apos;(a b c) 0) =&gt; a
(list-ref &apos;(a b c) 1) =&gt; b
(list-ref &apos;(a b c) 2) =&gt; c
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(list-tail list n)</code></p>
<p>&#x8FD4;&#x56DE;: list &#x7684;&#x7B2C; n &#x4E2A;&#x5C3E;&#x90E8;&#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>n &#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x975E;&#x8D1F;&#x6574;&#x6570;&#xFF0C;&#x4E14;&#x5C0F;&#x4E8E;&#x7B49;&#x4E8E; list &#x7684;&#x957F;&#x5EA6;&#x3002;&#x7ED3;&#x679C;&#x4E0D;&#x662F;&#x62F7;&#x8D1D;&#xFF1B;&#x8FD4;&#x56DE;&#x7684;&#x5C3E;&#x6BB5; eq? &#x4E8E; list &#x7684;&#x7B2C; n &#x4E2A; cdr&#xFF08;&#x6216; list &#x672C;&#x8EAB;&#xFF0C;&#x5982;&#x679C; n &#x4E3A; 0&#xFF09;&#x3002;</p>
<p>&#x4E0D;&#x5E26;&#x6709;&#x9519;&#x8BEF;&#x68C0;&#x67E5;&#x7684; list-tail &#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#x3002;</p>
<pre><code>(define list-tail
  (lambda (ls n)
    (if (= n 0)
        ls
        (list-tail (cdr ls) (- n 1)))))

(list-tail &apos;(a b c) 0) =&gt; (a b c)
(list-tail &apos;(a b c) 2) =&gt; (c)
(list-tail &apos;(a b c) 3) =&gt; ()
(list-tail &apos;(a b c . d) 2) =&gt; (c . d)
(list-tail &apos;(a b c . d) 3) =&gt; d
(let ([x (list 1 2 3)])
  (eq? (list-tail x 2)
       (cddr x))) =&gt; #t
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(append)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(append list ... obj)</code></p>
<p>&#x8FD4;&#x56DE;: &#x8F93;&#x5165;&#x5217;&#x8868;&#x7684;&#x4E32;&#x8054;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>append &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5217;&#x8868;&#xFF0C;&#x5176;&#x4E2D;&#x5143;&#x7D20;&#x4F9D;&#x6B21;&#x4E3A;&#xFF1A;&#x7B2C;&#x4E00;&#x4E2A;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x7B2C;&#x4E09;&#x4E2A;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x7B49;&#x7B49;&#x3002;&#x5BF9;&#x4E8E;&#x6240;&#x6709;&#x5B9E;&#x53C2;&#xFF0C;&#x65B0;&#x5217;&#x8868;&#x7531;&#x65B0;&#x751F;&#x6210;&#x7684;&#x70B9;&#x5BF9;&#x6784;&#x6210;&#xFF0C;&#x9664;&#x4E86;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5B9E;&#x53C2;&#xFF1B;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5B9E;&#x53C2;&#xFF08;&#x4E0D;&#x5FC5;&#x662F;&#x5217;&#x8868;&#xFF09;&#x88AB;&#x76F4;&#x63A5;&#x653E;&#x7F6E;&#x4E8E;&#x65B0;&#x7ED3;&#x6784;&#x7684;&#x672B;&#x5C3E;&#x3002;&#x4E0D;&#x5E26;&#x6709;&#x9519;&#x8BEF;&#x68C0;&#x67E5;&#x7684;&#x7684; append &#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#x3002;</p>
<pre><code>(define append
  (lambda args
    (let f ([ls &apos;()] [args args])
      (if (null? args)
          ls
          (let g ([ls ls])
            (if (null? ls)
                (f (car args) (cdr args))
                (cons (car ls) (g (cdr ls)))))))))

(append &apos;(a b c) &apos;()) =&gt; (a b c)
(append &apos;() &apos;(a b c)) =&gt; (a b c)
(append &apos;(a b) &apos;(c d)) =&gt; (a b c d)
(append &apos;(a b) &apos;c) =&gt; (a b . c)
(let ([x (list &apos;b)])
  (eq? x (cdr (append &apos;(a) x)))) =&gt; #t
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(reverse list)</code></p>
<p>&#x8FD4;&#x56DE;: list &#x4E2D;&#x7684;&#x5143;&#x7D20;&#x9006;&#x5411;&#x6392;&#x5E8F;&#x540E;&#x7EC4;&#x6210;&#x7684;&#x65B0;&#x5217;&#x8868;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x4E0D;&#x5E26;&#x6709;&#x9519;&#x8BEF;&#x68C0;&#x67E5;&#x7684; reverse &#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#x3002;</p>
<pre><code>(define reverse
  (lambda (ls)
    (let rev ([ls ls] [new &apos;()])
      (if (null? ls)
          new
          (rev (cdr ls) (cons (car ls) new))))))

(reverse &apos;()) =&gt; ()
(reverse &apos;(a b c)) =&gt; (c b a)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(memq obj list)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(memv obj list)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(member obj list)</code></p>
<p>&#x8FD4;&#x56DE;: <code>list</code> &#x4E2D;&#x7B2C;&#x4E00;&#x4E2A; <code>car</code> &#x7B49;&#x4E8E; <code>obj</code> &#x7684;&#x5C3E;&#x6BB5;&#xFF0C;&#x6216; <code>#f</code></p>
<p>&#x5E93;: (rnrs lists), (rnrs)</p>
<p>&#x8FD9;&#x4E9B;&#x8FC7;&#x7A0B;&#x6309;&#x987A;&#x5E8F;&#x904D;&#x5386;&#x5B9E;&#x53C2; <code>list</code>, &#x6BD4;&#x8F83; <code>obj</code> &#x548C; <code>list</code> &#x4E2D;&#x7684;&#x5143;&#x7D20;&#x3002;&#x5982;&#x679C;&#x627E;&#x5230;&#x4E86;&#x7B49;&#x4E8E; <code>obj</code> &#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x5219;&#x8FD4;&#x56DE; <code>list</code> &#x4E2D;&#x9996;&#x5143;&#x7D20;&#x4E3A;&#x6B64;&#x5BF9;&#x8C61;&#x7684;&#x5C3E;&#x6BB5;&#x3002;&#x5982;&#x679C; <code>list</code> &#x4E2D;&#x7B49;&#x4E8E; <code>obj</code> &#x7684;&#x5BF9;&#x8C61;&#x591A;&#x4E8E; 1 &#x4E2A;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x7B2C;&#x4E00;&#x4E2A;&#x9996;&#x5143;&#x7D20;&#x7B49;&#x4E8E; <code>obj</code> &#x7684;&#x5C3E;&#x6BB5;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x627E;&#x5230;&#x7B49;&#x4E8E; <code>obj</code> &#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;<code>#f</code>. <code>memq</code> &#x7684;&#x7B49;&#x4EF7;&#x6027;&#x6D4B;&#x8BD5;&#x4F7F;&#x7528; <code>eq?</code>, <code>memv</code> &#x4F7F;&#x7528; <code>eqv?</code>, &#x800C; <code>member</code> &#x4F7F;&#x7528; <code>equal?</code>.</p>
<p>&#x8FD9;&#x4E9B;&#x8FC7;&#x7A0B;&#x6700;&#x5E38;&#x7528;&#x4F5C;&#x8C13;&#x8BCD;&#xFF0C;&#x4F46;&#x5B83;&#x4EEC;&#x7684;&#x540D;&#x5B57;&#x4E0D;&#x4EE5;&#x95EE;&#x53F7;&#x7ED3;&#x5C3E;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4EEC;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6709;&#x7528;&#x7684;&#x771F;&#x503C;&#xFF0C;&#x800C;&#x4E0D;&#x662F;<code>#t</code>. &#x4E0D;&#x5E26;&#x6709;&#x9519;&#x8BEF;&#x68C0;&#x67E5;&#x7684; <code>memq</code> &#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#x3002;</p>
<pre><code>(define memq
  (lambda (x ls)
    (cond
     [(null? ls) #f]
     [(eq? (car ls) x) ls]
     [else (memq x (cdr ls))])))
</code></pre><p><code>memv</code> &#x548C; <code>member</code> &#x7684;&#x5B9A;&#x4E49;&#x7C7B;&#x4F3C;&#xFF0C;&#x5206;&#x522B;&#x4EE5; <code>eqv?</code> &#x548C; <code>equal?</code> &#x66FF;&#x6362; <code>eq?</code>.</p>
<pre><code>(memq &apos;a &apos;(b c a d e)) =&gt; (a d e)
(memq &apos;a &apos;(b c d e g)) =&gt; #f
(memq &apos;a &apos;(b a c a d a)) =&gt; (a c a d a)

(memv 3.4 &apos;(1.2 2.3 3.4 4.5)) =&gt; (3.4 4.5)
(memv 3.4 &apos;(1.3 2.5 3.7 4.9)) =&gt; #f
(let ([ls (list &apos;a &apos;b &apos;c)])
  (set-car! (memv &apos;b ls) &apos;z)
  ls) =&gt; (a z c)

(member &apos;(b) &apos;((a) (b) (c))) =&gt; ((b) (c))
(member &apos;(d) &apos;((a) (b) (c))) =&gt; #f
(member &quot;b&quot; &apos;(&quot;a&quot; &quot;b&quot; &quot;c&quot;)) =&gt; (&quot;b&quot; &quot;c&quot;)

(let ()
  (define member?
    (lambda (x ls)
      (and (member x ls) #t)))
  (member? &apos;(b) &apos;((a) (b) (c)))) =&gt; #t

(define count-occurrences
  (lambda (x ls)
    (cond
     [(memq x ls) =&gt;
      (lambda (ls)
        (+ (count-occurrences x (cdr ls)) 1))]
     [else 0])))

(count-occurrences &apos;a &apos;(a b c d a)) =&gt; 2
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(memp procedure list)</code></p>
<p>&#x8FD4;&#x56DE;: <code>list</code> &#x4E2D;&#x7B2C;&#x4E00;&#x4E2A; <code>car</code> &#x5B57;&#x6BB5;&#x4F20;&#x5165; <code>procedure</code> &#x8FD4;&#x56DE; <code>#t</code> &#x7684;&#x5C3E;&#x6BB5;&#xFF0C;&#x6216;<code>#f</code></p>
<p>&#x5E93;: (rnrs lists), (rnrs)</p>
<p><code>procedure</code> &#x5E94;&#x8BE5;&#x63A5;&#x53D7;&#x4E00;&#x4E2A;&#x5B9E;&#x53C2;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5355;&#x4E2A;&#x503C;&#x3002;&#x5B83;&#x4E0D;&#x5E94;&#x4FEE;&#x6539; <code>list</code>.</p>
<pre><code>(memp odd? &apos;(1 2 3 4)) =&gt; (1 2 3 4)
(memp even? &apos;(1 2 3 4)) =&gt; (2 3 4)
(let ([ls (list 1 2 3 4)])
  (eq? (memp odd? ls) ls)) =&gt; #t
(let ([ls (list 1 2 3 4)])
  (eq? (memp even? ls) (cdr ls))) =&gt; #t
(memp odd? &apos;(2 4 6 8)) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(remq obj list)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(remv obj list)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(remove obj list)</code></p>
<p>&#x8FD4;&#x56DE;: <code>list</code> &#x4E2D;&#x6240;&#x6709;&#x4E0D;&#x7B49;&#x4E8E; <code>obj</code> &#x7684;&#x5143;&#x7D20;&#x7EC4;&#x6210;&#x7684;&#x5217;&#x8868;</p>
<p>&#x5E93;: (rnrs lists), (rnrs)</p>
<p>&#x8FD9;&#x4E9B;&#x8FC7;&#x7A0B;&#x904D;&#x5386;&#x5B9E;&#x53C2; <code>list</code>, &#x79FB;&#x9664;&#x6240;&#x6709;&#x7B49;&#x4E8E; <code>obj</code> &#x7684;&#x5BF9;&#x8C61;&#x3002;&#x8F93;&#x51FA;&#x5217;&#x8868;&#x4E2D;&#x4FDD;&#x7559;&#x7684;&#x5143;&#x7D20;&#x548C;&#x5B83;&#x4EEC;&#x5728;&#x8F93;&#x5165;&#x5217;&#x8868;&#x4E2D;&#x51FA;&#x73B0;&#x7684;&#x987A;&#x5E8F;&#x4E00;&#x81F4;&#x3002;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x5217;&#x8868;&#x7684;&#x5C3E;&#x6BB5;&#xFF08;&#x5305;&#x62EC;&#x5217;&#x8868;&#x81EA;&#x8EAB;&#xFF09;&#x4E0D;&#x5305;&#x542B;&#x4EFB;&#x4F55; <code>obj</code>, &#x5219;&#x7ED3;&#x679C;&#x5217;&#x8868;&#x4E2D;&#x5BF9;&#x5E94;&#x7684;&#x5C3E;&#x6BB5;&#x53EF;&#x80FD;&#x4E0E;&#x8F93;&#x5165;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x76F8;&#x5E94;&#x5C3E;&#x6BB5;&#x76F8;&#x540C;&#xFF08;&#x57FA;&#x4E8E; <code>eq?</code> &#x5224;&#x65AD;&#xFF09;&#x3002;</p>
<p><code>remq</code> &#x7684;&#x7B49;&#x4EF7;&#x6027;&#x6D4B;&#x8BD5;&#x57FA;&#x4E8E; <code>eq?</code>, <code>remv</code> &#x57FA;&#x4E8E; <code>eqv?</code>, &#x800C; <code>remove</code> &#x57FA;&#x4E8E; <code>equal?</code>.</p>
<pre><code>(remq &apos;a &apos;(a b a c a d)) =&gt; (b c d)
(remq &apos;a &apos;(b c d)) =&gt; (b c d)

(remv 1/2 &apos;(1.2 1/2 0.5 3/2 4)) =&gt; (1.2 0.5 3/2 4)

(remove &apos;(b) &apos;((a) (b) (c))) =&gt; ((a) (c))
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(remp procedure list)</code></p>
<p>&#x8FD4;&#x56DE;: <code>list</code> &#x4E2D;&#x5E94;&#x7528; <code>procedure</code> &#x8FD4;&#x56DE; <code>#f</code> &#x7684;&#x5143;&#x7D20;&#x7EC4;&#x6210;&#x7684;&#x5217;&#x8868;</p>
<p>&#x5E93;: (rnrs lists), (rnrs)</p>
<p><code>procedure</code> &#x5E94;&#x8BE5;&#x63A5;&#x53D7;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5355;&#x4E2A;&#x503C;&#x3002;&#x5B83;&#x4E0D;&#x5E94;&#x4FEE;&#x6539; <code>list</code>.</p>
<p><code>remp</code> &#x628A; <code>procedure</code> &#x5E94;&#x7528;&#x4E8E;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5217;&#x8868;&#xFF0C;&#x5176;&#x4E2D;&#x53EA;&#x5305;&#x542B;&#x4F7F; <code>procedure</code> &#x8FD4;&#x56DE; <code>#f</code> &#x7684;&#x5143;&#x7D20;&#x3002;&#x8FD4;&#x56DE;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x4E0E;&#x5B83;&#x4EEC;&#x5728;&#x539F;&#x5217;&#x8868;&#x4E2D;&#x51FA;&#x73B0;&#x7684;&#x987A;&#x5E8F;&#x662F;&#x4E00;&#x81F4;&#x7684;&#x3002;</p>
<pre><code>(remp odd? &apos;(1 2 3 4)) =&gt; (2 4)
(remp
 (lambda (x) (and (&gt; x 0) (&lt; x 10)))
 &apos;(-5 15 3 14 -20 6 0 -9)) =&gt; (-5 15 14 -20 0 -9)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(filter procedure list)</code></p>
<p>&#x8FD4;&#x56DE;: <code>list</code> &#x4E2D;&#x5E94;&#x7528; <code>procedure</code> &#x8FD4;&#x56DE;&#x771F;&#x503C;&#x7684;&#x5143;&#x7D20;&#x7EC4;&#x6210;&#x7684;&#x5217;&#x8868;</p>
<p>&#x5E93;: (rnrs lists), (rnrs)</p>
<p><code>procedure</code> &#x5E94;&#x8BE5;&#x63A5;&#x53D7;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5355;&#x4E2A;&#x503C;&#x3002;&#x5B83;&#x4E0D;&#x5E94;&#x4FEE;&#x6539; <code>list</code>.</p>
<p><code>filter</code> &#x628A; <code>procedure</code> &#x5E94;&#x7528;&#x4E8E;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5217;&#x8868;&#xFF0C;&#x5176;&#x4E2D;&#x53EA;&#x5305;&#x542B;&#x4F7F; <code>procedure</code> &#x8FD4;&#x56DE;&#x771F;&#x503C;&#x7684;&#x5143;&#x7D20;&#x3002;&#x8FD4;&#x56DE;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x4E0E;&#x5B83;&#x4EEC;&#x5728;&#x539F;&#x5217;&#x8868;&#x4E2D;&#x51FA;&#x73B0;&#x7684;&#x987A;&#x5E8F;&#x662F;&#x4E00;&#x81F4;&#x7684;&#x3002;</p>
<pre><code>(filter odd? &apos;(1 2 3 4)) =&gt; (1 3)
(filter
 (lambda (x) (and (&gt; x 0) (&lt; x 10)))
 &apos;(-5 15 3 14 -20 6 0 -9)) =&gt; (3 6)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(partition procedure list)</code></p>
<p>&#x8FD4;&#x56DE;: &#x53C2;&#x89C1;&#x4E0B;&#x6587;</p>
<p>&#x5E93;: (rnrs lists), (rnrs)</p>
<p><code>procedure</code> &#x5E94;&#x8BE5;&#x63A5;&#x53D7;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5355;&#x4E2A;&#x503C;&#x3002;&#x5B83;&#x4E0D;&#x5E94;&#x4FEE;&#x6539; <code>list</code>.</p>
<p><code>partition</code> &#x628A; <code>procedure</code> &#x5E94;&#x7528;&#x4E8E;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x4E24;&#x4E2A;&#x503C;&#xFF1A;&#x4E00;&#x4E2A;&#x53EA;&#x5305;&#x542B;&#x4F7F; <code>procedure</code> &#x8FD4;&#x56DE;&#x771F;&#x503C;&#x7684;&#x5143;&#x7D20;&#x7EC4;&#x6210;&#x7684;&#x5217;&#x8868;&#xFF0C;&#x548C;&#x4E00;&#x4E2A;&#x53EA;&#x5305;&#x542B;&#x4F7F; <code>procedure</code> &#x8FD4;&#x56DE; <code>#f</code> &#x7684;&#x5143;&#x7D20;&#x7EC4;&#x6210;&#x7684;&#x5217;&#x8868;&#x3002;&#x8FD4;&#x56DE;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x4E0E;&#x5B83;&#x4EEC;&#x5728;&#x539F;&#x5217;&#x8868;&#x4E2D;&#x51FA;&#x73B0;&#x7684;&#x987A;&#x5E8F;&#x662F;&#x4E00;&#x81F4;&#x7684;&#x3002;</p>
<pre><code>(partition odd? &apos;(1 2 3 4)) =&gt; (1 3)
(2 4)
(partition
 (lambda (x) (and (&gt; x 0) (&lt; x 10)))
 &apos;(-5 15 3 14 -20 6 0 -9)) =&gt; (3 6)
(-5 15 14 -20 0 -9)
</code></pre><p><code>partition</code> &#x8FD4;&#x56DE;&#x7684;&#x503C;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5206;&#x522B;&#x8C03;&#x7528; <code>filter</code> &#x548C; <code>remp</code> &#x5F97;&#x5230;&#xFF0C;&#x4F46;&#x8FD9;&#x6837;&#x9700;&#x8981;&#x5BF9;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x8C03;&#x7528;&#x4E24;&#x6B21; <code>procedure</code>.</p>
<p>&#x8FC7;&#x7A0B;: <code>(find procedure list)</code></p>
<p>&#x8FD4;&#x56DE;: <code>list</code> &#x4E2D;&#x4F7F; <code>procedure</code> &#x8FD4;&#x56DE;&#x771F;&#x503C;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;&#x6216; <code>#f</code></p>
<p>&#x5E93;: (rnrs lists), (rnrs)</p>
<p><code>procedure</code> &#x5E94;&#x8BE5;&#x63A5;&#x53D7;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5355;&#x4E2A;&#x503C;&#x3002;&#x5B83;&#x4E0D;&#x5E94;&#x4FEE;&#x6539; <code>list</code>.</p>
<p><code>find</code> &#x4F9D;&#x5E8F;&#x904D;&#x5386;&#x5B9E;&#x53C2; <code>list</code>, &#x8F6E;&#x6D41;&#x5BF9;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x5E94;&#x7528; <code>procedure</code>. &#x5982;&#x679C; <code>procedure</code> &#x5BF9;&#x7ED9;&#x5B9A;&#x5143;&#x7D20;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x771F;&#x503C;&#xFF0C;&#x5219; <code>find</code> &#x8FD4;&#x56DE;&#x6B64;&#x5143;&#x7D20;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x518D;&#x5BF9;&#x5176;&#x5B83;&#x5143;&#x7D20;&#x5E94;&#x7528; <code>procedure</code>. &#x5982;&#x679C; <code>procedure</code> &#x5BF9; <code>list</code> &#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x90FD;&#x8FD4;&#x56DE; <code>#f</code>, &#x5219; <code>find</code> &#x8FD4;&#x56DE; <code>#f</code>.</p>
<p>&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x5FC5;&#x987B;&#x533A;&#x5206;&#x5728; <code>list</code> &#x4E2D;&#x627E;&#x5230;&#x7684;&#x662F; <code>#f</code> &#x8FD8;&#x662F;&#x627E;&#x4E0D;&#x5230;&#x4EFB;&#x4F55;&#x5143;&#x7D20;&#xFF0C;&#x5219;&#x5E94;&#x8BE5;&#x4F7F;&#x7528; <code>memp</code>.</p>
<pre><code>(find odd? &apos;(1 2 3 4)) =&gt; 1
(find even? &apos;(1 2 3 4)) =&gt; 2
(find odd? &apos;(2 4 6 8)) =&gt; #f
(find not &apos;(1 a #f 55)) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(assq obj alist)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(assv obj alist)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(assoc obj alist)</code></p>
<p>&#x8FD4;&#x56DE;: <code>alist</code> &#x4E2D; <code>car</code> &#x5B57;&#x6BB5;&#x7B49;&#x4E8E; <code>obj</code> &#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;&#x6216; <code>#f</code></p>
<p>&#x5E93;: (rnrs lists), (rnrs)</p>
<p>&#x5B9E;&#x53C2; <code>alist</code> &#x5FC5;&#x987B;&#x662F;&#x5173;&#x8054;&#x5217;&#x8868;&#x3002;&#x5173;&#x8054;&#x5217;&#x8868;&#x662F;&#x4E00;&#x79CD;&#x5B8C;&#x5168;&#x5217;&#x8868;&#xFF0C;&#x5176;&#x5143;&#x7D20;&#x662F;&#x5F62;&#x5982; <code>(key . value)</code> &#x7684;&#x952E;&#x503C;&#x5BF9;&#x3002;&#x5728;&#x5B58;&#x50A8;&#x7279;&#x5B9A;&#x5BF9;&#x8C61;&#xFF08;&#x952E;&#xFF09;&#x53CA;&#x5176;&#x76F8;&#x5173;&#x7684;&#x4FE1;&#x606F;&#xFF08;&#x503C;&#xFF09;&#x65F6;&#xFF0C;&#x5173;&#x8054;&#x5217;&#x8868;&#x5F88;&#x6709;&#x7528;&#x3002;</p>
<p>&#x8FD9;&#x4E9B;&#x8FC7;&#x7A0B;&#x904D;&#x5386;&#x5173;&#x8054;&#x5217;&#x8868;&#xFF0C;&#x6D4B;&#x8BD5;&#x6BCF;&#x4E2A;&#x952E;&#x4E0E; <code>obj</code> &#x7684;&#x7B49;&#x4EF7;&#x6027;&#x3002;&#x5982;&#x679C;&#x627E;&#x5230;&#x4E00;&#x4E2A;&#x76F8;&#x7B49;&#x7684;&#x952E;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x6B64;&#x952E;&#x503C;&#x5BF9;&#x3002;&#x5426;&#x5219;&#xFF0C;&#x8FD4;&#x56DE; <code>#f</code>.</p>
<p><code>assq</code> &#x7684;&#x7B49;&#x4EF7;&#x6027;&#x6D4B;&#x8BD5;&#x57FA;&#x4E8E; <code>eq?</code>, <code>assv</code> &#x57FA;&#x4E8E; <code>eqv?</code>, &#x800C; <code>assoc</code> &#x57FA;&#x4E8E; <code>equal?</code>. &#x4E0D;&#x5E26;&#x6709;&#x9519;&#x8BEF;&#x68C0;&#x6D4B;&#x7684; <code>assq</code> &#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#x3002;</p>
<pre><code>(define assq
  (lambda (x ls)
    (cond
     [(null? ls) #f]
     [(eq? (caar ls) x) (car ls)]
     [else (assq x (cdr ls))])))
</code></pre><p><code>assv</code> &#x548C; <code>assoc</code> &#x7684;&#x5B9A;&#x4E49;&#x7C7B;&#x4F3C;&#xFF0C;&#x5206;&#x522B;&#x4EE5; <code>eqv?</code> &#x548C; <code>equal?</code> &#x66FF;&#x4EE3; <code>eq?</code>.</p>
<pre><code>(assq &apos;b &apos;((a . 1) (b . 2))) =&gt; (b . 2)
(cdr (assq &apos;b &apos;((a . 1) (b . 2)))) =&gt; 2
(assq &apos;c &apos;((a . 1) (b . 2))) =&gt; #f

(assv 2/3 &apos;((1/3 . 1) (2/3 . 2))) =&gt; (2/3 . 2)
(assv 2/3 &apos;((1/3 . a) (3/4 . b))) =&gt; #f

(assoc &apos;(a) &apos;(((a) . a) (-1 . b))) =&gt; ((a) . a)
(assoc &apos;(a) &apos;(((b) . b) (a . c))) =&gt; #f

(let ([alist (list (cons 2 &apos;a) (cons 3 &apos;b))])
  (set-cdr! (assv 3 alist) &apos;c)
  alist) =&gt; ((2 . a) (3 . c))
</code></pre><p>12.7 &#x8282;&#x7ED9;&#x51FA;&#x7684;&#x89E3;&#x91CA;&#x5668;&#x628A;&#x73AF;&#x5883;&#x8868;&#x793A;&#x4E3A;&#x5173;&#x8054;&#x5217;&#x8868;&#xFF0C;&#x5E76;&#x628A; <code>assq</code> &#x7528;&#x4E8E;&#x53D8;&#x91CF;&#x67E5;&#x627E;&#x548C;&#x8D4B;&#x503C;&#x3002;</p>
<p>&#x8FC7;&#x7A0B;: <code>(assp procedure alist)</code></p>
<p>&#x8FD4;&#x56DE;: <code>alist</code> &#x4E2D; <code>car</code> &#x5B57;&#x6BB5;&#x503C;&#x4F7F; <code>procedure</code> &#x8FD4;&#x56DE;&#x771F;&#x503C;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;&#x6216; <code>#f</code></p>
<p>&#x5E93;: (rnrs lists), (rnrs)</p>
<p><code>alist</code> &#x5FC5;&#x987B;&#x662F;&#x5173;&#x8054;&#x5217;&#x8868;&#x3002;&#x5173;&#x8054;&#x5217;&#x8868;&#x662F;&#x4E00;&#x79CD;&#x5B8C;&#x5168;&#x5217;&#x8868;&#xFF0C;&#x5176;&#x5143;&#x7D20;&#x662F;&#x5F62;&#x5982; <code>(key . value)</code> &#x7684;&#x952E;&#x503C;&#x5BF9;&#x3002;<code>procedure</code> &#x5E94;&#x5F53;&#x63A5;&#x53D7;&#x4E00;&#x4E2A;&#x5B9E;&#x53C2;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5355;&#x4E2A;&#x503C;&#x3002;&#x5B83;&#x4E0D;&#x5E94;&#x4FEE;&#x6539; <code>list</code>.</p>
<pre><code>(assp odd? &apos;((1 . a) (2 . b))) =&gt; (1 . a)
(assp even? &apos;((1 . a) (2 . b))) =&gt; (2 . b)
(let ([ls (list (cons 1 &apos;a) (cons 2 &apos;b))])
  (eq? (assp odd? ls) (car ls))) =&gt; #t
(let ([ls (list (cons 1 &apos;a) (cons 2 &apos;b))])
  (eq? (assp even? ls) (cadr ls))) =&gt; #t
(assp odd? &apos;((2 . b))) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(list-sort predicate list)</code></p>
<p>&#x8FD4;&#x56DE;: <code>list</code> &#x4E2D;&#x7684;&#x5143;&#x7D20;&#x6839;&#x636E; <code>predicate</code> &#x6392;&#x5E8F;&#x540E;&#x7EC4;&#x6210;&#x7684;&#x5217;&#x8868;</p>
<p>&#x5E93;: (rnrs sorting), (rnrs)</p>
<p><code>predicate</code> &#x5E94;&#x5F53;&#x662F;&#x4E2A;&#x8FC7;&#x7A0B;&#xFF0C;&#x5B83;&#x63A5;&#x53D7;&#x4E24;&#x4E2A;&#x5B9E;&#x53C2;&#xFF0C;&#x5E76;&#x4E14;&#xFF0C;&#x5F53;&#x5B83;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5B9E;&#x53C2;&#x5728;&#x6392;&#x5E8F;&#x540E;&#x7684;&#x5217;&#x8868;&#x4E2D;&#x5FC5;&#x987B;&#x6392;&#x5728;&#x7B2C;&#x4E8C;&#x4E2A;&#x5B9E;&#x53C2;&#x4E4B;&#x524D;&#x65F6;&#x8FD4;&#x56DE; <code>#t</code>. &#x5373;&#xFF0C;&#x5982;&#x679C; <code>predicate</code> &#x5E94;&#x7528;&#x4E8E;&#x4E24;&#x4E2A;&#x5143;&#x7D20; x &#x548C; y, &#x4E14;&#x5728;&#x8F93;&#x5165;&#x5217;&#x8868;&#x4E2D; x &#x6392;&#x5728; y &#x540E;&#x9762;&#xFF0C;&#x5B83;&#x5E94;&#x8BE5;&#x53EA;&#x5728; x &#x5E94;&#x5F53;&#x4E8E;&#x8F93;&#x51FA;&#x5217;&#x8868;&#x4E2D;&#x6392;&#x5728; y &#x524D;&#x9762;&#x65F6;&#x8FD4;&#x56DE;&#x771F;&#x3002;&#x5982;&#x679C;&#x6EE1;&#x8DB3;&#x8FD9;&#x4E00;&#x9650;&#x5236;&#xFF0C;<code>list-sort</code> &#x5C31;&#x662F;&#x6267;&#x884C;&#x7A33;&#x5B9A;&#x7684;&#x6392;&#x5E8F;&#xFF0C;&#x5373;&#xFF0C;&#x6839;&#x636E; <code>predicate</code>&#xFF0C;&#x4E24;&#x4E2A;&#x5143;&#x7D20;&#x53EA;&#x5728;&#x5FC5;&#x8981;&#x65F6;&#x91CD;&#x65B0;&#x6392;&#x5E8F;&#x3002;&#x5B83;&#x5E76;&#x4E0D;&#x79FB;&#x9664;&#x91CD;&#x590D;&#x5143;&#x7D20;&#x3002;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x81F3;&#x591A;&#x4F1A;&#x8C03;&#x7528; <code>predicate</code> nlog<sup>n</sup> &#x6B21;&#xFF0C;&#x5176;&#x4E2D; n &#x662F; <code>list</code> &#x7684;&#x957F;&#x5EA6;&#x3002;</p>
<pre><code>(list-sort &lt; &apos;(3 4 2 1 2 5)) =&gt; (1 2 2 3 4 5)
(list-sort &gt; &apos;(0.5 1/2)) =&gt; (0.5 1/2)
(list-sort &gt; &apos;(1/2 0.5)) =&gt; (1/2 0.5)
(list-&gt;string
 (list-sort char&gt;?
            (string-&gt;list &quot;hello&quot;))) =&gt; &quot;ollhe&quot;
</code></pre><h2 id="64-&#x6570;&#x5B57;">6.4. &#x6570;&#x5B57;</h2>
<p>Scheme &#x6570;&#x5B57;&#x53EF;&#x4EE5;&#x88AB;&#x5206;&#x7C7B;&#x4E3A;&#x6574;&#x6570;&#xFF0C;&#x6709;&#x7406;&#x6570;&#xFF0C;&#x5B9E;&#x6570;&#xFF0C;&#x6216;&#x590D;&#x6570;&#x3002;&#x8FD9;&#x79CD;&#x5206;&#x7C7B;&#x662F;&#x5C42;&#x6B21;&#x7ED3;&#x6784;&#x7684;&#xFF0C;&#x5176;&#x4E2D;&#x6240;&#x6709;&#x6574;&#x6570;&#x662F;&#x6709;&#x7406;&#x6570;&#xFF0C;&#x6240;&#x6709;&#x6709;&#x7406;&#x6570;&#x662F;&#x5B9E;&#x6570;&#xFF0C;&#x800C;&#x6240;&#x6709;&#x5B9E;&#x6570;&#x662F;&#x590D;&#x6570;&#x3002;6.2 &#x8282;&#x4E2D;&#x4ECB;&#x7ECD;&#x7684;&#x8C13;&#x8BCD; <code>integer?</code>, <code>rational?</code>, <code>real?</code>, &#x4EE5;&#x53CA; <code>complex?</code> &#x7528;&#x4E8E;&#x5224;&#x5B9A;&#x6570;&#x5B57;&#x5C5E;&#x4E8E;&#x5176;&#x4E2D;&#x54EA;&#x4E2A;&#x7C7B;&#x522B;&#x3002;</p>
<p>Scheme &#x6570;&#x5B57;&#x4E5F;&#x53EF;&#x4EE5;&#x57FA;&#x4E8E;&#x6D3E;&#x751F;&#x51FA;&#x6570;&#x5B57;&#x7684;&#x64CD;&#x4F5C;&#x7684;&#x7279;&#x6027;&#xFF0C;&#x4EE5;&#x53CA;&#x8FD9;&#x4E9B;&#x64CD;&#x4F5C;&#x7684;&#x8F93;&#x5165;&#xFF0C;&#x800C;&#x88AB;&#x5206;&#x7C7B;&#x4E3A;&#x7CBE;&#x786E;&#x7684;&#x6216;&#x4E0D;&#x7CBE;&#x786E;&#x7684;&#x3002;&#x8C13;&#x8BCD; <code>exact?</code> &#x548C; <code>inexact?</code> &#x53EF;&#x4EE5;&#x88AB;&#x7528;&#x4E8E;&#x5224;&#x5B9A;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x7684;&#x7CBE;&#x786E;&#x6027;&#x3002;Scheme &#x4E2D;&#xFF0C;&#x5927;&#x591A;&#x6570;&#x5BF9;&#x6570;&#x5B57;&#x7684;&#x64CD;&#x4F5C;&#x4F1A;&#x4FDD;&#x7559;&#x7CBE;&#x786E;&#x6027;&#xFF1A;&#x5982;&#x679C;&#x7ED9;&#x51FA;&#x7CBE;&#x786E;&#x7684;&#x64CD;&#x4F5C;&#x6570;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x7CBE;&#x786E;&#x503C;&#xFF0C;&#x5982;&#x679C;&#x7ED9;&#x51FA;&#x4E0D;&#x7CBE;&#x786E;&#x7684;&#x64CD;&#x4F5C;&#x6570;&#xFF0C;&#x6216;&#x7ED9;&#x51FA;&#x7CBE;&#x786E;&#x4E0E;&#x4E0D;&#x7CBE;&#x786E;&#x64CD;&#x4F5C;&#x6570;&#x7684;&#x7EC4;&#x5408;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x4E0D;&#x7CBE;&#x786E;&#x503C;&#x3002;</p>
<p>&#x7CBE;&#x786E;&#x6574;&#x6570;&#x548C;&#x6709;&#x7406;&#x6570;&#x7684;&#x8FD0;&#x7B97;&#x901A;&#x5E38;&#x652F;&#x6301;&#x4EFB;&#x610F;&#x7CBE;&#x5EA6;&#xFF1B;&#x6574;&#x6570;&#x6216;&#x6BD4;&#x503C;&#x7684;&#x5206;&#x5B50;&#x5206;&#x6BCD;&#x7684;&#x5927;&#x5C0F;&#x53EA;&#x53D7;&#x9650;&#x4E8E;&#x7CFB;&#x7EDF;&#x7684;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x3002;&#x867D;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x5176;&#x5B83;&#x8868;&#x793A;&#x5F62;&#x5F0F;&#xFF0C;&#x4F46;&#x4E0D;&#x7CBE;&#x786E;&#x6570;&#x901A;&#x5E38;&#x8868;&#x793A;&#x4E3A;&#x7531;&#x4E3B;&#x673A;&#x786C;&#x4EF6;&#x6216;&#x7CFB;&#x7EDF;&#x8F6F;&#x4EF6;&#x652F;&#x6301;&#x7684;&#x6D6E;&#x70B9;&#x6570;&#x3002;&#x590D;&#x6570;&#x901A;&#x5E38;&#x8868;&#x793A;&#x4E3A;&#x6709;&#x5E8F;&#x70B9;&#x5BF9;&#xFF08;&#x5B9E;&#x90E8;&#xFF0C;&#x865A;&#x90E8;&#xFF09;&#xFF0C;&#x5176;&#x4E2D;&#x5B9E;&#x90E8;&#x548C;&#x865A;&#x90E8;&#x662F;&#x7CBE;&#x786E;&#x6574;&#x6570;&#xFF0C;&#x7CBE;&#x786E;&#x6709;&#x7406;&#x6570;&#xFF0C;&#x6216;&#x6D6E;&#x70B9;&#x6570;&#x3002;</p>
<p>Scheme &#x6570;&#x5B57;&#x4EE5;&#x4E00;&#x79CD;&#x5F88;&#x76F4;&#x63A5;&#x7684;&#x65B9;&#x5F0F;&#x4E66;&#x5199;&#xFF0C;&#x4E0E;&#x5E38;&#x89C4;&#x6CA1;&#x6709;&#x591A;&#x5C11;&#x4E0D;&#x540C;&#x3002;&#x4E00;&#x4E2A;&#x7CBE;&#x786E;&#x6574;&#x6570;&#x901A;&#x5E38;&#x5199;&#x4E3A;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x5E8F;&#x5217;&#xFF0C;&#x524D;&#x9762;&#x5E26;&#x6709;&#x4E00;&#x4E2A;&#x53EF;&#x9009;&#x7684;&#x7B26;&#x53F7;&#x3002;&#x4F8B;&#x5982;&#xFF0C;3, +19, -100000, &#x4EE5;&#x53CA; 208423089237489374, &#x90FD;&#x8868;&#x793A;&#x7CBE;&#x786E;&#x7684;&#x6574;&#x6570;&#x3002;</p>
<p>&#x6709;&#x7406;&#x6570;&#x901A;&#x5E38;&#x5199;&#x4F5C;&#x4EE5;&#x659C;&#x7EBF; (/) &#x5206;&#x9694;&#x7684;&#x4E24;&#x4E2A;&#x6570;&#x5B57;&#x5E8F;&#x5217;&#xFF0C;&#x524D;&#x9762;&#x5E26;&#x6709;&#x4E00;&#x4E2A;&#x53EF;&#x9009;&#x7684;&#x7B26;&#x53F7;&#x3002;&#x4F8B;&#x5982;&#xFF0C;3/4, -6/5, &#x4EE5;&#x53CA; 1/1208203823, &#x90FD;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x6709;&#x7406;&#x6570;&#x3002;&#x8BFB;&#x53D6;&#x65F6;&#xFF0C;&#x6BD4;&#x503C;&#x4F1A;&#x88AB;&#x76F4;&#x63A5;&#x5F52;&#x7EA6;&#x4E3A;&#x6700;&#x7B80;&#x5F62;&#x5F0F;&#xFF0C;&#x751A;&#x81F3;&#x53EF;&#x80FD;&#x5F52;&#x7EA6;&#x4E3A;&#x4E00;&#x4E2A;&#x7CBE;&#x786E;&#x6574;&#x6570;&#x3002;</p>
<p>&#x4E0D;&#x7CBE;&#x786E;&#x7684;&#x5B9E;&#x6570;&#x901A;&#x5E38;&#x5199;&#x4F5C;&#x6D6E;&#x70B9;&#x6570;&#x6216;&#x79D1;&#x5B66;&#x8BB0;&#x6570;&#x6CD5;&#x3002;&#x6D6E;&#x70B9;&#x6570;&#x8BB0;&#x6CD5;&#x7531;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x5E8F;&#x5217;&#x63A5;&#x7740;&#x4E00;&#x4E2A;&#x5C0F;&#x6570;&#x70B9;&#x518D;&#x63A5;&#x7740;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x5E8F;&#x5217;&#x6784;&#x6210;&#xFF0C;&#x524D;&#x9762;&#x5E26;&#x6709;&#x4E00;&#x4E2A;&#x53EF;&#x9009;&#x7684;&#x7B26;&#x53F7;&#x3002;&#x79D1;&#x5B66;&#x8BA1;&#x6570;&#x6CD5;&#x7531;&#x4E00;&#x4E2A;&#x53EF;&#x9009;&#x7684;&#x7B26;&#x53F7;&#xFF0C;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x5E8F;&#x5217;&#xFF0C;&#x4E00;&#x4E2A;&#x53EF;&#x9009;&#x7684;&#x5C0F;&#x6570;&#x70B9;&#xFF0C;&#x63A5;&#x7740;&#x53E6;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x4E32;&#xFF0C;&#x548C;&#x4E00;&#x4E2A;&#x6307;&#x6570;&#x6784;&#x6210;&#xFF1B;&#x6307;&#x6570;&#x5199;&#x4F5C;&#x5B57;&#x6BCD; e &#x540E;&#x9762;&#x8DDF;&#x7740;&#x4E00;&#x4E2A;&#x53EF;&#x9009;&#x7684;&#x7B26;&#x53F7;&#x548C;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x5E8F;&#x5217;&#x3002;&#x4F8B;&#x5982;&#xFF0C;1.0 &#x548C; -200.0 &#x662F;&#x6709;&#x6548;&#x7684;&#x4E0D;&#x7CBE;&#x786E;&#x6574;&#x6570;&#xFF0C;&#x800C; 1.5, 0.034, -10e-10 &#x548C; 1.5e-5 &#x662F;&#x6709;&#x6548;&#x7684;&#x4E0D;&#x7CBE;&#x786E;&#x6709;&#x7406;&#x6570;&#x3002;&#x6307;&#x6570;&#x5373;&#x662F;&#x5176;&#x524D;&#x9762;&#x6570;&#x5B57;&#x6240;&#x8981;&#x4E58;&#x4EE5;&#x7684; 10 &#x7684;&#x5E42;&#x6B21;&#xFF0C;&#x6240;&#x4EE5; 2e3 &#x7B49;&#x4EF7;&#x4E8E; 2000.0.</p>
<p>&#x5728;&#x4F7F;&#x7528;&#x6D6E;&#x70B9;&#x8BB0;&#x6CD5;&#x6216;&#x79D1;&#x5B66;&#x8BB0;&#x6570;&#x6CD5;&#x65F6;&#xFF0C;&#x5C3E;&#x6570;&#x5BBD;&#x5EA6; |w &#x53EF;&#x80FD;&#x4F5C;&#x4E3A;&#x5B9E;&#x6570;&#x6216;&#x590D;&#x6570;&#x7684;&#x5B9E;&#x90E8;&#x7684;&#x540E;&#x7F00;&#x51FA;&#x73B0;&#x3002;&#x5C3E;&#x6570;&#x5BBD;&#x5EA6; w &#x8868;&#x793A;&#x4E86;&#x6570;&#x5B57;&#x8868;&#x793A;&#x5F62;&#x5F0F;&#x7684;&#x6709;&#x6548;&#x4F4D;&#x6570;&#x3002;&#x5C3E;&#x6570;&#x5BBD;&#x5EA6;&#x9ED8;&#x8BA4;&#x4E3A; 53&#xFF08;&#x6807;&#x51C6;&#x5316; IEEE &#x53CC;&#x7CBE;&#x5EA6;&#x6D6E;&#x70B9;&#x6570;&#x7684;&#x6709;&#x6548;&#x4F4D;&#x6570;&#xFF09;&#x6216;&#x66F4;&#x591A;&#x3002;&#x5BF9;&#x4E8E;&#x975E;&#x6807;&#x51C6;&#x5316;&#x7684; IEEE &#x53CC;&#x7CBE;&#x5EA6;&#x6D6E;&#x70B9;&#x6570;&#xFF0C;&#x5C3E;&#x6570;&#x5BBD;&#x5EA6;&#x5C0F;&#x4E8E; 53. &#x5982;&#x679C;&#x4E00;&#x4E2A;&#x5B9E;&#x73B0;&#x4E0D;&#x80FD;&#x4EE5;&#x6307;&#x5B9A;&#x7684;&#x5C3E;&#x6570;&#x5BBD;&#x5EA6;&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#xFF0C;&#x5728;&#x53EF;&#x80FD;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5B83;&#x4F1A;&#x91C7;&#x7528;&#x81F3;&#x5C11;&#x8FBE;&#x5230;&#x8981;&#x6C42;&#x7684;&#x6709;&#x6548;&#x4F4D;&#x6570;&#x7684;&#x8868;&#x793A;&#x5F62;&#x5F0F;&#xFF0C;&#x5426;&#x5219;&#xFF0C;&#x5B83;&#x4F1A;&#x4F7F;&#x7528;&#x5B83;&#x7684;&#x6700;&#x5927;&#x5C3E;&#x6570;&#x5BBD;&#x5EA6;&#x7684;&#x8868;&#x793A;&#x5F62;&#x5F0F;&#x3002;</p>
<p>&#x7CBE;&#x786E;&#x548C;&#x4E0D;&#x7CBE;&#x786E;&#x7684;&#x5B9E;&#x6570;&#xFF0C;&#x5199;&#x4F5C;&#x7CBE;&#x786E;&#x6216;&#x4E0D;&#x7CBE;&#x786E;&#x7684;&#x6574;&#x6570;&#x6216;&#x6709;&#x7406;&#x6570;&#xFF1B;&#x5BF9;&#x4E8E;&#x975E;&#x6709;&#x7406;&#x6570;&#xFF0C;&#x5373;&#x65E0;&#x7406;&#x6570;&#xFF0C;Scheme &#x6CA1;&#x6709;&#x9884;&#x8BBE;&#x7684;&#x8BED;&#x6CD5;&#x3002;</p>
<p>&#x590D;&#x6570;&#x53EF;&#x4EE5;&#x5199;&#x4F5C;&#x76F4;&#x89D2;&#x5750;&#x6807;&#x6216;&#x6781;&#x5750;&#x6807;&#x7684;&#x5F62;&#x5F0F;&#x3002;&#x76F4;&#x89D2;&#x5750;&#x6807;&#x5F62;&#x5F0F;&#x4E2D;&#xFF0C;&#x590D;&#x6570;&#x5199;&#x4F5C; x+yi &#x6216; x-yi, &#x5176;&#x4E2D; x &#x662F;&#x6574;&#x6570;&#xFF0C;&#x6709;&#x7406;&#x6570;&#x6216;&#x5B9E;&#x6570;&#xFF0C;y &#x662F;&#x65E0;&#x7B26;&#x53F7;&#x6574;&#x6570;&#xFF0C;&#x6709;&#x7406;&#x6570;&#xFF0C;&#x6216;&#x5B9E;&#x6570;&#x3002;&#x5B9E;&#x90E8; x &#x53EF;&#x4EE5;&#x7701;&#x7565;&#xFF0C;&#x6B64;&#x65F6;&#x5B83;&#x88AB;&#x5F53;&#x4F5C; 0. &#x4F8B;&#x5982;&#xFF0C;3+4i, 3.2-3/4i, +i, &#x4EE5;&#x53CA; -3e-5i, &#x662F;&#x5199;&#x4F5C;&#x76F4;&#x89D2;&#x5750;&#x6807;&#x5F62;&#x5F0F;&#x7684;&#x590D;&#x6570;&#x3002;&#x6781;&#x5750;&#x6807;&#x5F62;&#x5F0F;&#x4E2D;&#xFF0C;&#x590D;&#x6570;&#x5199;&#x4F5C; x@y, &#x5176;&#x4E2D; x &#x548C; y &#x662F;&#x6574;&#x6570;&#xFF0C;&#x6709;&#x7406;&#x6570;&#xFF0C;&#x6216;&#x5B9E;&#x6570;&#x3002;&#x4F8B;&#x5982;&#xFF0C;1.1@1.764 &#x4EE5;&#x53CA; -1@-1/2, &#x662F;&#x5199;&#x4F5C;&#x6781;&#x5750;&#x6807;&#x5F62;&#x5F0F;&#x7684;&#x590D;&#x6570;&#x3002;</p>
<p>&#x8868;&#x793A;&#x4E0D;&#x7CBE;&#x786E;&#x5B9E;&#x6570;&#x7684;&#x8BED;&#x6CD5;&#x5F62;&#x5F0F; +inf.0 &#x548C; -inf.0 &#x8868;&#x793A;&#x6B63;&#x3001;&#x8D1F;&#x65E0;&#x7A77;&#x3002;&#x8BED;&#x6CD5;&#x5F62;&#x5F0F; +nan.0 &#x548C; -nan.0 &#x8868;&#x793A;&#x4E0D;&#x7CBE;&#x786E;&#x7684;&#x975E;&#x6570;(NaN). &#x65E0;&#x7A77;&#x503C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0D;&#x7CBE;&#x786E;&#x7684;&#x6B63;&#x6570;&#x6216;&#x8D1F;&#x6570;&#x9664;&#x4EE5;&#x4E0D;&#x7CBE;&#x786E;&#x7684; 0 &#x751F;&#x6210;&#xFF0C;&#x800C; NaNs &#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0D;&#x7CBE;&#x786E;&#x7684; 0 &#x9664;&#x4EE5;&#x4E0D;&#x7CBE;&#x786E;&#x7684; 0 &#x751F;&#x6210;&#xFF0C;&#x6B64;&#x5916;&#x8FD8;&#x6709;&#x5176;&#x5B83;&#x4E00;&#x4E9B;&#x65B9;&#x6CD5;&#x3002;</p>
<p>&#x901A;&#x8FC7;&#x5728;&#x8868;&#x793A;&#x5F62;&#x5F0F;&#x524D;&#x6DFB;&#x52A0; <code>#e</code> &#x6216; <code>#i</code>, &#x53EF;&#x4EE5;&#x91CD;&#x8F7D;&#x6570;&#x5B57;&#x8868;&#x793A;&#x5F62;&#x5F0F;&#x7684;&#x7CBE;&#x786E;&#x6027;&#x3002;<code>#e</code>&#x5F3A;&#x5236;&#x6570;&#x5B57;&#x4E3A;&#x7CBE;&#x786E;&#x7684;&#xFF0C;&#x800C;<code>#i</code>&#x5F3A;&#x5236;&#x6570;&#x5B57;&#x4E3A;&#x4E0D;&#x7CBE;&#x786E;&#x7684;&#x3002;&#x4F8B;&#x5982;&#xFF0C;1, #e1, 1/1, #e1/1, #e1.0, &#x4EE5;&#x53CA; #e1e0 &#x90FD;&#x8868;&#x793A;&#x7CBE;&#x786E;&#x6574;&#x6570; 1, &#x800C; #i3/10, 0.3, #i0.3, &#x4EE5;&#x53CA; 3e-1 &#x90FD;&#x8868;&#x793A;&#x4E0D;&#x7CBE;&#x786E;&#x7684;&#x6709;&#x7406;&#x6570; 0.3.</p>
<p>&#x6570;&#x5B57;&#x9ED8;&#x8BA4;&#x4EE5;&#x57FA;&#x6570; 10 &#x4E66;&#x5199;&#xFF0C;&#x4F46;&#x662F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7279;&#x5B9A;&#x7684;&#x524D;&#x7F00; #b (&#x4E8C;&#x8FDB;&#x5236;), #o (&#x516B;&#x8FDB;&#x5236;), #d (&#x5341;&#x8FDB;&#x5236;), &#x548C; #x (&#x5341;&#x516D;&#x8FDB;&#x5236;)&#x6307;&#x5B9A;&#x57FA;&#x6570; 2&#xFF0C;8&#xFF0C;10&#xFF0C;&#x6216; 16. &#x5BF9;&#x4E8E;&#x57FA;&#x6570; 16&#xFF0C;&#x5B57;&#x6BCD; a &#x81F3; f &#x6216; A &#x81F3; F &#x4F5C;&#x4E3A;&#x989D;&#x5916;&#x9700;&#x8981;&#x7684;&#x6570;&#x5B57;&#x4EE5;&#x8868;&#x8FBE;&#x6570;&#x4F4D;&#x503C; 10 &#x81F3; 15&#x3002;&#x4F8B;&#x5982;&#xFF0C; #b10101 &#x662F; 21<sub>10</sub> &#x7684;&#x7B49;&#x4EF7;&#x4E8C;&#x8FDB;&#x5236;&#x6570;, #o72 &#x662F; 58<sub>10</sub> &#x7684;&#x7B49;&#x4EF7;&#x516B;&#x8FDB;&#x5236;&#x6570;&#xFF0C;#xC7 &#x662F; 199<sub>10</sub> &#x7684;&#x7B49;&#x4EF7;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x6570;&#x3002;&#x5199;&#x4F5C;&#x6D6E;&#x70B9;&#x6570;&#x6216;&#x79D1;&#x5B66;&#x8BB0;&#x6570;&#x6CD5;&#x603B;&#x662F;&#x91C7;&#x7528;&#x57FA;&#x6570; 10.</p>
<p>&#x57FA;&#x6570;&#x548C;&#x7CBE;&#x786E;&#x6027;&#x524D;&#x7F00;&#x540C;&#x65F6;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x4EE5;&#x4EFB;&#x4F55;&#x987A;&#x5E8F;&#x51FA;&#x73B0;&#x3002;</p>
<p>&#x4E00;&#x4E2A; Scheme &#x5B9E;&#x73B0;&#x5BF9;&#x4E8E;&#x4E0D;&#x7CBE;&#x786E;&#x6570;&#x503C;&#x7684;&#x5185;&#x90E8;&#x8868;&#x793A;&#xFF0C;&#x53EF;&#x80FD;&#x652F;&#x6301;&#x4E0D;&#x53EA;&#x4E00;&#x79CD;&#x7CBE;&#x5EA6;&#x3002;&#x5728;&#x79D1;&#x5B66;&#x8BB0;&#x6570;&#x6CD5;&#x4E2D;&#xFF0C;&#x6307;&#x6570;&#x6807;&#x8BB0; s (&#x77ED;), f (&#x5355;), d (&#x53CC;), &#x4EE5;&#x53CA; l (&#x957F;)&#x53EF;&#x4EE5;&#x66FF;&#x4EE3;&#x9ED8;&#x8BA4;&#x7684;&#x6307;&#x6570;&#x6807;&#x8BB0; e&#xFF0C;&#x4EE5;&#x8986;&#x76D6;&#x6570;&#x5B57;&#x7684;&#x9ED8;&#x8BA4;&#x7CBE;&#x5EA6;&#x3002;&#x5728;&#x652F;&#x6301;&#x591A;&#x79CD;&#x8868;&#x793A;&#x5F62;&#x5F0F;&#x7684;&#x5B9E;&#x73B0;&#x4E2D;&#xFF0C;&#x9ED8;&#x8BA4;&#x7CBE;&#x5EA6;&#x81F3;&#x5C11;&#x4E3A;&#x53CC;&#x7CBE;&#x5EA6;&#x3002;</p>
<p>&#x7B2C; 459 &#x9875;&#x7ED9;&#x51FA;&#x4E86; Scheme &#x6570;&#x5B57;&#x7684;&#x7CBE;&#x786E;&#x8BED;&#x6CD5;&#x3002;</p>
<p>&#x6240;&#x6709;&#x6570;&#x5B57;&#x90FD;&#x53EF;&#x4EE5;&#x5199;&#x4F5C;&#x591A;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x4F46;&#x662F;&#x7CFB;&#x7EDF;&#x6253;&#x5370;&#x5668;&#xFF08;&#x901A;&#x8FC7; <code>put-datum</code>, <code>write</code>, &#x4EE5;&#x53CA; <code>display</code> &#x8C03;&#x7528;&#xFF09;&#x548C; <code>number-&gt;string</code> &#x4EE5;&#x4E00;&#x79CD;&#x7D27;&#x51D1;&#x7684;&#x5F62;&#x5F0F;&#x8868;&#x793A;&#x6570;&#x5B57;&#xFF0C;&#x4F7F;&#x7528;&#x80FD;&#x591F;&#x4FDD;&#x6301;&#x5C5E;&#x6027;&#x6240;&#x5FC5;&#x8981;&#x7684;&#x6700;&#x5C11;&#x6570;&#x4F4D;&#x2014;&#x2014;&#x5728;&#x8BFB;&#x53D6;&#x65F6;&#xFF0C;&#x6253;&#x5370;&#x51FA;&#x7684;&#x6570;&#x5B57;&#x4E0E;&#x539F;&#x6570;&#x5B57;&#x662F;&#x4E00;&#x6837;&#x7684;&#x3002;</p>
<p>&#x672C;&#x8282;&#x7684;&#x5269;&#x4F59;&#x90E8;&#x5206;&#x4ECB;&#x7ECD;&#x4E86;&#x6570;&#x5B57;&#x64CD;&#x4F5C;&#x7684;&#x201C;&#x901A;&#x7528;&#x7B97;&#x672F;&#x201D;&#x8FC7;&#x7A0B;&#x3002;&#x4E4B;&#x540E;&#x7684;&#x4E24;&#x8282;&#x4ECB;&#x7ECD;&#x4E86;&#x4E13;&#x7528;&#x4E8E; <code>fixnums</code> &#x548C; <code>flonums</code> &#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x6B64;&#x4E24;&#x8005;&#x5206;&#x522B;&#x8868;&#x793A;&#x7CBE;&#x786E;&#x7684;&#x56FA;&#x5B9A;&#x7CBE;&#x5EA6;&#x6574;&#x6570;&#x503C;&#x548C;&#x4E0D;&#x7CBE;&#x786E;&#x7684;&#x5B9E;&#x6570;&#x3002;</p>
<p>&#x672C;&#x8282;&#x4E2D;&#x7684;&#x8FC7;&#x7A0B;&#x6240;&#x63A5;&#x53D7;&#x7684;&#x6570;&#x5B57;&#x5B9E;&#x53C2;&#x7C7B;&#x578B;&#xFF0C;&#x7531;&#x53C2;&#x6570;&#x540D;&#x6697;&#x793A;&#xFF1A;num &#x610F;&#x6307;&#x590D;&#x6570;&#xFF08;&#x5373;&#xFF0C;&#x6240;&#x6709;&#x6570;&#x5B57;&#xFF09;&#xFF0C;real &#x610F;&#x6307;&#x5B9E;&#x6570;&#xFF0C;rat &#x610F;&#x6307;&#x6709;&#x7406;&#x6570;&#xFF0C;&#x800C; int &#x610F;&#x6307;&#x6574;&#x6570;&#x3002;&#x5982;&#x679C;&#x9700;&#x8981;&#x7684;&#x662F; real, rat &#x6216; int, &#x5219;&#x5B9E;&#x53C2;&#x5FC5;&#x987B;&#x662F; real?, rational?, &#x6216; integer? &#x6240;&#x5224;&#x5B9A;&#x7684;&#x5B9E;&#x6570;&#xFF0C;&#x6709;&#x7406;&#x6570;&#xFF0C;&#x6216;&#x6574;&#x6570;&#xFF0C;&#x5373;&#xFF0C;&#x6570;&#x5B57;&#x7684;&#x865A;&#x90E8;&#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684; 0. &#x5728;&#x9700;&#x8981;&#x7CBE;&#x786E;&#x6574;&#x6570;&#x7684;&#x573A;&#x5408;&#xFF0C;&#x4F1A;&#x4F7F;&#x7528;&#x540D;&#x5B57; exint. &#x5728;&#x6BCF;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x540D;&#x5B57;&#x540E;&#x9762;&#x90FD;&#x53EF;&#x80FD;&#x4F1A;&#x6709;&#x540E;&#x7F00;&#xFF0C;&#x5982;&#xFF0C;int2.</p>
<p>&#x8FC7;&#x7A0B;: <code>(exact? num)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>num</code> &#x662F;&#x7CBE;&#x786E;&#x7684;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<pre><code>(exact? 1) =&gt; #t
(exact? -15/16) =&gt; #t
(exact? 2.01) =&gt; #f
(exact? #i77) =&gt; #f
(exact? #i2/3) =&gt; #f
(exact? 1.0-2i) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(inexact? num)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>num</code> &#x662F;&#x4E0D;&#x7CBE;&#x786E;&#x7684;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<pre><code>(inexact? -123) =&gt; #f
(inexact? #i123) =&gt; #t
(inexact? 1e23) =&gt; #t
(inexact? +i) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(= num1 num2 num3 ...)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(&lt; real1 real2 real3 ...)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(&gt; real1 real2 real3 ...)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(&lt;= real1 real2 real3 ...)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(&gt;= real1 real2 real3 ...)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C;&#x5173;&#x7CFB;&#x6210;&#x7ACB;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x8C13;&#x8BCD; <code>=</code> &#x5728;&#x5176;&#x5B9E;&#x53C2;&#x76F8;&#x7B49;&#x65F6;&#x8FD4;&#x56DE; <code>#t</code> &#x3002;&#x8C13;&#x8BCD; <code>&lt;</code> &#x5728;&#x5176;&#x5B9E;&#x53C2;&#x5355;&#x8C03;&#x9012;&#x589E;&#x65F6;&#x8FD4;&#x56DE; <code>#t</code> &#xFF0C;&#x5373;&#xFF0C;&#x6BCF;&#x4E2A;&#x5B9E;&#x53C2;&#x90FD;&#x5927;&#x4E8E;&#x5B83;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x53C2;&#xFF0C;&#x800C; <code>&gt;</code> &#x5728;&#x5176;&#x5B9E;&#x53C2;&#x5355;&#x8C03;&#x9012;&#x51CF;&#x65F6;&#x8FD4;&#x56DE; <code>#t</code> &#x3002;&#x8C13;&#x8BCD; <code>&lt;=</code> &#x5728;&#x5176;&#x5B9E;&#x53C2;&#x5355;&#x8C03;&#x975E;&#x9012;&#x51CF;&#x65F6;&#x8FD4;&#x56DE; <code>#t</code> &#xFF0C;&#x5373;&#xFF0C;&#x6BCF;&#x4E2A;&#x5B9E;&#x53C2;&#x4E0D;&#x5C0F;&#x4E8E;&#x5B83;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x53C2;&#xFF0C;&#x800C; <code>&gt;=</code> &#x5728;&#x5176;&#x5B9E;&#x53C2;&#x5355;&#x8C03;&#x975E;&#x9012;&#x589E;&#x65F6;&#x8FD4;&#x56DE; <code>#t</code> &#x3002;&#x53EA;&#x4F20;&#x5165;&#x4E00;&#x4E2A;&#x5B9E;&#x53C2;&#x65F6;&#xFF0C;&#x8FD9;&#x4E9B;&#x8C13;&#x8BCD;&#x5747;&#x8FD4;&#x56DE; <code>#t</code> &#x3002;</p>
<p>&#x5982;&#x540C;&#x53C2;&#x6570;&#x540D;&#x6240;&#x6697;&#x793A;&#x7684;&#xFF0C; <code>=</code> &#x5B9A;&#x4E49;&#x4E3A;&#x63A5;&#x53D7;&#x590D;&#x6570;&#x5B9E;&#x53C2;&#xFF0C;&#x800C;&#x5176;&#x5B83;&#x5173;&#x7CFB;&#x8C13;&#x8BCD;&#x5219;&#x5B9A;&#x4E49;&#x4E3A;&#x53EA;&#x63A5;&#x53D7;&#x5B9E;&#x6570;&#x5B9E;&#x53C2;&#x3002;&#x82E5;&#x4E24;&#x4E2A;&#x590D;&#x6570;&#x7684;&#x5B9E;&#x90E8;&#x548C;&#x865A;&#x90E8;&#x5747;&#x76F8;&#x7B49;&#xFF0C;&#x5219;&#x5B83;&#x4EEC;&#x88AB;&#x5224;&#x5B9A;&#x4E3A;&#x76F8;&#x7B49;&#x3002;&#x6D89;&#x53CA; <code>NaNs</code> &#x7684;&#x6BD4;&#x8F83;&#x5747;&#x8FD4;&#x56DE; <code>#f</code> .</p>
<pre><code>(= 7 7) =&gt; #t
(= 7 9) =&gt; #f

(&lt; 2e3 3e2) =&gt; #f
(&lt;= 1 2 3 3 4 5) =&gt; #t
(&lt;= 1 2 3 4 5) =&gt; #t

(&gt; 1 2 2 3 3 4) =&gt; #f
(&gt;= 1 2 2 3 3 4) =&gt; #f

(= -1/2 -0.5) =&gt; #t
(= 2/3 .667) =&gt; #f
(= 7.2+0i 7.2) =&gt; #t
(= 7.2-3i 7) =&gt; #f

(&lt; 1/2 2/3 3/4) =&gt; #t
(&gt; 8 4.102 2/3 -5) =&gt; #t

(let ([x 0.218723452])
  (&lt; 0.210 x 0.220)) =&gt; #t

(let ([i 1] [v (vector &apos;a &apos;b &apos;c)])
  (&lt; -1 i (vector-length v))) =&gt; #t

(apply &lt; &apos;(1 2 3 4)) =&gt; #t
(apply &gt; &apos;(4 3 3 2)) =&gt; #f

(= +nan.0 +nan.0) =&gt; #f
(&lt; +nan.0 +nan.0) =&gt; #f
(&gt; +nan.0 +nan.0) =&gt; #f
(&gt;= +inf.0 +nan.0) =&gt; #f
(&gt;= +nan.0 -inf.0) =&gt; #f
(&gt; +nan.0 0.0) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(+ num ...)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5B9E;&#x53C2; <code>num</code> &#x2026; &#x7684;&#x548C;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x4E0D;&#x5E26;&#x5B9E;&#x53C2;&#x8C03;&#x7528;&#x65F6;&#xFF0C; + &#x8FD4;&#x56DE; 0.</p>
<pre><code>(+) =&gt; 0
(+ 1 2) =&gt; 3
(+ 1/2 2/3) =&gt; 7/6
(+ 3 4 5) =&gt; 12
(+ 3.0 4) =&gt; 7.0
(+ 3+4i 4+3i) =&gt; 7+7i
(apply + &apos;(1 2 3 4 5)) =&gt; 15
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(- num)</code></p>
<p>&#x8FD4;&#x56DE;: <code>num</code> &#x7684;&#x52A0;&#x6CD5;&#x9006;&#x5143;</p>
<p>&#x8FC7;&#x7A0B;: <code>(- num1 num2 num3 ...)</code></p>
<p>&#x8FD4;&#x56DE;: <code>num1</code> &#x4E0E; <code>num2</code>  <code>num3</code> &#x2026; &#x4E4B;&#x548C;&#x7684;&#x5DEE;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<pre><code>(- 3) =&gt; -3
(- -2/3) =&gt; 2/3
(- 4 3.0) =&gt; 1.0
(- 3.25+4.25i 1/4+1/4i) =&gt; 3.0+4.0i
(- 4 3 2 1) =&gt; -2
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(* num ...)</code></p>
<p>&#x8FD4;&#x56DE;: <code>num</code> &#x2026; &#x7684;&#x79EF;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x4E0D;&#x5E26;&#x5B9E;&#x53C2;&#x8C03;&#x7528;&#x65F6;&#xFF0C; * &#x8FD4;&#x56DE; 1.</p>
<pre><code>(*) =&gt; 1
(* 3.4) =&gt; 3.4
(* 1 1/2) =&gt; 1/2
(* 3 4 5.5) =&gt; 66.0
(* 1+2i 3+4i) =&gt; -5+10i
(apply * &apos;(1 2 3 4 5)) =&gt; 120
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(/ num)</code></p>
<p>&#x8FD4;&#x56DE;: <code>num</code> &#x7684;&#x4E58;&#x6CD5;&#x9006;&#x5143;</p>
<p>&#x8FC7;&#x7A0B;: <code>(/ num1 num2 num3 ...)</code></p>
<p>&#x8FD4;&#x56DE;: <code>num1</code> &#x9664;&#x4EE5; <code>num2</code>  <code>num3</code> &#x2026; &#x4E4B;&#x79EF;&#x7684;&#x7ED3;&#x679C;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<pre><code>(/ -17) =&gt; -1/17
(/ 1/2) =&gt; 2
(/ .5) =&gt; 2.0
(/ 3 4) =&gt; 3/4
(/ 3.0 4) =&gt; .75
(/ -5+10i 3+4i) =&gt; 1+2i
(/ 60 5 4 3 2) =&gt; 1/2
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(zero? num)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>num</code> &#x4E3A; 0&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p> <code>zero?</code> &#x7B49;&#x4EF7;&#x4E8E; <code>(lambda (x) (= x 0))</code>.</p>
<pre><code>(zero? 0) =&gt; #t
(zero? 1) =&gt; #f
(zero? (- 3.0 3.0)) =&gt; #t
(zero? (+ 1/2 1/2)) =&gt; #f
(zero? 0+0i) =&gt; #t
(zero? 0.0-0.0i) =&gt; #t
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(positive? real)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>real</code> &#x5927;&#x4E8E; 0&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p><code>positive?</code> &#x7B49;&#x4EF7;&#x4E8E; <code>(lambda (x) (&gt; x 0))</code>.</p>
<pre><code>(positive? 128) =&gt; #t
(positive? 0.0) =&gt; #f
(positive? 1.8e-15) =&gt; #t
(positive? -2/3) =&gt; #f
(positive? .001-0.0i) =&gt; exception: not a real number
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(negative? real)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>real</code> &#x5C0F;&#x4E8E; 0&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p><code>negative?</code> &#x7B49;&#x4EF7;&#x4E8E; <code>(lambda (x) (&lt; x 0))</code>.</p>
<pre><code>(negative? -65) =&gt; #t
(negative? 0) =&gt; #f
(negative? -0.0121) =&gt; #t
(negative? 15/16) =&gt; #f
(negative? -7.0+0.0i) =&gt; exception: not a real number
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(even? int)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>int</code> &#x662F;&#x5076;&#x6570;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x8FC7;&#x7A0B;: <code>(odd? int)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>int</code> &#x662F;&#x5947;&#x6570;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<pre><code>(even? 0) =&gt; #t
(even? 1) =&gt; #f
(even? 2.0) =&gt; #t
(even? -120762398465) =&gt; #f
(even? 2.0+0.0i) =&gt; exception: not an integer

(odd? 0) =&gt; #f
(odd? 1) =&gt; #t
(odd? 2.0) =&gt; #f
(odd? -120762398465) =&gt; #t
(odd? 2.0+0.0i) =&gt; exception: not an integer
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(finite? real)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>real</code> &#x662F;&#x6709;&#x9650;&#x503C;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x8FC7;&#x7A0B;: <code>(infinite? real)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>real</code> &#x662F;&#x65E0;&#x9650;&#x503C;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x8FC7;&#x7A0B;: <code>(nan? real)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>real</code> &#x662F; NaN&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<pre><code>(finite? 2/3) =&gt; #t
(infinite? 2/3) =&gt; #f
(nan? 2/3) =&gt; #f

(finite? 3.1415) =&gt; #t
(infinite? 3.1415) =&gt; #f
(nan? 3.1415) =&gt; #f

(finite? +inf.0) =&gt; #f
(infinite? -inf.0) =&gt; #t
(nan? -inf.0) =&gt; #f

(finite? +nan.0) =&gt; #f
(infinite? +nan.0) =&gt; #f
(nan? +nan.0) =&gt; #t
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(quotient int1 int2)</code></p>
<p>&#x8FD4;&#x56DE;: <code>int1</code> &#x548C; <code>int2</code> &#x7684;&#x6574;&#x6570;&#x5546;</p>
<p>&#x8FC7;&#x7A0B;: <code>(remainder int1 int2)</code></p>
<p>&#x8FD4;&#x56DE;: <code>int1</code> &#x548C; <code>int2</code> &#x7684;&#x6574;&#x6570;&#x4F59;&#x6570;</p>
<p>&#x8FC7;&#x7A0B;: <code>(modulo int1 int2)</code></p>
<p>&#x8FD4;&#x56DE;: <code>int1</code> &#x548C; <code>int2</code> &#x7684;&#x6574;&#x6570;&#x6A21;</p>
<p>&#x5E93;: (rnrs r5rs)</p>
<p> <code>remainder</code> &#x7684;&#x7ED3;&#x679C;&#x4E0E; <code>int1</code> &#x7684;&#x7B26;&#x53F7;&#x76F8;&#x540C;&#xFF0C;&#x800C; <code>modulo</code> &#x7684;&#x7ED3;&#x679C;&#x4E0E; <code>int2</code> &#x7684;&#x7B26;&#x53F7;&#x76F8;&#x540C;&#x3002;</p>
<pre><code>(quotient 45 6) =&gt; 7
(quotient 6.0 2.0) =&gt; 3.0
(quotient 3.0 -2) =&gt; -1.0

(remainder 16 4) =&gt; 0
(remainder 5 2) =&gt; 1
(remainder -45.0 7) =&gt; -3.0
(remainder 10.0 -3.0) =&gt; 1.0
(remainder -17 -9) =&gt; -8

(modulo 16 4) =&gt; 0
(modulo 5 2) =&gt; 1
(modulo -45.0 7) =&gt; 4.0
(modulo 10.0 -3.0) =&gt; -2.0
(modulo -17 -9) =&gt; -8
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(div x_1 x_2)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(mod x_1 x_2)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(div-and-mod x_1 x_2)</code></p>
<p>&#x8FD4;&#x56DE;: &#x53C2;&#x89C1;&#x4E0B;&#x6587;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x5982;&#x679C; x<sub>1</sub> &#x548C; x<sub>2</sub> &#x662F;&#x7CBE;&#x786E;&#x7684;&#xFF0C;&#x5219; x<sub>2</sub> &#x4E00;&#x5B9A;&#x4E0D;&#x80FD;&#x4E3A; 0. &#x8FD9;&#x4E9B;&#x8FC7;&#x7A0B;&#x5B9E;&#x73B0;&#x4E86;&#x6570;&#x8BBA;&#x6574;&#x6570;&#x9664;&#x6CD5;&#xFF0C;&#x5176;&#x4E2D; div &#x64CD;&#x4F5C;&#x6C42;&#x5546;&#xFF0C;&#x800C; mod &#x64CD;&#x4F5C;&#x6C42;&#x4F59;&#x6570;&#x6216;&#x6A21;&#xFF0C;&#x4F46;&#x6BCF;&#x79CD;&#x60C5;&#x51B5;&#x5747;&#x88AB;&#x6269;&#x5C55;&#x4E3A;&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x5B9E;&#x6570;&#x3002;</p>
<p>(div x<sub>1</sub> x<sub>2</sub>) &#x7684;&#x503C; n<sub>d</sub> &#x662F;&#x4E00;&#x4E2A;&#x6574;&#x6570;&#xFF0C;&#x800C; (mod x<sub>1</sub> x<sub>2</sub>) &#x7684;&#x503C; x<sub>m</sub> &#x662F;&#x4E00;&#x4E2A;&#x5B9E;&#x6570;&#xFF0C;&#x6EE1;&#x8DB3; x<sub>1</sub> = n<sub>d</sub> &#xB7; x<sub>2</sub> + x<sub>m</sub> &#x4E14; 0 &#x2264; x<sub>m</sub> &lt; |x<sub>2</sub>|. &#x5728;&#x67D0;&#x4E2A;&#x5B9E;&#x73B0;&#x65E0;&#x6CD5;&#x4EE5;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x5BF9;&#x8C61;&#x8868;&#x793A;&#x8FD9;&#x4E9B;&#x7B97;&#x5F0F;&#x5F97;&#x51FA;&#x7684;&#x6570;&#x5B66;&#x7ED3;&#x679C;&#x65F6;&#xFF0C;div &#x548C; mod &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x672A;&#x5B9A;&#x4E49;&#x6570;&#x6216;&#x629B;&#x51FA;&#x4E00;&#x4E2A;&#x6761;&#x4EF6;&#x7C7B;&#x578B;&#x7684; &amp;implementation-restriction &#x5F02;&#x5E38;&#x3002;</p>
<p> <code>div-and-mod</code> &#x8FC7;&#x7A0B;&#x7684;&#x884C;&#x4E3A;&#x5982;&#x540C;&#x5982;&#x4E0B;&#x5B9A;&#x4E49;&#x3002;</p>
<p><code>(define (div-and-mod x_1 x_2) (values (div x_1 x_2) (mod x_1 x_2)))</code></p>
<p>&#x5373;&#xFF0C;&#x9664;&#x975E;&#x5728;&#x4E0A;&#x8FF0;&#x90A3;&#x79CD;&#x60C5;&#x51B5;&#x4E2D;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#xFF0C;&#x5B83;&#x8FD4;&#x56DE;&#x4E24;&#x4E2A;&#x503C;&#xFF1A;&#x5728;&#x4E24;&#x4E2A;&#x5B9E;&#x53C2;&#x4E0A;&#x8C03;&#x7528; <code>div</code> &#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x548C;&#x5728;&#x4E24;&#x4E2A;&#x5B9E;&#x53C2;&#x4E0A;&#x8C03;&#x7528; <code>mod</code> &#x7684;&#x7ED3;&#x679C;&#x3002;</p>
<pre><code>(div 17 3) =&gt; 5
(mod 17 3) =&gt; 2
(div -17 3) =&gt; -6
(mod -17 3) =&gt; 1
(div 17 -3) =&gt; -5
(mod 17 -3) =&gt; 2
(div -17 -3) =&gt; 6
(mod -17 -3) =&gt; 1

(div-and-mod 17.5 3) =&gt; 5.0
2.5
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(div0 x_1 x_2)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(mod0 x_1 x_2)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(div0-and-mod0 x_1 x_2)</code></p>
<p>&#x8FD4;&#x56DE;: &#x53C2;&#x89C1;&#x4E0B;&#x6587;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x5982;&#x679C; x<sub>1</sub> &#x548C; x<sub>2</sub> &#x662F;&#x7CBE;&#x786E;&#x7684;&#xFF0C;&#x5219; x<sub>2</sub> &#x4E00;&#x5B9A;&#x4E0D;&#x80FD;&#x662F; 0. &#x8FD9;&#x4E9B;&#x8FC7;&#x7A0B;&#x548C; div, mod, &#x4EE5;&#x53CA; div-and-mod &#x7C7B;&#x4F3C;&#xFF0C;&#x4F46;&#x5BF9; &quot;mod&quot; &#x7684;&#x503C;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x9650;&#x5236;&#xFF0C;&#x8FD9;&#x540C;&#x65F6;&#x4E5F;&#x5F71;&#x54CD;&#x5230; &quot;div&quot; &#x7684;&#x503C;&#x3002; (div0 x<sub>1</sub> x<sub>2</sub>) &#x7684;&#x503C; n<sub>d</sub> &#x662F;&#x6574;&#x6570;&#xFF0C;&#x800C; (mod0 x<sub>1</sub> x<sub>2</sub>) &#x7684;&#x503C; x<sub>m</sub> &#x662F;&#x5B9E;&#x6570;&#xFF0C; &#x6EE1;&#x8DB3; x<sub>1</sub> = n<sub>d</sub> &#xB7; x<sub>2</sub> + x<sub>m</sub> &#x4E14; -|x<sub>2</sub>/2| &#x2264; x<sub>m</sub> &lt; |x<sub>2</sub>/2|. &#x5728;&#x67D0;&#x4E2A;&#x5B9E;&#x73B0;&#x65E0;&#x6CD5;&#x4EE5;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x5BF9;&#x8C61;&#x8868;&#x793A;&#x8FD9;&#x4E9B;&#x7B97;&#x5F0F;&#x5F97;&#x51FA;&#x7684;&#x6570;&#x5B66;&#x7ED3;&#x679C;&#x65F6;&#xFF0C;div0 &#x548C; mod0 &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x672A;&#x5B9A;&#x4E49;&#x6570;&#x6216;&#x629B;&#x51FA;&#x4E00;&#x4E2A;&#x6761;&#x4EF6;&#x7C7B;&#x578B;&#x7684; &amp;implementation-restriction &#x5F02;&#x5E38;&#x3002;</p>
<p> <code>div0-and-mod0</code> &#x8FC7;&#x7A0B;&#x7684;&#x884C;&#x4E3A;&#x5982;&#x540C;&#x5982;&#x4E0B;&#x5B9A;&#x4E49;&#x3002;</p>
<p><code>(define (div0-and-mod0 x_1 x_2) (values (div0 x_1 x_2) (mod0 x_1 x_2)))</code></p>
<p>&#x5373;&#xFF0C;&#x9664;&#x975E;&#x5728;&#x4E0A;&#x8FF0;&#x90A3;&#x79CD;&#x60C5;&#x51B5;&#x4E2D;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#xFF0C;&#x5B83;&#x8FD4;&#x56DE;&#x4E24;&#x4E2A;&#x503C;&#xFF1A;&#x5728;&#x4E24;&#x4E2A;&#x5B9E;&#x53C2;&#x4E0A;&#x8C03;&#x7528; <code>div0</code> &#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x548C;&#x5728;&#x4E24;&#x4E2A;&#x5B9E;&#x53C2;&#x4E0A;&#x8C03;&#x7528; <code>mod0</code> &#x7684;&#x7ED3;&#x679C;&#x3002;</p>
<pre><code>(div0 17 3) =&gt; 6
(mod0 17 3) =&gt; -1
(div0 -17 3) =&gt; -6
(mod0 -17 3) =&gt; 1
(div0 17 -3) =&gt; -6
(mod0 17 -3) =&gt; -1
(div0 -17 -3) =&gt; 6
(mod0 -17 -3) =&gt; 1

(div0-and-mod0 17.5 3) =&gt; 6.0
-0.5
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(truncate real)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5728;&#x8D8B;&#x4E8E; 0 &#x7684;&#x65B9;&#x5411;&#x4E0A;&#x6700;&#x63A5;&#x8FD1; <code>real</code> &#x7684;&#x6574;&#x6570;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x5982;&#x679C; <code>real</code> &#x662F;&#x65E0;&#x7A77;&#x6570;&#x6216; <code>NaN</code> &#xFF0C; <code>truncate</code> &#x8FD4;&#x56DE; <code>real</code> .</p>
<pre><code>(truncate 19) =&gt; 19
(truncate 2/3) =&gt; 0
(truncate -2/3) =&gt; 0
(truncate 17.3) =&gt; 17.0
(truncate -17/2) =&gt; -8
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(floor real)</code></p>
<p>&#x8FD4;&#x56DE;: &#x8D8B;&#x4E8E; -&#x221E; &#x7684;&#x65B9;&#x5411;&#x4E0A;&#x6700;&#x63A5;&#x8FD1; <code>real</code> &#x7684;&#x6574;&#x6570;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x5982;&#x679C; <code>real</code> &#x662F;&#x65E0;&#x7A77;&#x6570;&#x6216; <code>NaN</code> &#xFF0C; <code>floor</code> &#x8FD4;&#x56DE; <code>real</code> .</p>
<pre><code>(floor 19) =&gt; 19
(floor 2/3) =&gt; 0
(floor -2/3) =&gt; -1
(floor 17.3) =&gt; 17.0
(floor -17/2) =&gt; -9
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(ceiling real)</code></p>
<p>&#x8FD4;&#x56DE;: &#x8D8B;&#x4E8E; +&#x221E; &#x7684;&#x65B9;&#x5411;&#x4E0A;&#x6700;&#x63A5;&#x8FD1; <code>real</code> &#x7684;&#x6574;&#x6570;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x5982;&#x679C; <code>real</code> &#x662F;&#x65E0;&#x7A77;&#x6570;&#x6216; <code>NaN</code> &#xFF0C; <code>ceiling</code> &#x8FD4;&#x56DE; <code>real</code> .</p>
<pre><code>(ceiling 19) =&gt; 19
(ceiling 2/3) =&gt; 1
(ceiling -2/3) =&gt; 0
(ceiling 17.3) =&gt; 18.0
(ceiling -17/2) =&gt; -8
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(round real)</code></p>
<p>&#x8FD4;&#x56DE;: &#x6700;&#x63A5;&#x8FD1; <code>real</code> &#x7684;&#x6574;&#x6570;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x5982;&#x679C; <code>real</code> &#x5904;&#x4E8E;&#x4E24;&#x4E2A;&#x6574;&#x6570;&#x7684;&#x6B63;&#x4E2D;&#x95F4;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x6700;&#x63A5;&#x8FD1;&#x7684;&#x5076;&#x6570;&#x3002;&#x5982;&#x679C; <code>real</code> &#x662F;&#x65E0;&#x7A77;&#x6570;&#x6216; <code>NaN</code> &#xFF0C; <code>round</code> &#x8FD4;&#x56DE; <code>real</code> .</p>
<pre><code>(round 19) =&gt; 19
(round 2/3) =&gt; 1
(round -2/3) =&gt; -1
(round 17.3) =&gt; 17.0
(round -17/2) =&gt; -8
(round 2.5) =&gt; 2.0
(round 3.5) =&gt; 4.0
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(abs real)</code></p>
<p>&#x8FD4;&#x56DE;: <code>real</code> &#x7684;&#x7EDD;&#x5BF9;&#x503C;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p> <code>abs</code> &#x7B49;&#x4EF7;&#x4E8E; <code>(lambda (x) (if (&lt; x 0) (- x) x))</code>. &#x5BF9;&#x4E8E;&#x5B9E;&#x6570;&#x8F93;&#x5165;&#xFF0C; <code>abs</code> &#x548C; <code>magnitude</code> (&#x53C2;&#x89C1; 183 &#x9875;) &#x662F;&#x4E00;&#x6837;&#x7684;&#x3002;</p>
<pre><code>(abs 1) =&gt; 1
(abs -3/4) =&gt; 3/4
(abs 1.83) =&gt; 1.83
(abs -0.093) =&gt; 0.093
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(max real1 real2 ...)</code></p>
<p>&#x8FD4;&#x56DE;: <code>real1</code>  <code>real2</code> &#x2026; &#x7684;&#x6700;&#x5927;&#x503C;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<pre><code>(max 4 -7 2 0 -6) =&gt; 4
(max 1/2 3/4 4/5 5/6 6/7) =&gt; 6/7
(max 1.5 1.3 -0.3 0.4 2.0 1.8) =&gt; 2.0
(max 5 2.0) =&gt; 5.0
(max -5 -2.0) =&gt; -2.0
(let ([ls &apos;(7 3 5 2 9 8)])
  (apply max ls)) =&gt; 9
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(min real1 real2 ...)</code></p>
<p>&#x8FD4;&#x56DE;: <code>real1</code>  <code>real2</code> &#x2026; &#x7684;&#x6700;&#x5C0F;&#x503C;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<pre><code>(min 4 -7 2 0 -6) =&gt; -7
(min 1/2 3/4 4/5 5/6 6/7) =&gt; 1/2
(min 1.5 1.3 -0.3 0.4 2.0 1.8) =&gt; -0.3
(min 5 2.0) =&gt; 2.0
(min -5 -2.0) =&gt; -5.0
(let ([ls &apos;(7 3 5 2 9 8)])
  (apply min ls)) =&gt; 2
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(gcd int ...)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5B9E;&#x53C2; <code>int</code> &#x2026; &#x7684;&#x6700;&#x5927;&#x516C;&#x7EA6;&#x6570;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x7ED3;&#x679C;&#x603B;&#x662F;&#x975E;&#x8D1F;&#x6570;&#xFF0C;&#x5373;&#xFF0C;&#x56E0;&#x5B50; -1 &#x4F1A;&#x88AB;&#x5FFD;&#x7565;&#x3002;&#x4E0D;&#x5E26;&#x5B9E;&#x53C2;&#x8C03;&#x7528;&#x65F6;&#xFF0C; <code>gcd</code> &#x8FD4;&#x56DE; 0.</p>
<pre><code>(gcd) =&gt; 0
(gcd 34) =&gt; 34
(gcd 33.0 15.0) =&gt; 3.0
(gcd 70 -42 28) =&gt; 14
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(lcm int ...)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5B9E;&#x53C2; <code>int</code> &#x2026; &#x7684;&#x6700;&#x5C0F;&#x516C;&#x500D;&#x6570;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x7ED3;&#x679C;&#x603B;&#x662F;&#x975E;&#x8D1F;&#x6570;&#xFF0C;&#x5373;&#xFF0C;-1 &#x7684;&#x516C;&#x500D;&#x6570;&#x4F1A;&#x88AB;&#x5FFD;&#x7565;&#x3002;&#x867D;&#x7136;&#x4E0D;&#x5E26;&#x5B9E;&#x53C2;&#x8C03;&#x7528; <code>lcm</code> &#x65F6;&#xFF0C;&#x53EF;&#x80FD;&#x5E94;&#x8BE5;&#x8FD4;&#x56DE; &#x221E;, &#x4F46;&#x5B83;&#x5B9A;&#x4E49;&#x4E3A;&#x8FD4;&#x56DE; 1. &#x5982;&#x679C;&#x4E00;&#x4E2A;&#x6216;&#x66F4;&#x591A;&#x5B9E;&#x53C2;&#x4E3A; 0&#xFF0C; <code>lcm</code> &#x8FD4;&#x56DE; 0.</p>
<pre><code>(lcm) =&gt; 1
(lcm 34) =&gt; 34
(lcm 33.0 15.0) =&gt; 165.0
(lcm 70 -42 28) =&gt; 420
(lcm 17.0 0) =&gt; 0.0
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(expt num1 num2)</code></p>
<p>&#x8FD4;&#x56DE;: <code>num1</code> &#x7684; <code>num2</code> &#x6B21;&#x5E42;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x5982;&#x679C;&#x5B9E;&#x53C2;&#x5747;&#x4E3A; 0&#xFF0C; <code>expt</code> &#x8FD4;&#x56DE; 1.</p>
<pre><code>(expt 2 10) =&gt; 1024
(expt 2 -10) =&gt; 1/1024
(expt 2 -10.0) =&gt; 9.765625e-4
(expt -1/2 5) =&gt; -1/32
(expt 3.0 3) =&gt; 27.0
(expt +i 2) =&gt; -1
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(inexact num)</code></p>
<p>&#x8FD4;&#x56DE;: <code>num</code> &#x7684;&#x4E0D;&#x7CBE;&#x786E;&#x8868;&#x793A;&#x5F62;&#x5F0F;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x5982;&#x679C; <code>num</code> &#x5DF2;&#x7ECF;&#x662F;&#x4E0D;&#x7CBE;&#x786E;&#x7684;&#xFF0C;&#x5B83;&#x8FD4;&#x56DE; <code>num</code> &#x672C;&#x8EAB;&#x3002;&#x5982;&#x679C;&#x5F53;&#x524D;&#x5B9E;&#x73B0;&#x4E0D;&#x652F;&#x6301; <code>num</code> &#x7684;&#x4E0D;&#x7CBE;&#x786E;&#x8868;&#x793A;&#x5F62;&#x5F0F;&#xFF0C;&#x5219;&#x53EF;&#x80FD;&#x4F1A;&#x629B;&#x51FA;&#x4E00;&#x4E2A;&#x6761;&#x4EF6;&#x7C7B;&#x578B;&#x7684; <code>&amp;implementation-violation</code> &#x5F02;&#x5E38;&#x3002;&#x5BF9;&#x4E8E;&#x91CF;&#x7EA7;&#x8D85;&#x51FA;&#x4E86;&#x5F53;&#x524D;&#x5B9E;&#x73B0;&#x7684;&#x4E0D;&#x7CBE;&#x786E;&#x6570;&#x5B57;&#x8868;&#x793A;&#x5F62;&#x5F0F;&#x7684;&#x8303;&#x56F4;&#x7684;&#x8F93;&#x5165;&#xFF0C; <code>inexact</code> &#x4E5F;&#x53EF;&#x80FD;&#x8FD4;&#x56DE; +inf.0 &#x6216; -inf.0.</p>
<pre><code>(inexact 3) =&gt; 3.0
(inexact 3.0) =&gt; 3.0
(inexact -1/4) =&gt; -.25
(inexact 3+4i) =&gt; 3.0+4.0i
(inexact (expt 10 20)) =&gt; 1e20
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(exact num)</code></p>
<p>&#x8FD4;&#x56DE;: <code>num</code> &#x7684;&#x7CBE;&#x786E;&#x8868;&#x793A;&#x5F62;&#x5F0F;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x5982;&#x679C; <code>num</code> &#x5DF2;&#x7ECF;&#x662F;&#x7CBE;&#x786E;&#x7684;&#xFF0C;&#x5B83;&#x8FD4;&#x56DE; <code>num</code> &#x672C;&#x8EAB;&#x3002;&#x5982;&#x679C;&#x5F53;&#x524D;&#x5B9E;&#x73B0;&#x4E0D;&#x652F;&#x6301; <code>num</code> &#x7684;&#x7CBE;&#x786E;&#x8868;&#x793A;&#x5F62;&#x5F0F;&#xFF0C;&#x5219;&#x53EF;&#x80FD;&#x4F1A;&#x629B;&#x51FA;&#x4E00;&#x4E2A;&#x6761;&#x4EF6;&#x7C7B;&#x578B;&#x7684; <code>&amp;implementation-violation</code> &#x5F02;&#x5E38;&#x3002;</p>
<pre><code>(exact 3.0) =&gt; 3
(exact 3) =&gt; 3
(exact -.25) =&gt; -1/4
(exact 3.0+4.0i) =&gt; 3+4i
(exact 1e20) =&gt; 100000000000000000000
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(exact-&gt;inexact num)</code></p>
<p>&#x8FD4;&#x56DE;: <code>num</code> &#x7684;&#x4E0D;&#x7CBE;&#x786E;&#x8868;&#x793A;&#x5F62;&#x5F0F;</p>
<p>&#x8FC7;&#x7A0B;: <code>(inexact-&gt;exact num)</code></p>
<p>&#x8FD4;&#x56DE;: <code>num</code> &#x7684;&#x7CBE;&#x786E;&#x8868;&#x793A;&#x5F62;&#x5F0F;</p>
<p>&#x5E93;: (rnrs r5rs)</p>
<p>&#x8FD9;&#x4E9B;&#x662F; <code>inexact</code> &#x548C; <code>exact</code> &#x7684;&#x522B;&#x540D;&#xFF0C;&#x4EE5;&#x548C;&#x7B2C; 5 &#x4FEE;&#x8BA2;&#x7248;&#x62A5;&#x544A;&#x517C;&#x5BB9;&#x3002;</p>
<p>&#x8FC7;&#x7A0B;: <code>(rationalize real1 real2)</code></p>
<p>&#x8FD4;&#x56DE;: &#x53C2;&#x89C1;&#x4E0B;&#x6587;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p> <code>rationalize</code> &#x8FD4;&#x56DE;&#x4E0E; <code>real1</code> &#x76F8;&#x5DEE;&#x4E0D;&#x8D85;&#x8FC7; <code>real2</code> &#x7684;&#x6700;&#x7B80;&#x5355;&#x7684;&#x6709;&#x7406;&#x6570;&#x3002;&#x5F53; |n1| &#x2264; |n2| &#x4E14; |m1| &#x2264; |m2|, &#x4E14; |n1| &lt; |n2| &#x6216; |m1| &lt; |m2| &#x65F6;&#xFF0C;&#x6709;&#x7406;&#x6570; q1 = n1/m1 &#x6BD4;&#x6709;&#x7406;&#x6570; q2 = n2/m2 &#x7B80;&#x5355;&#x3002;</p>
<pre><code>(rationalize 3/10 1/10) =&gt; 1/3
(rationalize .3 1/10) =&gt; 0.3333333333333333
(eqv? (rationalize .3 1/10) #i1/3) =&gt; #t
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(numerator rat)</code></p>
<p>&#x8FD4;&#x56DE;: <code>rat</code> &#x7684;&#x5206;&#x5B50;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x5982;&#x679C; <code>rat</code> &#x662F;&#x6574;&#x6570;&#xFF0C;&#x5219; <code>numerator</code> &#x4E3A; <code>rat</code> .</p>
<pre><code>(numerator 9) =&gt; 9
(numerator 9.0) =&gt; 9.0
(numerator 0.0) =&gt; 0.0
(numerator 2/3) =&gt; 2
(numerator -9/4) =&gt; -9
(numerator -2.25) =&gt; -9.0
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(denominator rat)</code></p>
<p>&#x8FD4;&#x56DE;: <code>rat</code> &#x7684;&#x5206;&#x6BCD;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x5982;&#x679C; <code>rat</code> &#x662F;&#x6574;&#x6570;&#xFF0C;&#x5305;&#x62EC; 0&#xFF0C;&#x5219; <code>denominator</code> &#x4E3A; 1.</p>
<pre><code>(denominator 9) =&gt; 1
(denominator 9.0) =&gt; 1.0
(denominator 0) =&gt; 1
(denominator 0.0) =&gt; 1.0
(denominator 2/3) =&gt; 3
(denominator -9/4) =&gt; 4
(denominator -2.25) =&gt; 4.0
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(real-part num)</code></p>
<p>&#x8FD4;&#x56DE;: <code>num</code> &#x7684;&#x5B9E;&#x90E8;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x5982;&#x679C; <code>num</code> &#x662F;&#x5B9E;&#x6570;&#xFF0C;&#x5219; <code>real-part</code> &#x8FD4;&#x56DE; <code>num</code> .</p>
<pre><code>(real-part 3+4i) =&gt; 3
(real-part -2.3+0.7i) =&gt; -2.3
(real-part -i) =&gt; 0
(real-part 17.2) =&gt; 17.2
(real-part -17/100) =&gt; -17/100
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(imag-part num)</code></p>
<p>&#x8FD4;&#x56DE;: <code>num</code> &#x7684;&#x865A;&#x90E8;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x5982;&#x679C; <code>num</code> &#x662F;&#x5B9E;&#x6570;&#xFF0C; <code>imag-part</code> &#x8FD4;&#x56DE;&#x7CBE;&#x786E;&#x7684; 0.</p>
<pre><code>(imag-part 3+4i) =&gt; 4
(imag-part -2.3+0.7i) =&gt; 0.7
(imag-part -i) =&gt; -1
(imag-part -2.5) =&gt; 0
(imag-part -17/100) =&gt; 0
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(make-rectangular real1 real2)</code></p>
<p>&#x8FD4;&#x56DE;: &#x4E00;&#x4E2A;&#x590D;&#x6570;&#xFF0C;&#x5B9E;&#x90E8;&#x4E3A; <code>real1</code> &#xFF0C;&#x865A;&#x90E8;&#x4E3A; <code>real2</code> </p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<pre><code>(make-rectangular -2 7) =&gt; -2+7i
(make-rectangular 2/3 -1/2) =&gt; 2/3-1/2i
(make-rectangular 3.2 5.3) =&gt; 3.2+5.3i
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(make-polar real1 real2)</code></p>
<p>&#x8FD4;&#x56DE;: &#x4E00;&#x4E2A;&#x590D;&#x6570;&#xFF0C;&#x6A21;&#x4E3A; <code>real1</code> &#xFF0C;&#x8F90;&#x89D2;&#x4E3A; <code>real2</code> </p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<pre><code>(make-polar 2 0) =&gt; 2
(make-polar 2.0 0.0) =&gt; 2.0+0.0i
(make-polar 1.0 (asin -1.0)) =&gt; 0.0-1.0i
(eqv? (make-polar 7.2 -0.588) 7.2@-0.588) =&gt; #t
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(angle num)</code></p>
<p>&#x8FD4;&#x56DE;: <code>num</code> &#x6781;&#x5750;&#x6807;&#x5F62;&#x5F0F;&#x7684;&#x8F90;&#x89D2;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x7ED3;&#x679C;&#x7684;&#x8303;&#x56F4;&#x662F; -&#x3C0;&#xFF08;&#x4E0D;&#x5305;&#x542B;&#xFF09;&#x81F3; +&#x3C0;&#xFF08;&#x5305;&#x542B;&#xFF09;&#x3002;</p>
<pre><code>(angle 7.3@1.5708) =&gt; 1.5708
(angle 5.2) =&gt; 0.0
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(magnitude num)</code></p>
<p>&#x8FD4;&#x56DE;: <code>num</code> &#x7684;&#x6A21;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x5BF9;&#x5B9E;&#x6570;&#x5B9E;&#x53C2;&#xFF0C;&#x6A21;&#x548C;&#x7EDD;&#x5BF9;&#x503C;&#xFF08;&#x53C2;&#x89C1; 178 &#x9875;&#xFF09;&#x662F;&#x4E00;&#x6837;&#x7684;&#x3002;&#x590D;&#x6570; x + yi &#x7684;&#x6A21;&#x662F; +&#x221A; x<sup>2</sup>+y<sup>2</sup>.</p>
<pre><code>(magnitude 1) =&gt; 1
(magnitude -3/4) =&gt; 3/4
(magnitude 1.83) =&gt; 1.83
(magnitude -0.093) =&gt; 0.093
(magnitude 3+4i) =&gt; 5
(magnitude 7.25@1.5708) =&gt; 7.25
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(sqrt num)</code></p>
<p>&#x8FD4;&#x56DE;: <code>num</code> &#x7684;&#x4E3B;&#x5E73;&#x65B9;&#x6839;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p> <code>sqrt</code> &#x7684;&#x8F93;&#x5165;&#x4E3A;&#x7CBE;&#x786E;&#x503C;&#x65F6;&#xFF0C;&#x53EA;&#x8981;&#x53EF;&#x80FD;&#xFF0C;&#x5B9E;&#x73B0;&#x6700;&#x597D;&#x8FD4;&#x56DE;&#x7CBE;&#x786E;&#x7ED3;&#x679C;&#xFF0C;&#x4F46;&#x8FD9;&#x5E76;&#x975E;&#x786C;&#x6027;&#x8981;&#x6C42;&#x3002;</p>
<pre><code>(sqrt 16) =&gt; 4
(sqrt 1/4) =&gt; 1/2
(sqrt 4.84) =&gt; 2.2
(sqrt -4.84) =&gt; 0.0+2.2i
(sqrt 3+4i) =&gt; 2+1i
(sqrt -3.0-4.0i) =&gt; 1.0-2.0i
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(exact-integer-sqrt n)</code></p>
<p>&#x8FD4;&#x56DE;: &#x53C2;&#x89C1;&#x4E0B;&#x6587;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x8FD4;&#x56DE;&#x4E24;&#x4E2A;&#x975E;&#x8D1F;&#x7CBE;&#x786E;&#x6574;&#x6570; s &#x548C; r&#xFF0C;&#x5176;&#x4E2D; n = s<sup>2</sup> + r, &#x4E14; n &lt; (s + 1)2.</p>
<pre><code>(exact-integer-sqrt 0) =&gt; 0
0
(exact-integer-sqrt 9) =&gt; 3
=&gt; 0
(exact-integer-sqrt 19) =&gt; 4
=&gt; 3
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(exp num)</code></p>
<p>&#x8FD4;&#x56DE;: e &#x7684; <code>num</code> &#x6B21;&#x5E42;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<pre><code>(exp 0.0) =&gt; 1.0
(exp 1.0) =&gt; 2.7182818284590455
(exp -.5) =&gt; 0.6065306597126334
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(log num)</code></p>
<p>&#x8FD4;&#x56DE;: <code>num</code> &#x7684;&#x81EA;&#x7136;&#x5BF9;&#x6570;</p>
<p>&#x8FC7;&#x7A0B;: <code>(log num1 num2)</code></p>
<p>&#x8FD4;&#x56DE;: <code>num1</code> &#x4EE5; <code>num2</code> &#x4E3A;&#x5E95;&#x7684;&#x5BF9;&#x6570;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<pre><code>(log 1.0) =&gt; 0.0
(log (exp 1.0)) =&gt; 1.0
(/ (log 100) (log 10)) =&gt; 2.0
(log (make-polar (exp 2.0) 1.0)) =&gt; 2.0+1.0i

(log 100.0 10.0) =&gt; 2.0
(log .125 2.0) =&gt; -3.0
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(sin num)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(cos num)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(tan num)</code></p>
<p>&#x8FD4;&#x56DE;: num &#x7684;&#x6B63;&#x5F26;, &#x4F59;&#x5F26;, &#x6216;&#x6B63;&#x5207;&#x503C;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x5B9E;&#x53C2;&#x4EE5;&#x5F27;&#x5EA6;&#x6307;&#x5B9A;&#x3002;</p>
<pre><code>(sin 0.0) =&gt; 0.0
(cos 0.0) =&gt; 1.0
(tan 0.0) =&gt; 0.0
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(asin num)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(acos num)</code></p>
<p>&#x8FD4;&#x56DE;: <code>num</code> &#x7684;&#x53CD;&#x6B63;&#x5F26;&#x6216;&#x53CD;&#x4F59;&#x5F26;&#x503C;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x7ED3;&#x679C;&#x4EE5;&#x5F27;&#x5EA6;&#x8868;&#x793A;&#x3002;&#x590D;&#x6570; z &#x7684;&#x53CD;&#x6B63;&#x5F26;&#x548C;&#x53CD;&#x4F59;&#x5F26;&#x4F9D;&#x5982;&#x4E0B;&#x5B9A;&#x4E49;&#x3002;</p>
<p>sin<sup>-1</sup>(z) = -ilog(iz + &#x221A;1-z<sup>2</sup>)</p>
<p>cos<sup>-1</sup>(z) = &#x3C0;/2 - sin<sup>-1</sup>(z)</p>
<pre><code>(define pi (* (asin 1) 2))
(= (* (acos 0) 2) pi) =&gt; #t
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(atan num)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(atan real1 real2)</code></p>
<p>&#x8FD4;&#x56DE;: &#x53C2;&#x89C1;&#x4E0B;&#x6587;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x5F53;&#x4F20;&#x5165;&#x5355;&#x4E2A;&#x7684;&#x590D;&#x6570;&#x5B9E;&#x53C2; <code>num</code> &#xFF08;&#x7B2C;&#x4E00;&#x79CD;&#x5F62;&#x5F0F;&#xFF09;&#x65F6;&#xFF0C; <code>atan</code> &#x8FD4;&#x56DE; <code>num</code> &#x7684;&#x53CD;&#x6B63;&#x5207;&#x503C;&#x3002;&#x590D;&#x6570; z &#x7684;&#x53CD;&#x6B63;&#x5207;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#xFF1A;</p>
<p>tan<sup>-1</sup>(z) = (log(1+iz) - log(1-iz))/(2i)</p>
<p>&#x5F53;&#x4F20;&#x5165;&#x4E24;&#x4E2A;&#x5B9E;&#x6570;&#x5B9E;&#x53C2;&#xFF08;&#x7B2C;&#x4E8C;&#x79CD;&#x5F62;&#x5F0F;&#xFF09;&#x65F6;&#xFF0C; <code>atan</code> &#x7B49;&#x4EF7;&#x4E8E; <code>(lambda (y x) (angle (make-rectangular x y)))</code>.</p>
<pre><code>(define pi (* (atan 1) 4))
(= (* (atan 1.0 0.0) 2) pi) =&gt; #t
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bitwise-not exint)</code></p>
<p>&#x8FD4;&#x56DE;: <code>exint</code> &#x7684;&#x6309;&#x4F4D;&#x975E;</p>
<p>&#x8FC7;&#x7A0B;: <code>(bitwise-and exint ...)</code></p>
<p>&#x8FD4;&#x56DE;: <code>exint</code> &#x2026; &#x7684;&#x6309;&#x4F4D;&#x4E0E;</p>
<p>&#x8FC7;&#x7A0B;: <code>(bitwise-ior exint ...)</code></p>
<p>&#x8FD4;&#x56DE;: <code>exint</code> &#x2026; &#x7684;&#x6309;&#x4F4D;&#x6216;</p>
<p>&#x8FC7;&#x7A0B;: <code>(bitwise-xor exint ...)</code></p>
<p>&#x8FD4;&#x56DE;: <code>exint</code> &#x2026; &#x7684;&#x6309;&#x4F4D;&#x5F02;&#x6216;</p>
<p>&#x5E93;: (rnrs arithmetic bitwise), (rnrs)</p>
<p>&#x8F93;&#x5165;&#x88AB;&#x4F5C;&#x4E3A;&#x8865;&#x7801;&#x5F62;&#x5F0F;&#x5904;&#x7406;&#xFF0C;&#x5373;&#x4F7F;&#x5B83;&#x4EEC;&#x5728;&#x5185;&#x90E8;&#x5E76;&#x4E0D;&#x5982;&#x6B64;&#x8868;&#x793A;&#x3002;</p>
<pre><code>(bitwise-not 0) =&gt; -1
(bitwise-not 3) =&gt; -4

(bitwise-and #b01101 #b00111) =&gt; #b00101
(bitwise-ior #b01101 #b00111) =&gt; #b01111
(bitwise-xor #b01101 #b00111) =&gt; #b01010
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bitwise-if exint1 exint2 exint3)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5B9E;&#x53C2;&#x7684;&#x6309;&#x4F4D; <code>if</code> </p>
<p>&#x5E93;: (rnrs arithmetic bitwise), (rnrs)</p>
<p>&#x8F93;&#x5165;&#x88AB;&#x4F5C;&#x4E3A;&#x8865;&#x7801;&#x5F62;&#x5F0F;&#x5904;&#x7406;&#xFF0C;&#x5373;&#x4F7F;&#x5B83;&#x4EEC;&#x5728;&#x5185;&#x90E8;&#x5E76;&#x4E0D;&#x5982;&#x6B64;&#x8868;&#x793A;&#x3002;</p>
<p>&#x5BF9; <code>exint1</code> &#x7684;&#x6BCF;&#x4E2A;&#x4E3A; 1 &#x7684;&#x4F4D;&#xFF0C;&#x7ED3;&#x679C;&#x7684;&#x5BF9;&#x5E94;&#x4F4D;&#x53D6;&#x81EA; <code>exint2</code> , &#x800C;&#x5BF9; <code>exint1</code> &#x7684;&#x6BCF;&#x4E2A;&#x4E3A; 0 &#x7684;&#x4F4D;&#xFF0C;&#x7ED3;&#x679C;&#x7684;&#x5BF9;&#x5E94;&#x4F4D;&#x53D6;&#x81EA; <code>exint3</code> .</p>
<p><code>(bitwise-if #b101010 #b111000 #b001100) =&gt; #b101100</code></p>
<p> <code>bitwise-if</code> &#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>(define bitwise-if
  (lambda (exint1 exint2 exint3)
    (bitwise-ior
     (bitwise-and exint1 exint2)
     (bitwise-and (bitwise-not exint1) exint3))))
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bitwise-bit-count exint)</code></p>
<p>&#x8FD4;&#x56DE;: &#x53C2;&#x89C1;&#x4E0B;&#x6587;</p>
<p>&#x5E93;: (rnrs arithmetic bitwise), (rnrs)</p>
<p>&#x82E5;&#x8F93;&#x5165;&#x4E3A;&#x975E;&#x8D1F;&#x503C;&#xFF0C; <code>bitwise-bit-count</code> &#x8FD4;&#x56DE; <code>exint</code> &#x7684;&#x8865;&#x7801;&#x8868;&#x793A;&#x4E2D;&#x4E3A; 1 &#x7684;&#x4F4D;&#x7684;&#x4E2A;&#x6570;&#x3002;&#x82E5;&#x8F93;&#x5165;&#x4E3A;&#x8D1F;&#x503C;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x8D1F;&#x6570;&#xFF0C;&#x5176;&#x6A21;&#x4E3A; <code>exint</code> &#x7684;&#x8865;&#x7801;&#x8868;&#x793A;&#x4E2D;&#x4E3A; 0 &#x7684;&#x4F4D;&#x7684;&#x4E2A;&#x6570;&#x52A0; 1&#xFF0C;&#x7B49;&#x4EF7;&#x4E8E; <code>(bitwise-not (bitwise-bit-count (bitwise-not exint)))</code>.</p>
<pre><code>(bitwise-bit-count #b00000) =&gt; 0
(bitwise-bit-count #b00001) =&gt; 1
(bitwise-bit-count #b00100) =&gt; 1
(bitwise-bit-count #b10101) =&gt; 3

(bitwise-bit-count -1) =&gt; -1
(bitwise-bit-count -2) =&gt; -2
(bitwise-bit-count -4) =&gt; -3
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bitwise-length exint)</code></p>
<p>&#x8FD4;&#x56DE;: &#x53C2;&#x89C1;&#x4E0B;&#x6587;</p>
<p>&#x5E93;: (rnrs arithmetic bitwise), (rnrs)</p>
<p>&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x8FD4;&#x56DE; <code>exint</code> &#x7684;&#x6700;&#x5C0F;&#x8865;&#x7801;&#x8868;&#x793A;&#x5F62;&#x5F0F;&#x7684;&#x4F4D;&#x6570;&#xFF0C;&#x5BF9;&#x4E8E;&#x8D1F;&#x6570;&#xFF0C;&#x4E0D;&#x5305;&#x62EC;&#x7B26;&#x53F7;&#x4F4D;&#x3002;&#x5BF9;&#x4E8E; 0&#xFF0C; <code>bitwise-length</code> &#x8FD4;&#x56DE; 0.</p>
<pre><code>(bitwise-length #b00000) =&gt; 0
(bitwise-length #b00001) =&gt; 1
(bitwise-length #b00100) =&gt; 3
(bitwise-length #b00110) =&gt; 3

(bitwise-length -1) =&gt; 0
(bitwise-length -6) =&gt; 3
(bitwise-length -9) =&gt; 4
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bitwise-first-bit-set exint)</code></p>
<p>&#x8FD4;&#x56DE;: <code>exint</code> &#x4E3A; 1 &#x7684;&#x4F4D;&#x7684;&#x6700;&#x4F4E;&#x6709;&#x6548;&#x4F4D;&#x7684;&#x7D22;&#x5F15;</p>
<p>&#x5E93;: (rnrs arithmetic bitwise), (rnrs)</p>
<p>&#x8F93;&#x5165;&#x88AB;&#x4F5C;&#x4E3A;&#x8865;&#x7801;&#x5F62;&#x5F0F;&#x5904;&#x7406;&#xFF0C;&#x5373;&#x4F7F;&#x5B83;&#x4EEC;&#x5728;&#x5185;&#x90E8;&#x5E76;&#x4E0D;&#x5982;&#x6B64;&#x8868;&#x793A;&#x3002;</p>
<p>&#x5982;&#x679C; <code>exint</code> &#x4E3A; 0&#xFF0C; <code>bitwise-first-bit-set</code> &#x8FD4;&#x56DE; -1.</p>
<pre><code>(bitwise-first-bit-set #b00000) =&gt; -1
(bitwise-first-bit-set #b00001) =&gt; 0
(bitwise-first-bit-set #b01100) =&gt; 2

(bitwise-first-bit-set -1) =&gt; 0
(bitwise-first-bit-set -2) =&gt; 1
(bitwise-first-bit-set -3) =&gt; 0
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bitwise-bit-set? exint1 exint2)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>exint1</code> &#x7684; <code>exint2</code> &#x4F4D;&#x4E3A; 1&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs arithmetic bitwise), (rnrs)</p>
<p> <code>exint2</code> &#x4F5C;&#x4E3A; <code>exint1</code> &#x8865;&#x7801;&#x5F62;&#x5F0F;&#x7684;&#x57FA;&#x4E8E; 0 &#x7684;&#x4F4D;&#x7D22;&#x5F15;&#x3002;&#x975E;&#x8D1F;&#x6570;&#x7684;&#x8865;&#x7801;&#x5F62;&#x5F0F;&#x7406;&#x8BBA;&#x4E0A;&#x5411;&#x5DE6;&#xFF08;&#x8D8B;&#x5411;&#x66F4;&#x9AD8;&#x6709;&#x6548;&#x4F4D;&#xFF09;&#x5EF6;&#x4F38;&#x65E0;&#x7A77;&#x4E2A; 0 &#x4F4D;&#xFF0C;&#x800C;&#x8D1F;&#x6570;&#x7684;&#x8865;&#x7801;&#x5F62;&#x5F0F;&#x7406;&#x8BBA;&#x4E0A;&#x5411;&#x5DE6;&#x5EF6;&#x4F38;&#x65E0;&#x7A77;&#x4E2A; 1 &#x4F4D;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x7CBE;&#x786E;&#x6574;&#x6570;&#x53EF;&#x88AB;&#x7528;&#x4E8E;&#x8868;&#x793A;&#x4EFB;&#x610F;&#x5927;&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x5176;&#x4E2D; 0 &#x662F;&#x7A7A;&#x96C6;&#xFF0C;-1 &#x662F;&#x5168;&#x96C6;&#xFF0C;&#x800C; <code>bitwise-bit-set?</code> &#x88AB;&#x7528;&#x4E8E;&#x6D4B;&#x8BD5;&#x6210;&#x5458;&#x4ECE;&#x5C5E;&#x3002;</p>
<pre><code>(bitwise-bit-set? #b01011 0) =&gt; #t
(bitwise-bit-set? #b01011 2) =&gt; #f

(bitwise-bit-set? -1 0) =&gt; #t
(bitwise-bit-set? -1 20) =&gt; #t
(bitwise-bit-set? -3 1) =&gt; #f

(bitwise-bit-set? 0 5000) =&gt; #f
(bitwise-bit-set? -1 5000) =&gt; #t
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bitwise-copy-bit exint1 exint2 exint3)</code></p>
<p>&#x8FD4;&#x56DE;: &#x7531; <code>exint3</code> &#x53D6;&#x4EE3; <code>exint1</code> &#x7684; <code>exint2</code> &#x4F4D;</p>
<p>&#x5E93;: (rnrs arithmetic bitwise), (rnrs)</p>
<p> <code>exint2</code> &#x4F5C;&#x4E3A; <code>exint1</code> &#x8865;&#x7801;&#x5F62;&#x5F0F;&#x7684;&#x57FA;&#x4E8E; 0 &#x7684;&#x4F4D;&#x7D22;&#x5F15;&#x3002; <code>exint3</code> &#x5FC5;&#x987B;&#x662F; 0 &#x6216; 1. &#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x6839;&#x636E; <code>exint3</code> &#x7684;&#x503C;&#xFF0C;&#x5BF9;&#x6307;&#x5B9A;&#x4F4D;&#x6E05;&#x96F6;&#x6216;&#x8D4B;&#x503C;&#x3002; <code>exint1</code> &#x4F5C;&#x4E3A;&#x8865;&#x7801;&#x5F62;&#x5F0F;&#x5904;&#x7406;&#xFF0C;&#x5373;&#x4F7F;&#x5B83;&#x5728;&#x5185;&#x90E8;&#x5E76;&#x975E;&#x5982;&#x6B64;&#x8868;&#x793A;&#x3002;</p>
<pre><code>(bitwise-copy-bit #b01110 0 1) =&gt; #b01111
(bitwise-copy-bit #b01110 2 0) =&gt; #b01010
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bitwise-bit-field exint1 exint2 exint3)</code></p>
<p>&#x8FD4;&#x56DE;: &#x53C2;&#x89C1;&#x4E0B;&#x6587;</p>
<p>&#x5E93;: (rnrs arithmetic bitwise), (rnrs)</p>
<p> <code>exint2</code> &#x548C; <code>exint3</code> &#x5FC5;&#x987B;&#x662F;&#x975E;&#x8D1F;&#x7684;&#xFF0C;&#x4E14; <code>exint2</code> &#x5FC5;&#x987B;&#x4E0D;&#x5927;&#x4E8E; <code>exint3</code> . &#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x8FD4;&#x56DE;&#x4ECE; <code>exint1</code> &#x4E2D;&#x622A;&#x53D6;&#x7684;&#x7D22;&#x5F15; <code>exint2</code> &#xFF08;&#x5305;&#x542B;&#xFF09;&#x81F3; <code>exint3</code> &#xFF08;&#x4E0D;&#x5305;&#x542B;&#xFF09;&#x7684;&#x4F4D;&#x5E8F;&#x5217;&#x6240;&#x8868;&#x793A;&#x7684;&#x6570;&#x5B57;&#x3002; <code>exint1</code> &#x88AB;&#x4F5C;&#x4E3A;&#x8865;&#x7801;&#x5F62;&#x5F0F;&#x5904;&#x7406;&#xFF0C;&#x5373;&#x4F7F;&#x5B83;&#x5728;&#x5185;&#x90E8;&#x5E76;&#x975E;&#x5982;&#x6B64;&#x8868;&#x793A;&#x3002;</p>
<pre><code>(bitwise-bit-field #b10110 0 3) =&gt; #b00110
(bitwise-bit-field #b10110 1 3) =&gt; #b00011
(bitwise-bit-field #b10110 2 3) =&gt; #b00001
(bitwise-bit-field #b10110 3 3) =&gt; #b00000
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bitwise-copy-bit-field exint1 exint2 exint3 exint4)</code></p>
<p>&#x8FD4;&#x56DE;: &#x53C2;&#x89C1;&#x4E0B;&#x6587;</p>
<p>&#x5E93;: (rnrs arithmetic bitwise), (rnrs)</p>
<p> <code>exint2</code> &#x548C; <code>exint3</code> &#x5FC5;&#x987B;&#x975E;&#x8D1F;&#xFF0C;&#x4E14; <code>exint2</code> &#x5FC5;&#x987B;&#x4E0D;&#x5927;&#x4E8E; <code>exint3</code> . &#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x8FD4;&#x56DE; <code>exint1</code> &#x4E2D; <code>exint2</code> &#xFF08;&#x5305;&#x542B;&#xFF09;&#x81F3; <code>exint3</code> &#xFF08;&#x4E0D;&#x5305;&#x542B;&#xFF09;&#x4E4B;&#x95F4;&#x7684; n &#x4F4D;&#x88AB; <code>exint4</code> &#x4E2D;&#x7531;&#x4F4E;&#x5230;&#x9AD8;&#x7684; n &#x4F4D;&#x53D6;&#x4EE3;&#x540E;&#x7684;&#x6570;&#x3002; <code>exint1</code> &#x548C; <code>exint4</code> &#x88AB;&#x4F5C;&#x4E3A;&#x8865;&#x7801;&#x5F62;&#x5F0F;&#x5904;&#x7406;&#xFF0C;&#x5373;&#x4F7F;&#x5B83;&#x4EEC;&#x5728;&#x5185;&#x90E8;&#x5E76;&#x975E;&#x5982;&#x6B64;&#x8868;&#x793A;&#x3002;</p>
<pre><code>(bitwise-copy-bit-field #b10000 0 3 #b10101) =&gt; #b10101
(bitwise-copy-bit-field #b10000 1 3 #b10101) =&gt; #b10010
(bitwise-copy-bit-field #b10000 2 3 #b10101) =&gt; #b10100
(bitwise-copy-bit-field #b10000 3 3 #b10101) =&gt; #b10000
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bitwise-arithmetic-shift-right exint1 exint2)</code></p>
<p>&#x8FD4;&#x56DE;: <code>exint1</code> &#x7B97;&#x672F;&#x53F3;&#x79FB; <code>exint2</code> &#x4F4D;</p>
<p>&#x8FC7;&#x7A0B;: <code>(bitwise-arithmetic-shift-left exint1 exint2)</code></p>
<p>&#x8FD4;&#x56DE;: exint1 &#x5DE6;&#x79FB; exint2 &#x4F4D;</p>
<p>&#x5E93;: (rnrs arithmetic bitwise), (rnrs)</p>
<p> <code>exint2</code> &#x5FC5;&#x987B;&#x975E;&#x8D1F;&#x3002; <code>exint1</code> &#x88AB;&#x4F5C;&#x4E3A;&#x8865;&#x7801;&#x5F62;&#x5F0F;&#x5904;&#x7406;&#xFF0C;&#x5373;&#x4F7F;&#x5B83;&#x5728;&#x5185;&#x90E8;&#x5E76;&#x975E;&#x5982;&#x6B64;&#x8868;&#x793A;&#x3002;</p>
<pre><code>(bitwise-arithmetic-shift-right #b10000 3) =&gt; #b00010
(bitwise-arithmetic-shift-right -1 1) =&gt; -1
(bitwise-arithmetic-shift-right -64 3) =&gt; -8

(bitwise-arithmetic-shift-left #b00010 2) =&gt; #b01000
(bitwise-arithmetic-shift-left -1 2) =&gt; -4
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bitwise-arithmetic-shift exint1 exint2)</code></p>
<p>&#x8FD4;&#x56DE;: &#x53C2;&#x89C1;&#x4E0B;&#x6587;</p>
<p>&#x5E93;: (rnrs arithmetic bitwise), (rnrs)</p>
<p>&#x5982;&#x679C; <code>exint2</code> &#x662F;&#x8D1F;&#x6570;&#xFF0C; <code>bitwise-arithmetic-shift</code> &#x8FD4;&#x56DE; <code>exint1</code> &#x7B97;&#x672F;&#x53F3;&#x79FB; <code>-exint2</code> &#x4F4D;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x3002;&#x5426;&#x5219;&#xFF0C; <code>bitwise-arithmetic-shift</code> &#x8FD4;&#x56DE; <code>exint1</code> &#x7B97;&#x672F;&#x5DE6;&#x79FB; <code>exint2</code> &#x4F4D;&#x7684;&#x7ED3;&#x679C;&#x3002; <code>exint1</code> &#x88AB;&#x4F5C;&#x4E3A;&#x8865;&#x7801;&#x5F62;&#x5F0F;&#x5904;&#x7406;&#xFF0C;&#x5373;&#x4F7F;&#x5B83;&#x5728;&#x5185;&#x90E8;&#x5E76;&#x975E;&#x5982;&#x6B64;&#x8868;&#x793A;&#x3002;</p>
<pre><code>(bitwise-arithmetic-shift #b10000 -3) =&gt; #b00010
(bitwise-arithmetic-shift -1 -1) =&gt; -1
(bitwise-arithmetic-shift -64 -3) =&gt; -8
(bitwise-arithmetic-shift #b00010 2) =&gt; #b01000
(bitwise-arithmetic-shift -1 2) =&gt; -4
</code></pre><p>&#x56E0;&#x6B64;, <code>bitwise-arithmetic-shift</code> &#x7684;&#x884C;&#x4E3A;&#x5982;&#x540C;&#x5982;&#x4E0B;&#x5B9A;&#x4E49;&#x3002;</p>
<pre><code>(define bitwise-arithmetic-shift
  (lambda (exint1 exint2)
    (if (&lt; exint2 0)
        (bitwise-arithmetic-shift-right exint1 (- exint2))
        (bitwise-arithmetic-shift-left exint1 exint2))))
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bitwise-rotate-bit-field exint1 exint2 exint3 exint4)</code></p>
<p>&#x8FD4;&#x56DE;: &#x53C2;&#x89C1;&#x4E0B;&#x6587;</p>
<p>&#x5E93;: (rnrs arithmetic bitwise), (rnrs)</p>
<p> <code>exint2</code> , <code>exint3</code> , &#x548C; <code>exint4</code> &#x5FC5;&#x987B;&#x975E;&#x8D1F;&#xFF0C;&#x4E14; <code>exint2</code> &#x5FC5;&#x987B;&#x4E0D;&#x5927;&#x4E8E; <code>exint3</code> . &#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x8FD4;&#x56DE;&#x628A; <code>exint1</code> &#x4E2D; <code>exint2</code> &#xFF08;&#x5305;&#x542B;&#xFF09;&#x4F4D;&#x81F3; <code>exint3</code> &#xFF08;&#x4E0D;&#x5305;&#x542B;&#xFF09;&#x4F4D;&#x5DE6;&#x79FB; <code>(mod exint4 (- exint3 exint2))</code> &#x4F4D;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x79FB;&#x52A8;&#x65F6;&#x8D85;&#x51FA;&#x8303;&#x56F4;&#x7684;&#x4F4D;&#xFF0C;&#x63D2;&#x5165;&#x56DE;&#x8303;&#x56F4;&#x6700;&#x672B;&#x7AEF;&#x3002; <code>exint1</code> &#x88AB;&#x4F5C;&#x4E3A;&#x8865;&#x7801;&#x5F62;&#x5F0F;&#x5904;&#x7406;&#xFF0C;&#x5373;&#x4F7F;&#x5B83;&#x5728;&#x5185;&#x90E8;&#x5E76;&#x975E;&#x5982;&#x6B64;&#x8868;&#x793A;&#x3002;</p>
<pre><code>(bitwise-rotate-bit-field #b00011010 0 5 3) =&gt; #b00010110
(bitwise-rotate-bit-field #b01101011 2 7 3) =&gt; #b01011011
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bitwise-reverse-bit-field exint1 exint2 exint3)</code></p>
<p>&#x8FD4;&#x56DE;: &#x53C2;&#x89C1;&#x4E0B;&#x6587;</p>
<p>&#x5E93;: (rnrs arithmetic bitwise), (rnrs)</p>
<p> <code>exint2</code> &#x548C; <code>exint3</code> &#x5FC5;&#x987B;&#x975E;&#x8D1F;&#xFF0C;&#x4E14; <code>exint2</code> &#x5FC5;&#x987B;&#x4E0D;&#x5927;&#x4E8E; <code>exint3</code> . &#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x8FD4;&#x56DE; <code>exint1</code> &#x4E2D; <code>exint2</code> (&#x5305;&#x542B;&#xFF09;&#x4F4D;&#x81F3; <code>exint3</code> &#xFF08;&#x4E0D;&#x5305;&#x542B;&#xFF09;&#x4F4D;&#x88AB;&#x53CD;&#x8F6C;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x3002; <code>exint1</code> &#x88AB;&#x4F5C;&#x4E3A;&#x8865;&#x7801;&#x5F62;&#x5F0F;&#x5904;&#x7406;&#xFF0C;&#x5373;&#x4F7F;&#x5B83;&#x5728;&#x5185;&#x90E8;&#x5E76;&#x975E;&#x5982;&#x6B64;&#x8868;&#x793A;&#x3002;</p>
<pre><code>(bitwise-reverse-bit-field #b00011010 0 5) =&gt; #b00001011
(bitwise-reverse-bit-field #b01101011 2 7) =&gt; #b00101111
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(string-&gt;number string)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(string-&gt;number string radix)</code></p>
<p>&#x8FD4;&#x56DE;: <code>string</code> &#x6240;&#x8868;&#x793A;&#x7684;&#x6570;&#x5B57;&#xFF0C;&#x6216; <code>#f</code> </p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x5982;&#x679C; <code>string</code> &#x662F;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x7684;&#x6709;&#x6548;&#x8868;&#x793A;&#x5F62;&#x5F0F;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x6B64;&#x6570;&#x5B57;&#xFF0C;&#x5426;&#x5219;&#xFF0C;&#x8FD4;&#x56DE; <code>#f</code> . &#x6570;&#x5B57;&#x88AB;&#x89E3;&#x91CA;&#x65F6;&#x57FA;&#x4E8E;&#x57FA;&#x6570; <code>radix</code> &#xFF0C;&#x5176;&#x5FC5;&#x987B;&#x662F;&#x5904;&#x4E8E;&#x96C6;&#x5408;{2,8,10,16}&#x4E2D;&#x7684;&#x7CBE;&#x786E;&#x6574;&#x6570;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#xFF0C; <code>radix</code> &#x9ED8;&#x8BA4;&#x4E3A; 10. &#x4EFB;&#x4F55; <code>string</code> &#x4E2D;&#x7684;&#x57FA;&#x6570;&#x6307;&#x793A;&#x7B26;&#xFF0C;&#x6BD4;&#x5982; <code>#x</code> , &#x90FD;&#x4F1A;&#x8986;&#x76D6;&#x53C2;&#x6570; <code>radix</code> &#x3002;</p>
<pre><code>(string-&gt;number &quot;0&quot;) =&gt; 0
(string-&gt;number &quot;3.4e3&quot;) =&gt; 3400.0
(string-&gt;number &quot;#x#e-2e2&quot;) =&gt; -738
(string-&gt;number &quot;#e-2e2&quot; 16) =&gt; -738
(string-&gt;number &quot;#i15/16&quot;) =&gt; 0.9375
(string-&gt;number &quot;10&quot; 16) =&gt; 16
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(number-&gt;string num)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(number-&gt;string num radix)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(number-&gt;string num radix precision)</code></p>
<p>&#x8FD4;&#x56DE;: <code>num</code> &#x7684;&#x5B57;&#x7B26;&#x4E32;&#x5916;&#x90E8;&#x8868;&#x793A;&#x5F62;&#x5F0F;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p> <code>num</code> &#x4EE5;&#x57FA;&#x6570; <code>radix</code> &#x8868;&#x793A;&#xFF0C;&#x5176;&#x5FC5;&#x987B;&#x662F;&#x5904;&#x4E8E;&#x96C6;&#x5408;{2,8,10,16}&#x4E2D;&#x7684;&#x7CBE;&#x786E;&#x6574;&#x6570;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#xFF0C; <code>radix</code> &#x9ED8;&#x8BA4;&#x4E3A; 10. &#x5728;&#x4EFB;&#x4F55;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x7ED3;&#x679C;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x90FD;&#x4E0D;&#x5305;&#x542B;&#x57FA;&#x6570;&#x6307;&#x793A;&#x7B26;&#x3002;</p>
<p>&#x6B64;&#x5916;&#x90E8;&#x8868;&#x793A;&#x5F62;&#x5F0F;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF0C;&#x5F53;&#x4F7F;&#x7528; <code>string-&gt;number</code> &#x8F6C;&#x6362;&#x56DE;&#x6570;&#x5B57;&#x65F6;&#xFF0C;&#x7ED3;&#x679C;&#x7684;&#x6570;&#x503C;&#x7B49;&#x4E8E; <code>num</code> . &#x5373;&#xFF0C;&#x5BF9;&#x6240;&#x6709;&#x8F93;&#x5165;&#xFF1A;</p>
<pre><code>(eqv? (string-&gt;number
        (number-&gt;string num radix)
        radix)
      num)
</code></pre><p>&#x8FD4;&#x56DE; <code>#t</code> . &#x5982;&#x679C;&#x8FD9;&#x79CD;&#x8F6C;&#x6362;&#x4E0D;&#x6210;&#x7ACB;&#xFF0C;&#x4F1A;&#x629B;&#x51FA;&#x4E00;&#x4E2A;&#x6761;&#x4EF6;&#x7C7B;&#x578B;&#x7684; <code>&amp;implementation-restriction</code> &#x5F02;&#x5E38;&#x3002;</p>
<p>&#x5982;&#x679C;&#x6307;&#x5B9A; <code>precision</code> , &#x5B83;&#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A;&#x7CBE;&#x786E;&#x7684;&#x6B63;&#x6574;&#x6570;&#xFF0C; <code>num</code> &#x5FC5;&#x987B;&#x662F;&#x4E0D;&#x7CBE;&#x786E;&#x7684;&#xFF0C;&#x800C; <code>radix</code> &#x5FC5;&#x987B;&#x662F; 10. &#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6570;&#x5B57;&#x7684;&#x5B9E;&#x90E8;&#x548C;&#x865A;&#x90E8;&#xFF08;&#x5982;&#x679C;&#x5B58;&#x5728;&#xFF09;&#x5206;&#x522B;&#x4EE5;&#x663E;&#x5F0F;&#x7684;&#x5C3E;&#x6570;&#x5BBD;&#x5EA6; m &#x6253;&#x5370;&#xFF0C;&#x5176;&#x4E2D; m &#x662F;&#x5927;&#x4E8E;&#x7B49;&#x4E8E; <code>precision</code> &#x4E14;&#x4F7F;&#x4E0A;&#x8FF0;&#x8868;&#x8FBE;&#x5F0F;&#x4E3A;&#x771F;&#x7684;&#x6700;&#x5C0F;&#x53EF;&#x80FD;&#x503C;&#x3002;</p>
<p>&#x5982;&#x679C; <code>radix</code> &#x4E3A; 10&#xFF0C; <code>num</code> &#x7684;&#x4E0D;&#x7CBE;&#x786E;&#x503C;&#x5728;&#x4E0D;&#x8FDD;&#x53CD;&#x4E0A;&#x8FF0;&#x9650;&#x5236;&#x7684;&#x524D;&#x63D0;&#x4E0B;&#xFF0C;&#x4F7F;&#x7528;&#x53EF;&#x80FD;&#x7684;&#x6700;&#x5C11;&#x6709;&#x6548;&#x4F4D;&#x6570;&#x8868;&#x793A;[5]&#x3002;</p>
<pre><code>(number-&gt;string 3.4) =&gt; &quot;3.4&quot;
(number-&gt;string 1e2) =&gt; &quot;100.0&quot;
(number-&gt;string 1e-23) =&gt; &quot;1e-23&quot;
(number-&gt;string -7/2) =&gt; &quot;-7/2&quot;
(number-&gt;string 220/9 16) =&gt; &quot;DC/9&quot;
</code></pre><h2 id="65-&#x5B9A;&#x957F;&#x6570;-fixnums">6.5. &#x5B9A;&#x957F;&#x6570; (Fixnums)</h2>
<p>Fixnums &#x8868;&#x793A;&#x5904;&#x4E8E; fixnum &#x533A;&#x95F4;&#x7684;&#x7CBE;&#x786E;&#x6574;&#x6570;&#xFF0C;&#x6B64;&#x533A;&#x95F4;&#x987B;&#x4E3A;&#x4E00;&#x4E2A;&#x95ED;&#x533A;&#x95F4; [-2w-1, 2w-1 - 1], &#x5176;&#x4E2D; w&#xFF08;fixnum &#x7684;&#x5BBD;&#x5EA6;&#xFF09;&#x6700;&#x5C11;&#x662F; 24. &#x901A;&#x8FC7;&#x8FC7;&#x7A0B; <code>fixnum-width</code> &#x53EF;&#x4EE5;&#x786E;&#x5B9A;&#x7279;&#x5B9A;&#x5B9E;&#x73B0;&#x7684; w &#x503C;&#xFF0C;&#x901A;&#x8FC7;&#x8FC7;&#x7A0B; <code>least-fixnum</code> &#x548C; <code>greatest-fixnum</code> &#x53EF;&#x4EE5;&#x786E;&#x5B9A;&#x533A;&#x95F4;&#x7684;&#x7AEF;&#x70B9;&#x3002;</p>
<p>&#x4E13;&#x7528;&#x4E8E;&#x64CD;&#x4F5C; fixnum &#x7684;&#x7B97;&#x672F;&#x8FC7;&#x7A0B;&#xFF0C;&#x540D;&#x5B57;&#x4EE5;&#x524D;&#x7F00;&quot;fx&quot;&#x5F00;&#x59CB;&#xFF0C;&#x4EE5;&#x533A;&#x522B;&#x4E8E;&#x5B83;&#x4EEC;&#x5BF9;&#x5E94;&#x7684;&#x901A;&#x7528;&#x7248;&#x672C;&#x3002;</p>
<p>&#x8981;&#x6C42;&#x662F; fixnum &#x7684;&#x8FC7;&#x7A0B;&#x5B9E;&#x53C2;&#x88AB;&#x547D;&#x540D;&#x4E3A; fx, &#x53EF;&#x80FD;&#x4F1A;&#x5E26;&#x6709;&#x540E;&#x7F00;&#xFF0C;&#x5982;&#xFF0C;fx<sub>2</sub>.</p>
<p>&#x9664;&#x975E;&#x53E6;&#x5916;&#x6307;&#x5B9A;&#xFF0C;fixnum &#x4E13;&#x7528;&#x8FC7;&#x7A0B;&#x7684;&#x503C;&#x4E5F;&#x662F; fixnums. &#x5982;&#x679C;&#x4E00;&#x4E2A; fixnum &#x64CD;&#x4F5C;&#x7684;&#x503C;&#x5E94;&#x8BE5;&#x662F; fixnum&#xFF0C;&#x4F46;&#x6570;&#x5B66;&#x7ED3;&#x679C;&#x5374;&#x8D85;&#x51FA;&#x4E86; fixnum &#x533A;&#x95F4;&#xFF0C;&#x5219;&#x4F1A;&#x629B;&#x51FA;&#x4E00;&#x4E2A;&#x6761;&#x4EF6;&#x7C7B;&#x578B;&#x7684; <code>&amp;implementation-restriction</code> &#x5F02;&#x5E38;&#x3002;</p>
<p>fixnum &#x7684;&#x4F4D;&#x548C;&#x79FB;&#x4F4D;&#x64CD;&#x4F5C;&#x5047;&#x5B9A; fixnum &#x8868;&#x793A;&#x4E3A;&#x8865;&#x7801;&#x5F62;&#x5F0F;&#xFF0C;&#x5373;&#x4F7F;&#x5B83;&#x4EEC;&#x5728;&#x5185;&#x90E8;&#x5E76;&#x975E;&#x5982;&#x6B64;&#x8868;&#x793A;&#x3002;</p>
<p>&#x8FC7;&#x7A0B;: <code>(fixnum? obj)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>obj</code> &#x662F; fixnum&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs arithmetic fixnums), (rnrs)</p>
<pre><code>(fixnum? 0) =&gt; #t
(fixnum? -1) =&gt; #t
(fixnum? (- (expt 2 23))) =&gt; #t
(fixnum? (- (expt 2 23) 1)) =&gt; #t
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(least-fixnum)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5F53;&#x524D;&#x5B9E;&#x73B0;&#x652F;&#x6301;&#x7684;&#x6700;&#x5C0F;&#xFF08;&#x6700;&#x5927;&#x8D1F;&#x6570;&#xFF09;fixnum</p>
<p>&#x8FC7;&#x7A0B;: <code>(greatest-fixnum)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5F53;&#x524D;&#x5B9E;&#x73B0;&#x652F;&#x6301;&#x7684;&#x6700;&#x5927;&#xFF08;&#x6700;&#x5927;&#x6B63;&#x6570;&#xFF09;fixnum</p>
<p>&#x5E93;: (rnrs arithmetic fixnums), (rnrs)</p>
<pre><code>(fixnum? (- (least-fixnum) 1)) =&gt; #f
(fixnum? (least-fixnum)) =&gt; #t
(fixnum? (greatest-fixnum)) =&gt; #t
(fixnum? (+ (greatest-fixnum) 1)) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fixnum-width)</code></p>
<p>&#x8FD4;&#x56DE;: &#x57FA;&#x4E8E;&#x5B9E;&#x73B0;&#x7684; fixnum &#x5BBD;&#x5EA6;</p>
<p>&#x5E93;: (rnrs arithmetic fixnums), (rnrs)</p>
<p>&#x5982;&#x540C;&#x672C;&#x8282;&#x5F15;&#x8A00;&#x4E2D;&#x4ECB;&#x7ECD;&#x7684;&#xFF0C;fixnum &#x5BBD;&#x5EA6;&#x51B3;&#x5B9A;&#x4E86; fixnum &#x533A;&#x95F4;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x4E14;&#x5FC5;&#x987B;&#x81F3;&#x5C11;&#x4E3A; 24.</p>
<pre><code>(define w (fixnum-width))
(= (least-fixnum) (- (expt 2 (- w 1)))) =&gt; #t
(= (greatest-fixnum) (- (expt 2 (- w 1)) 1)) =&gt; #t
(&gt;= w 24) =&gt; #t
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fx=? fx_1 fx_2 fx3 ...)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(fx&lt;? fx_1 fx_2 fx3 ...)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(fx&gt;? fx_1 fx_2 fx3 ...)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(fx&lt;=? fx_1 fx_2 fx3 ...)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(fx&gt;=? fx_1 fx_2 fx3 ...)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C;&#x5173;&#x7CFB;&#x6210;&#x7ACB;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs arithmetic fixnums), (rnrs)</p>
<p>&#x8C13;&#x8BCD; <code>fx=?</code> &#x5728;&#x5176;&#x5B9E;&#x53C2;&#x76F8;&#x7B49;&#x65F6;&#x8FD4;&#x56DE; <code>#t</code> &#x3002;&#x8C13;&#x8BCD; <code>fx&lt;?</code> &#x5728;&#x5176;&#x5B9E;&#x53C2;&#x5355;&#x8C03;&#x9012;&#x589E;&#x65F6;&#x8FD4;&#x56DE; <code>#t</code> &#xFF0C;&#x5373;&#xFF0C;&#x6BCF;&#x4E2A;&#x5B9E;&#x53C2;&#x90FD;&#x5927;&#x4E8E;&#x5B83;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x53C2;&#xFF0C;&#x800C; <code>fx&gt;?</code> &#x5728;&#x5176;&#x5B9E;&#x53C2;&#x5355;&#x8C03;&#x9012;&#x51CF;&#x65F6;&#x8FD4;&#x56DE; <code>#t</code> &#x3002;&#x8C13;&#x8BCD; <code>fx&lt;=?</code> &#x5728;&#x5176;&#x5B9E;&#x53C2;&#x5355;&#x8C03;&#x975E;&#x9012;&#x51CF;&#x65F6;&#x8FD4;&#x56DE; <code>#t</code> &#xFF0C;&#x5373;&#xFF0C;&#x6BCF;&#x4E2A;&#x5B9E;&#x53C2;&#x4E0D;&#x5C0F;&#x4E8E;&#x5B83;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x53C2;&#xFF0C;&#x800C; <code>fx&gt;=?</code> &#x5728;&#x5176;&#x5B9E;&#x53C2;&#x5355;&#x8C03;&#x975E;&#x9012;&#x589E;&#x65F6;&#x8FD4;&#x56DE; <code>#t</code> &#x3002;</p>
<pre><code>(fx=? 0 0) =&gt; #t
(fx=? -1 1) =&gt; #f
(fx&lt;? (least-fixnum) 0 (greatest-fixnum)) =&gt; #t
(let ([x 3]) (fx&lt;=? 0 x 9)) =&gt; #t
(fx&gt;? 5 4 3 2 1) =&gt; #t
(fx&lt;=? 1 3 2) =&gt; #f
(fx&gt;=? 0 0 (least-fixnum)) =&gt; #t
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fxzero? fx)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>fx</code> &#x4E3A; 0&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x8FC7;&#x7A0B;: <code>(fxpositive? fx)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>fx</code> &#x5927;&#x4E8E; 0&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x8FC7;&#x7A0B;: <code>(fxnegative? fx)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>fx</code> &#x5C0F;&#x4E8E; 0&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs arithmetic fixnums), (rnrs)</p>
<p> <code>fxzero?</code> &#x7B49;&#x4EF7;&#x4E8E; <code>(lambda (x) (fx=? x 0))</code>, <code>fxpositive?</code> &#x7B49;&#x4EF7;&#x4E8E; <code>(lambda (x) (fx&gt;? x 0))</code>, &#x800C; <code>fxnegative?</code> &#x7B49;&#x4EF7;&#x4E8E; <code>(lambda (x) (fx&lt;? x 0))</code>.</p>
<pre><code>(fxzero? 0) =&gt; #t
(fxzero? 1) =&gt; #f

(fxpositive? 128) =&gt; #t
(fxpositive? 0) =&gt; #f
(fxpositive? -1) =&gt; #f

(fxnegative? -65) =&gt; #t
(fxnegative? 0) =&gt; #f
(fxnegative? 1) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fxeven? fx)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>fx</code> &#x662F;&#x5076;&#x6570;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x8FC7;&#x7A0B;: <code>(fxodd? fx)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>fx</code> &#x662F;&#x5947;&#x6570;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs arithmetic fixnums), (rnrs)</p>
<pre><code>(fxeven? 0) =&gt; #t
(fxeven? 1) =&gt; #f
(fxeven? -1) =&gt; #f
(fxeven? -10) =&gt; #t

(fxodd? 0) =&gt; #f
(fxodd? 1) =&gt; #t
(fxodd? -1) =&gt; #t
(fxodd? -10) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fxmin fx_1 fx_2 ...)</code></p>
<p>&#x8FD4;&#x56DE;: fx<sub>1</sub> fx<sub>2</sub> &#x2026; &#x7684;&#x6700;&#x5C0F;&#x503C;</p>
<p>&#x8FC7;&#x7A0B;: <code>(fxmax fx_1 fx_2 ...)</code></p>
<p>&#x8FD4;&#x56DE;: fx<sub>1</sub> fx<sub>2</sub> &#x2026; &#x7684;&#x6700;&#x5927;&#x503C;</p>
<p>&#x5E93;: (rnrs arithmetic fixnums), (rnrs)</p>
<pre><code>(fxmin 4 -7 2 0 -6) =&gt; -7

(let ([ls &apos;(7 3 5 2 9 8)])
  (apply fxmin ls)) =&gt; 2

(fxmax 4 -7 2 0 -6) =&gt; 4

(let ([ls &apos;(7 3 5 2 9 8)])
  (apply fxmax ls)) =&gt; 9
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fx+ fx_1 fx_2)</code></p>
<p>&#x8FD4;&#x56DE;: fx<sub>1</sub> &#x4E0E; fx<sub>2</sub> &#x7684;&#x548C;</p>
<p>&#x5E93;: (rnrs arithmetic fixnums), (rnrs)</p>
<p><code>(fx+ -3 4) =&gt; 1</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(fx- fx)</code></p>
<p>&#x8FD4;&#x56DE;: fx &#x7684;&#x52A0;&#x6CD5;&#x9006;&#x5143;</p>
<p>&#x8FC7;&#x7A0B;: <code>(fx- fx_1 fx_2)</code></p>
<p>&#x8FD4;&#x56DE;: fx<sub>1</sub> &#x548C; fx<sub>2</sub> &#x7684;&#x5DEE;</p>
<p>&#x5E93;: (rnrs arithmetic fixnums), (rnrs)</p>
<pre><code>(fx- 3) =&gt; -3
(fx- -3 4) =&gt; -7
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fx* fx_1 fx_2)</code></p>
<p>&#x8FD4;&#x56DE;: fx<sub>1</sub> &#x548C; fx<sub>2</sub> &#x7684;&#x79EF;</p>
<p>&#x5E93;: (rnrs arithmetic fixnums), (rnrs)</p>
<p><code>(fx* -3 4) =&gt; -12</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(fxdiv fx_1 fx_2)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(fxmod fx_1 fx_2)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(fxdiv-and-mod fx_1 fx_2)</code></p>
<p>&#x8FD4;&#x56DE;: &#x53C2;&#x89C1;&#x4E0B;&#x6587;</p>
<p>&#x5E93;: (rnrs arithmetic fixnums), (rnrs)</p>
<p>fx<sub>2</sub> &#x4E0D;&#x80FD;&#x4E3A; 0.&#x8FD9;&#x4E9B;&#x662F;&#x901A;&#x7528;&#x8FC7;&#x7A0B; <code>div</code> , <code>mod</code> , &#x548C; <code>div-and-mod</code> &#x7684; fixnum &#x4E13;&#x7528;&#x7248;&#x672C;&#x3002;</p>
<pre><code>(fxdiv 17 3) =&gt; 5
(fxmod 17 3) =&gt; 2
(fxdiv -17 3) =&gt; -6
(fxmod -17 3) =&gt; 1
(fxdiv 17 -3) =&gt; -5
(fxmod 17 -3) =&gt; 2
(fxdiv -17 -3) =&gt; 6
(fxmod -17 -3) =&gt; 1

(fxdiv-and-mod 17 3) =&gt; 5
                      2
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fxdiv0 fx_1 fx_2)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(fxmod0 fx_1 fx_2)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(fxdiv0-and-mod0 fx_1 fx_2)</code></p>
<p>&#x8FD4;&#x56DE;: &#x53C2;&#x89C1;&#x4E0B;&#x6587;</p>
<p>&#x5E93;: (rnrs arithmetic fixnums), (rnrs)</p>
<p>fx<sub>2</sub> &#x4E0D;&#x80FD;&#x4E3A; 0.&#x8FD9;&#x4E9B;&#x662F;&#x901A;&#x7528;&#x8FC7;&#x7A0B; <code>div0</code> , <code>mod0</code> , &#x548C; <code>div0-and-mod0</code> &#x7684; fixnum &#x4E13;&#x7528;&#x7248;&#x672C;&#x3002;</p>
<pre><code>(fxdiv0 17 3) =&gt; 6
(fxmod0 17 3) =&gt; -1
(fxdiv0 -17 3) =&gt; -6
(fxmod0 -17 3) =&gt; 1
(fxdiv0 17 -3) =&gt; -6
(fxmod0 17 -3) =&gt; -1
(fxdiv0 -17 -3) =&gt; 6
(fxmod0 -17 -3) =&gt; 1

(fxdiv0-and-mod0 17 3) =&gt; 6
                        -1
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fx+/carry fx_1 fx_2 fx3)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(fx-/carry fx_1 fx_2 fx3)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(fx*/carry fx_1 fx_2 fx3)</code></p>
<p>&#x8FD4;&#x56DE;: &#x53C2;&#x89C1;&#x4E0B;&#x6587;</p>
<p>&#x5E93;: (rnrs arithmetic fixnums), (rnrs)</p>
<p>&#x5F53;&#x5E38;&#x89C4;&#x7684; fixnum &#x52A0;&#xFF0C;&#x51CF;&#xFF0C;&#x4E58;&#x64CD;&#x4F5C;&#x6EA2;&#x51FA;&#x65F6;&#xFF0C;&#x4F1A;&#x629B;&#x51FA;&#x4E00;&#x4E2A;&#x5F02;&#x5E38;&#x3002;&#x800C;&#x8FD9;&#x4E9B;&#x66FF;&#x4EE3;&#x8FC7;&#x7A0B;&#x5219;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x8FDB;&#x4F4D;&#xFF0C;&#x540C;&#x65F6;&#x4E5F;&#x652F;&#x6301;&#x628A;&#x6240;&#x8FDB;&#x4F4D;&#x4F20;&#x9012;&#x5230;&#x4E0B;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x3002;&#x5B83;&#x4EEC;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x4E3A;&#x591A;&#x7CBE;&#x5EA6;&#x7684;&#x8FD0;&#x7B97;&#x5B9E;&#x73B0;&#x53EF;&#x79FB;&#x690D;&#x7684;&#x4EE3;&#x7801;&#x3002;</p>
<p>&#x8FD9;&#x4E9B;&#x8FC7;&#x7A0B;&#x8FD4;&#x56DE;&#x4E0B;&#x5217;&#x8BA1;&#x7B97;&#x5F97;&#x51FA;&#x7684;&#x4E24;&#x4E2A; fixnum &#x503C;&#x3002;&#x5BF9;&#x4E8E; <code>fx+/carry</code>:</p>
<pre><code>(let* ([s (+ fx_1 fx_2 fx3)]
       [s0 (mod0 s (expt 2 (fixnum-width)))]
       [s1 (div0 s (expt 2 (fixnum-width)))])
  (values s0 s1))
</code></pre><p>&#x5BF9;&#x4E8E; <code>fx-/carry</code>:</p>
<pre><code>(let* ([d (- fx_1 fx_2 fx3)]
       [d0 (mod0 d (expt 2 (fixnum-width)))]
       [d1 (div0 d (expt 2 (fixnum-width)))])
  (values d0 d1))
</code></pre><p>&#x5BF9;&#x4E8E; <code>fx\*/carry</code>:</p>
<pre><code>(let* ([s (+ (* fx_1 fx_2) fx3)]
       [s0 (mod0 s (expt 2 (fixnum-width)))]
       [s1 (div0 s (expt 2 (fixnum-width)))])
  (values s0 s1))
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fxnot fx)</code></p>
<p>&#x8FD4;&#x56DE;: <code>fx</code> &#x7684;&#x6309;&#x4F4D;&#x975E;</p>
<p>&#x8FC7;&#x7A0B;: <code>(fx and fx ...)</code></p>
<p>&#x8FD4;&#x56DE;: <code>fx</code> &#x7684;&#x6309;&#x4F4D;&#x4E0E;</p>
<p>&#x8FC7;&#x7A0B;: <code>(fxior fx ...)</code></p>
<p>&#x8FD4;&#x56DE;: <code>fx</code> &#x7684;&#x6309;&#x4F4D;&#x6216;</p>
<p>&#x8FC7;&#x7A0B;: <code>(fxxor fx ...)</code></p>
<p>&#x8FD4;&#x56DE;: <code>fx</code> &#x7684;&#x6309;&#x4F4D;&#x5F02;&#x6216;</p>
<p>&#x5E93;: (rnrs arithmetic fixnums), (rnrs)</p>
<pre><code>(fxnot 0) =&gt; -1
(fxnot 3) =&gt; -4

(fx and #b01101 #b00111) =&gt; #b00101
(fxior #b01101 #b00111) =&gt; #b01111
(fxxor #b01101 #b00111) =&gt; #b01010
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fxif fx_1 fx_2 fx3)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5B9E;&#x53C2;&#x7684;&#x6309;&#x4F4D; &quot;if&quot;</p>
<p>&#x5E93;: (rnrs arithmetic fixnums), (rnrs)</p>
<p>&#x5BF9; fx<sub>1</sub> &#x7684;&#x6BCF;&#x4E2A;&#x4E3A; 1 &#x7684;&#x4F4D;&#xFF0C;&#x7ED3;&#x679C;&#x7684;&#x5BF9;&#x5E94;&#x4F4D;&#x53D6;&#x81EA; fx<sub>2</sub>, &#x800C;&#x5BF9; fx<sub>1</sub> &#x7684;&#x6BCF;&#x4E2A;&#x4E3A; 0 &#x7684;&#x4F4D;&#xFF0C;&#x7ED3;&#x679C;&#x7684;&#x5BF9;&#x5E94;&#x4F4D;&#x53D6;&#x81EA; fx<sub>3</sub>.</p>
<p><code>(fxif #b101010 #b111000 #b001100) =&gt; #b101100</code></p>
<p> <code>fxif</code> &#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>(define fxif
  (lambda (fx_1 fx_2 fx3)
    (fxior (fx and fx_1 fx_2)
           (fx and (fxnot fx_1) fx3))))
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fxbit-count fx)</code></p>
<p>&#x8FD4;&#x56DE;: &#x53C2;&#x89C1;&#x4E0B;&#x6587;</p>
<p>&#x5E93;: (rnrs arithmetic fixnums), (rnrs)</p>
<p>&#x5BF9;&#x4E8E;&#x975E;&#x8D1F;&#x7684;&#x8F93;&#x5165;&#xFF0C; <code>fxbit-count</code> &#x8FD4;&#x56DE; <code>fx</code> &#x8865;&#x7801;&#x5F62;&#x5F0F;&#x4E2D;&#x4E3A; 1 &#x7684;&#x4F4D;&#x6570;&#x3002;&#x5BF9;&#x4E8E;&#x8D1F;&#x7684;&#x8F93;&#x5165;&#xFF0C;&#x5B83;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x8D1F;&#x6570;&#xFF0C;&#x5176;&#x6A21;&#x4E3A; <code>fx</code> &#x4E2D;&#x4E3A; 0 &#x7684;&#x4F4D;&#x6570;&#x52A0; 1&#xFF0C;&#x7B49;&#x4EF7;&#x4E8E; <code>(fxnot (fxbit-count (fxnot fx)))</code>.</p>
<pre><code>(fxbit-count #b00000) =&gt; 0
(fxbit-count #b00001) =&gt; 1
(fxbit-count #b00100) =&gt; 1
(fxbit-count #b10101) =&gt; 3

(fxbit-count -1) =&gt; -1
(fxbit-count -2) =&gt; -2
(fxbit-count -4) =&gt; -3
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fxlength fx)</code></p>
<p>&#x8FD4;&#x56DE;: &#x53C2;&#x89C1;&#x4E0B;&#x6587;</p>
<p>&#x5E93;: (rnrs arithmetic fixnums), (rnrs)</p>
<p>&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x8FD4;&#x56DE; <code>fx</code> &#x7684;&#x6700;&#x5C0F;&#x8865;&#x7801;&#x5F62;&#x5F0F;&#x7684;&#x4F4D;&#x6570;&#xFF0C;&#x5BF9;&#x4E8E;&#x8D1F;&#x6570;&#xFF0C;&#x4E0D;&#x5305;&#x62EC;&#x7B26;&#x53F7;&#x4F4D;&#x3002;&#x5BF9;&#x4E8E; 0&#xFF0C; <code>fxlength</code> &#x8FD4;&#x56DE; 0.</p>
<pre><code>(fxlength #b00000) =&gt; 0
(fxlength #b00001) =&gt; 1
(fxlength #b00100) =&gt; 3
(fxlength #b00110) =&gt; 3

(fxlength -1) =&gt; 0
(fxlength -6) =&gt; 3
(fxlength -9) =&gt; 4
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fxfirst-bit-set fx)</code></p>
<p>&#x8FD4;&#x56DE;: <code>fx</code> &#x4E3A; 1 &#x7684;&#x4F4D;&#x7684;&#x6700;&#x4F4E;&#x6709;&#x6548;&#x4F4D;&#x7684;&#x7D22;&#x5F15;</p>
<p>&#x5E93;: (rnrs arithmetic fixnums), (rnrs)</p>
<p>&#x5982;&#x679C; <code>fx</code> &#x4E3A; 0&#xFF0C; <code>fxfirst-bit-set</code> &#x8FD4;&#x56DE; -1.</p>
<pre><code>(fxfirst-bit-set #b00000) =&gt; -1
(fxfirst-bit-set #b00001) =&gt; 0
(fxfirst-bit-set #b01100) =&gt; 2

(fxfirst-bit-set -1) =&gt; 0
(fxfirst-bit-set -2) =&gt; 1
(fxfirst-bit-set -3) =&gt; 0
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fxbit-set? fx_1 fx_2)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; fx<sub>1</sub> &#x7684; fx<sub>2</sub> &#x4F4D;&#x4E3A; 1&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs arithmetic fixnums), (rnrs)</p>
<p>fx<sub>2</sub> &#x5FC5;&#x987B;&#x975E;&#x8D1F;&#x3002;&#x5B83;&#x88AB;&#x4F5C;&#x4E3A; fx<sub>1</sub> &#x8865;&#x7801;&#x5F62;&#x5F0F;&#x7684;&#x57FA;&#x4E8E; 0 &#x7684;&#x4F4D;&#x7D22;&#x5F15;&#x3002;&#x7B26;&#x53F7;&#x4F4D;&#x4E8B;&#x5B9E;&#x4E0A;&#x5411;&#x5DE6;&#x91CD;&#x590D;&#x65E0;&#x7A77;&#x4E2A;&#x4F4D;&#x7F6E;&#x3002;</p>
<pre><code>(fxbit-set? #b01011 0) =&gt; #t
(fxbit-set? #b01011 2) =&gt; #f

(fxbit-set? -1 0) =&gt; #t
(fxbit-set? -1 20) =&gt; #t
(fxbit-set? -3 1) =&gt; #f
(fxbit-set? 0 (- (fixnum-width) 1)) =&gt; #f
(fxbit-set? -1 (- (fixnum-width) 1)) =&gt; #t
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fxcopy-bit fx_1 fx_2 fx3)</code></p>
<p>&#x8FD4;&#x56DE;: &#x7531; fx<sub>3</sub> &#x53D6;&#x4EE3; fx<sub>1</sub> &#x7684; fx<sub>2</sub> &#x4F4D;</p>
<p>&#x5E93;: (rnrs arithmetic fixnums), (rnrs)</p>
<p>fx<sub>2</sub> &#x5FC5;&#x987B;&#x975E;&#x8D1F;&#xFF0C;&#x4E14;&#x5C0F;&#x4E8E; <code>(- (fixnum-width) 1)</code> &#x7684;&#x503C;&#x3002;fx3 &#x5FC5;&#x987B;&#x662F; 0 &#x6216; 1.  &#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x6839;&#x636E; fx3 &#x7684;&#x503C;&#xFF0C;&#x5BF9;&#x6307;&#x5B9A;&#x4F4D;&#x6E05;&#x96F6;&#x6216;&#x8D4B;&#x503C;&#x3002;</p>
<pre><code>(fxcopy-bit #b01110 0 1) =&gt; #b01111
(fxcopy-bit #b01110 2 0) =&gt; #b01010
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fxbit-field fx_1 fx_2 fx3)</code></p>
<p>&#x8FD4;&#x56DE;: &#x53C2;&#x89C1;&#x4E0B;&#x6587;</p>
<p>&#x5E93;: (rnrs arithmetic fixnums), (rnrs)</p>
<p>fx<sub>2</sub> &#x548C; fx3 &#x5FC5;&#x987B;&#x662F;&#x975E;&#x8D1F;&#x7684;&#xFF0C;&#x4E14;&#x5C0F;&#x4E8E; <code>(fixnum-width)</code> &#x7684;&#x503C;&#xFF0C;&#x800C; fx<sub>2</sub> &#x5FC5;&#x987B;&#x4E0D;&#x5927;&#x4E8E; fx3. &#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x8FD4;&#x56DE;&#x4ECE; fx<sub>1</sub> &#x4E2D;&#x622A;&#x53D6;&#x7684;&#x7D22;&#x5F15; fx<sub>2</sub>&#xFF08;&#x5305;&#x542B;&#xFF09;&#x81F3; fx3&#xFF08;&#x4E0D;&#x5305;&#x542B;&#xFF09;&#x7684;&#x4F4D;&#x5E8F;&#x5217;&#x6240;&#x8868;&#x793A;&#x7684;&#x6570;&#x5B57;&#x3002;</p>
<pre><code>(fxbit-field #b10110 0 3) =&gt; #b00110
(fxbit-field #b10110 1 3) =&gt; #b00011
(fxbit-field #b10110 2 3) =&gt; #b00001
(fxbit-field #b10110 3 3) =&gt; #b00000
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fxcopy-bit-field fx_1 fx_2 fx3 fx4)</code></p>
<p>&#x8FD4;&#x56DE;: &#x53C2;&#x89C1;&#x4E0B;&#x6587;</p>
<p>&#x5E93;: (rnrs arithmetic fixnums), (rnrs)</p>
<p>fx<sub>2</sub> &#x548C; fx3 &#x5FC5;&#x987B;&#x975E;&#x8D1F;&#xFF0C;&#x4E14;&#x5C0F;&#x4E8E; <code>(fixnum-width)</code> &#x7684;&#x503C;&#xFF0C;&#x800C; fx<sub>2</sub> &#x5FC5;&#x987B;&#x4E0D;&#x5927;&#x4E8E; fx3. &#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x8FD4;&#x56DE; fx<sub>1</sub> &#x4E2D; fx<sub>2</sub>&#xFF08;&#x5305;&#x542B;&#xFF09;&#x81F3; fx3&#xFF08;&#x4E0D;&#x5305;&#x542B;&#xFF09;&#x4E4B;&#x95F4;&#x7684; n &#x4F4D;&#x88AB; fx4 &#x4E2D;&#x7531;&#x4F4E;&#x5230;&#x9AD8;&#x7684; n &#x4F4D;&#x53D6;&#x4EE3;&#x540E;&#x7684;&#x6570;&#x3002;</p>
<pre><code>(fxcopy-bit-field #b10000 0 3 #b10101) =&gt; #b10101
(fxcopy-bit-field #b10000 1 3 #b10101) =&gt; #b10010
(fxcopy-bit-field #b10000 2 3 #b10101) =&gt; #b10100
(fxcopy-bit-field #b10000 3 3 #b10101) =&gt; #b10000
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fxarithmetic-shift-right fx_1 fx_2)</code></p>
<p>&#x8FD4;&#x56DE;: fx<sub>1</sub> &#x7B97;&#x672F;&#x53F3;&#x79FB; fx<sub>2</sub> &#x4F4D;</p>
<p>&#x8FC7;&#x7A0B;: <code>(fxarithmetic-shift-left fx_1 fx_2)</code></p>
<p>&#x8FD4;&#x56DE;: fx<sub>1</sub> &#x7B97;&#x672F;&#x5DE6;&#x79FB; fx<sub>2</sub> &#x4F4D;</p>
<p>&#x5E93;: (rnrs arithmetic fixnums), (rnrs)</p>
<p>fx<sub>2</sub> &#x5FC5;&#x987B;&#x975E;&#x8D1F;&#xFF0C;&#x4E14;&#x5C0F;&#x4E8E; <code>(fixnum-width)</code> &#x7684;&#x503C;&#x3002;</p>
<pre><code>(fxarithmetic-shift-right #b10000 3) =&gt; #b00010
(fxarithmetic-shift-right -1 1) =&gt; -1
(fxarithmetic-shift-right -64 3) =&gt; -8

(fxarithmetic-shift-left #b00010 2) =&gt; #b01000
(fxarithmetic-shift-left -1 2) =&gt; -4
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fxarithmetic-shift fx_1 fx_2)</code></p>
<p>&#x8FD4;&#x56DE;: &#x53C2;&#x89C1;&#x4E0B;&#x6587;</p>
<p>&#x5E93;: (rnrs arithmetic fixnums), (rnrs)</p>
<p>fx<sub>2</sub> &#x7684;&#x7EDD;&#x5BF9;&#x503C;&#x5FC5;&#x987B;&#x5C0F;&#x4E8E; <code>(fixnum-width)</code> &#x7684;&#x503C;&#x3002;&#x5982;&#x679C; fx<sub>2</sub> &#x662F;&#x8D1F;&#x6570;&#xFF0C; <code>bitwise-arithmetic-shift</code> &#x8FD4;&#x56DE; fx<sub>1</sub> &#x7B97;&#x672F;&#x53F3;&#x79FB; fx<sub>2</sub> &#x4F4D;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x3002;&#x5426;&#x5219;&#xFF0C; <code>bitwise-arithmetic-shift</code> &#x8FD4;&#x56DE; fx<sub>1</sub> &#x7B97;&#x672F;&#x5DE6;&#x79FB; fx<sub>2</sub> &#x4F4D;&#x7684;&#x7ED3;&#x679C;&#x3002;</p>
<pre><code>(fxarithmetic-shift #b10000 -3) =&gt; #b00010
(fxarithmetic-shift -1 -1) =&gt; -1
(fxarithmetic-shift -64 -3) =&gt; -8
(fxarithmetic-shift #b00010 2) =&gt; #b01000
(fxarithmetic-shift -1 2) =&gt; -4
</code></pre><p>&#x56E0;&#x6B64;, <code>fxarithmetic-shift</code> &#x7684;&#x884C;&#x4E3A;&#x5982;&#x540C;&#x5982;&#x4E0B;&#x5B9A;&#x4E49;&#x3002;</p>
<pre><code>(define fxarithmetic-shift
  (lambda (fx_1 fx_2)
    (if (fx&lt;? fx_2 0)
        (fxarithmetic-shift-right fx_1 (fx- fx_2))
        (fxarithmetic-shift-left fx_1 fx_2))))
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fxrotate-bit-field fx_1 fx_2 fx3 fx4)</code></p>
<p>&#x8FD4;&#x56DE;: &#x53C2;&#x89C1;&#x4E0B;&#x6587;</p>
<p>&#x5E93;: (rnrs arithmetic fixnums), (rnrs)</p>
<p>fx<sub>2</sub>, fx3, &#x548C; fx4 &#x5FC5;&#x987B;&#x975E;&#x8D1F;&#xFF0C;&#x4E14;&#x5C0F;&#x4E8E; <code>(fixnum-width)</code> &#x7684;&#x503C;&#xFF0C;&#x800C; fx<sub>2</sub> &#x5FC5;&#x987B;&#x4E0D;&#x5927;&#x4E8E; fx3, fx4 &#x5FC5;&#x987B;&#x4E0D;&#x5927;&#x4E8E; fx3 &#x548C; fx<sub>2</sub> &#x7684;&#x5DEE;&#x3002;</p>
<p>&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x8FD4;&#x56DE;&#x628A; fx<sub>1</sub> &#x4E2D; fx<sub>2</sub>&#xFF08;&#x5305;&#x542B;&#xFF09;&#x4F4D;&#x81F3; fx3&#xFF08;&#x4E0D;&#x5305;&#x542B;&#xFF09;&#x4F4D;&#x5DE6;&#x79FB; fx4 &#x4F4D;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x79FB;&#x52A8;&#x65F6;&#x8D85;&#x51FA;&#x8303;&#x56F4;&#x7684;&#x4F4D;&#xFF0C;&#x63D2;&#x5165;&#x56DE;&#x8303;&#x56F4;&#x6700;&#x672B;&#x7AEF;&#x3002;</p>
<pre><code>(fxrotate-bit-field #b00011010 0 5 3) =&gt; #b00010110
(fxrotate-bit-field #b01101011 2 7 3) =&gt; #b01011011
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fxreverse-bit-field fx_1 fx_2 fx3)</code></p>
<p>&#x8FD4;&#x56DE;: &#x53C2;&#x89C1;&#x4E0B;&#x6587;</p>
<p>&#x5E93;: (rnrs arithmetic fixnums), (rnrs)</p>
<p>fx<sub>2</sub> &#x548C; fx3 &#x5FC5;&#x987B;&#x975E;&#x8D1F;&#xFF0C;&#x4E14;&#x5C0F;&#x4E8E; <code>(fixnum-width)</code> &#x7684;&#x503C;&#xFF0C;&#x800C; fx<sub>2</sub> &#x5FC5;&#x987B;&#x4E0D;&#x5927;&#x4E8E; fx3. &#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x8FD4;&#x56DE; fx<sub>1</sub> &#x4E2D; fx<sub>2</sub>(&#x5305;&#x542B;&#xFF09;&#x4F4D;&#x81F3; fx3&#xFF08;&#x4E0D;&#x5305;&#x542B;&#xFF09;&#x4F4D;&#x88AB;&#x53CD;&#x8F6C;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x3002;</p>
<pre><code>(fxreverse-bit-field #b00011010 0 5) =&gt; #b00001011
(fxreverse-bit-field #b01101011 2 7) =&gt; #b00101111
</code></pre><h2 id="66-&#x6D6E;&#x70B9;&#x6570;-flonums">6.6. &#x6D6E;&#x70B9;&#x6570; (Flonums)</h2>
<p>Flonums &#x8868;&#x793A;&#x4E0D;&#x7CBE;&#x786E;&#x7684;&#x5B9E;&#x6570;&#x3002;&#x8981;&#x6C42;&#x5B9E;&#x73B0;&#x53EF;&#x4EE5;&#x628A;&#x4EFB;&#x4F55;&#x8BCD;&#x6CD5;&#x5F62;&#x5F0F;&#x4E2D;&#x4E0D;&#x5305;&#x542B;&#x7AD6;&#x7EBF;&#x548C;&#x9664;&#x4E86; e &#x4EE5;&#x5916;&#x7684;&#x6307;&#x6570;&#x6807;&#x8BB0;&#x7684;&#x4E0D;&#x7CBE;&#x786E;&#x5B9E;&#x6570;&#x8868;&#x793A;&#x4E3A; flonum, &#x4F46;&#x4E0D;&#x8981;&#x6C42;&#x628A;&#x4EFB;&#x4F55;&#x5176;&#x5B83;&#x4E0D;&#x7CBE;&#x786E;&#x5B9E;&#x6570;&#x8868;&#x793A;&#x4E3A; flonum.</p>
<p>&#x5B9E;&#x73B0;&#x901A;&#x5E38;&#x4F7F;&#x7528; IEEE &#x53CC;&#x7CBE;&#x5EA6;&#x6D6E;&#x70B9;&#x5F62;&#x5F0F;&#x8868;&#x793A; flonums, &#x4F46;&#x8FD9;&#x5E76;&#x975E;&#x786C;&#x6027;&#x8981;&#x6C42;&#xFF0C;&#x751A;&#x81F3;&#x4E0D;&#x8981;&#x6C42;&#x5B9E;&#x73B0;&#x4F7F;&#x7528;&#x4EFB;&#x4F55;&#x79CD;&#x7C7B;&#x7684;&#x6D6E;&#x70B9;&#x8868;&#x793A;&#x5F62;&#x5F0F;&#xFF0C;&#x5C3D;&#x7BA1;&#x5176;&#x540D;&#x79F0;&#x4E3A; &quot;flonum&quot;.</p>
<p>&#x672C;&#x8282;&#x4ECB;&#x7ECD;&#x4E86; flonum &#x64CD;&#x4F5C;&#x3002;&#x4E13;&#x7528;&#x4E8E; flonum &#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x540D;&#x5B57;&#x4EE5;&#x524D;&#x7F00;&quot;fl&quot;&#x5F00;&#x59CB;&#xFF0C;&#x4EE5;&#x533A;&#x522B;&#x4E8E;&#x5B83;&#x4EEC;&#x5BF9;&#x5E94;&#x7684;&#x901A;&#x7528;&#x7248;&#x672C;&#x3002;</p>
<p>&#x8FC7;&#x7A0B;&#x5B9E;&#x53C2;&#x9700;&#x8981;&#x662F; flonum &#x7684;&#x88AB;&#x547D;&#x540D;&#x4E3A; <em>fl</em>, &#x53EF;&#x80FD;&#x4F1A;&#x5E26;&#x6709;&#x540E;&#x7F00;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;<em>fl2</em>. &#x9664;&#x975E;&#x53E6;&#x5916;&#x6307;&#x5B9A;&#xFF0C;flonum &#x4E13;&#x7528;&#x8FC7;&#x7A0B;&#x7684;&#x503C;&#x4E5F;&#x662F; flonum.</p>
<p>&#x8FC7;&#x7A0B;: <code>(flonum? obj)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>obj</code> &#x662F; flonum&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs arithmetic flonums), (rnrs)</p>
<pre><code>(flonum? 0) =&gt; #f
(flonum? 3/4) =&gt; #f
(flonum? 3.5) =&gt; #t
(flonum? .02) =&gt; #t
(flonum? 1e10) =&gt; #t
(flonum? 3.0+0.0i) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fl=? fl1 fl2 fl3 ...)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(fl&lt;? fl1 fl2 fl3 ...)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(fl&gt;? fl1 fl2 fl3 ...)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(fl&lt;=? fl1 fl2 fl3 ...)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(fl&gt;=? fl1 fl2 fl3 ...)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C;&#x5173;&#x7CFB;&#x6210;&#x7ACB;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs arithmetic flonums), (rnrs)</p>
<p>&#x8C13;&#x8BCD; <code>fl=?</code> &#x5728;&#x5176;&#x5B9E;&#x53C2;&#x76F8;&#x7B49;&#x65F6;&#x8FD4;&#x56DE; <code>#t</code> &#x3002;&#x8C13;&#x8BCD; <code>fl&lt;?</code> &#x5728;&#x5176;&#x5B9E;&#x53C2;&#x5355;&#x8C03;&#x9012;&#x589E;&#x65F6;&#x8FD4;&#x56DE; <code>#t</code> &#xFF0C;&#x5373;&#xFF0C;&#x6BCF;&#x4E2A;&#x5B9E;&#x53C2;&#x90FD;&#x5927;&#x4E8E;&#x5B83;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x53C2;&#xFF0C;&#x800C; <code>fl&gt;?</code> &#x5728;&#x5176;&#x5B9E;&#x53C2;&#x5355;&#x8C03;&#x9012;&#x51CF;&#x65F6;&#x8FD4;&#x56DE; <code>#t</code> &#x3002;&#x8C13;&#x8BCD; <code>fl&lt;=?</code> &#x5728;&#x5176;&#x5B9E;&#x53C2;&#x5355;&#x8C03;&#x975E;&#x9012;&#x51CF;&#x65F6;&#x8FD4;&#x56DE; <code>#t</code> &#xFF0C;&#x5373;&#xFF0C;&#x6BCF;&#x4E2A;&#x5B9E;&#x53C2;&#x4E0D;&#x5C0F;&#x4E8E;&#x5B83;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x53C2;&#xFF0C;&#x800C; <code>fl&gt;=?</code> &#x5728;&#x5176;&#x5B9E;&#x53C2;&#x5355;&#x8C03;&#x975E;&#x9012;&#x589E;&#x65F6;&#x8FD4;&#x56DE; <code>#t</code> &#x3002;&#x5F53;&#x53EA;&#x4F20;&#x5165;&#x4E00;&#x4E2A;&#x5B9E;&#x53C2;&#x65F6;&#xFF0C;&#x8FD9;&#x4E9B;&#x8C13;&#x8BCD;&#x5747;&#x8FD4;&#x56DE; <code>#t</code> .</p>
<p>&#x6D89;&#x53CA; NaNs &#x7684;&#x6BD4;&#x8F83;&#x603B;&#x662F;&#x8FD4;&#x56DE; <code>#f</code>.</p>
<pre><code>(fl=? 0.0 0.0) =&gt; #t
(fl&lt;? -1.0 0.0 1.0) =&gt; #t
(fl&gt;? -1.0 0.0 1.0) =&gt; #f
(fl&lt;=? 0.0 3.0 3.0) =&gt; #t
(fl&gt;=? 4.0 3.0 3.0) =&gt; #t
(fl&lt;? 7.0 +inf.0) =&gt; #t
(fl=? +nan.0 0.0) =&gt; #f
(fl=? +nan.0 +nan.0) =&gt; #f
(fl&lt;? +nan.0 +nan.0) =&gt; #f
(fl&lt;=? +nan.0 +inf.0) =&gt; #f
(fl&gt;=? +nan.0 +inf.0) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(flzero? fl)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>fl</code> &#x4E3A; 0&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x8FC7;&#x7A0B;: <code>(flpositive? fl)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>fl</code> &#x5927;&#x4E8E; 0&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x8FC7;&#x7A0B;: <code>(flnegative? fl)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>fl</code> &#x5C0F;&#x4E8E; 0&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs arithmetic flonums), (rnrs)</p>
<p> <code>flzero?</code> &#x7B49;&#x4EF7;&#x4E8E; <code>(lambda (x) (fl=? x 0.0))</code>, <code>flpositive?</code> &#x7B49;&#x4EF7;&#x4E8E; <code>(lambda (x) (fl&gt;? x 0.0))</code>, &#x800C; <code>flnegative?</code> &#x7B49;&#x4EF7;&#x4E8E; <code>(lambda (x) (fl&lt;? x 0.0))</code>.</p>
<p>&#x867D;&#x7136; flonum &#x8868;&#x793A;&#x5F62;&#x5F0F;&#x533A;&#x5206; <code>-0.0</code> &#x548C; <code>+0.0</code>, &#x4F46;<code>-0.0</code>&#x88AB;&#x5224;&#x5B9A;&#x4E3A; 0 &#x4E14;&#x975E;&#x8D1F;&#x3002;</p>
<pre><code>(flzero? 0.0) =&gt; #t
(flzero? 1.0) =&gt; #f

(flpositive? 128.0) =&gt; #t
(flpositive? 0.0) =&gt; #f
(flpositive? -1.0) =&gt; #f

(flnegative? -65.0) =&gt; #t
(flnegative? 0.0) =&gt; #f
(flnegative? 1.0) =&gt; #f

(flzero? -0.0) =&gt; #t
(flnegative? -0.0) =&gt; #f

(flnegative? +nan.0) =&gt; #f
(flzero? +nan.0) =&gt; #f
(flpositive? +nan.0) =&gt; #f

(flnegative? +inf.0) =&gt; #f
(flnegative? -inf.0) =&gt; #t
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(flinteger? fl)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>fl</code> &#x662F;&#x6574;&#x6570;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs arithmetic flonums), (rnrs)</p>
<pre><code>(flinteger? 0.0) =&gt; #t
(flinteger? -17.0) =&gt; #t
(flinteger? +nan.0) =&gt; #f
(flinteger? +inf.0) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(flfinite? fl)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>fl</code> &#x662F;&#x6709;&#x9650;&#x503C;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x8FC7;&#x7A0B;: <code>(flinfinite? fl)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>fl</code> &#x662F;&#x65E0;&#x9650;&#x503C;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x8FC7;&#x7A0B;: <code>(flnan? fl)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>fl</code> &#x662F; NaN, &#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs arithmetic flonums), (rnrs)</p>
<pre><code>(flfinite? 3.1415) =&gt; #t
(flinfinite? 3.1415) =&gt; #f
(flnan? 3.1415) =&gt; #f

(flfinite? +inf.0) =&gt; #f
(flinfinite? -inf.0) =&gt; #t
(flnan? -inf.0) =&gt; #f

(flfinite? +nan.0) =&gt; #f
(flinfinite? +nan.0) =&gt; #f
(flnan? +nan.0) =&gt; #t
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fleven? fl-int)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>fl-int</code> &#x662F;&#x5076;&#x6570;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x8FC7;&#x7A0B;: <code>(flodd? fl-int)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>fl-int</code> &#x662F;&#x5947;&#x6570;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs arithmetic flonums), (rnrs)</p>
<p>fl-int &#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A;&#x503C;&#x4E3A;&#x6574;&#x6570;&#x7684; flonum.</p>
<pre><code>(fleven? 0.0) =&gt; #t
(fleven? 1.0) =&gt; #f
(fleven? -1.0) =&gt; #f
(fleven? -10.0) =&gt; #t

(flodd? 0.0) =&gt; #f
(flodd? 1.0) =&gt; #t
(flodd? -1.0) =&gt; #t
(flodd? -10.0) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(flmin fl1 fl2 ...)</code></p>
<p>&#x8FD4;&#x56DE;: fl1 fl2 &#x2026; &#x7684;&#x6700;&#x5C0F;&#x503C;</p>
<p>&#x8FC7;&#x7A0B;: <code>(flmax fl1 fl2 ...)</code></p>
<p>&#x8FD4;&#x56DE;: fl1 fl2 &#x2026; &#x7684;&#x6700;&#x5927;&#x503C;</p>
<p>&#x5E93;: (rnrs arithmetic flonums), (rnrs)</p>
<pre><code>(flmin 4.2 -7.5 2.0 0.0 -6.4) =&gt; -7.5

(let ([ls &apos;(7.1 3.5 5.0 2.6 2.6 8.0)])
  (apply flmin ls)) =&gt; 2.6

(flmax 4.2 -7.5 2.0 0.0 -6.4) =&gt; 4.2

(let ([ls &apos;(7.1 3.5 5.0 2.6 2.6 8.0)])
  (apply flmax ls)) =&gt; 8.0
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fl+ fl ...)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5B9E;&#x53C2; fl &#x2026; &#x7684;&#x548C;</p>
<p>&#x5E93;: (rnrs arithmetic flonums), (rnrs)</p>
<p>&#x4E0D;&#x5E26;&#x5B9E;&#x53C2;&#x8C03;&#x7528;&#x65F6;&#xFF0C;<code>fl+</code> &#x8FD4;&#x56DE; <code>0.0</code>.</p>
<pre><code>(fl+) =&gt; 0.0
(fl+ 1.0 2.5) =&gt; 3.25
(fl+ 3.0 4.25 5.0) =&gt; 12.25
(apply fl+ &apos;(1.0 2.0 3.0 4.0 5.0)) =&gt; 15.0
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fl- fl)</code></p>
<p>&#x8FD4;&#x56DE;: fl &#x7684;&#x52A0;&#x6CD5;&#x9006;&#x5143;</p>
<p>&#x8FC7;&#x7A0B;: <code>(fl- fl1 fl2 fl3 ...)</code></p>
<p>&#x8FD4;&#x56DE;: fl1 &#x4E0E; fl2 fl3 &#x2026; &#x4E4B;&#x548C;&#x7684;&#x5DEE;</p>
<p>&#x5E93;: (rnrs arithmetic flonums), (rnrs)</p>
<p>&#x5BF9;&#x4E8E; flonums &#x7684; IEEE &#x6D6E;&#x70B9;&#x8868;&#x793A;&#x5F62;&#x5F0F;&#xFF0C;&#x5355;&#x53C2;&#x6570;&#x7684; <code>fl-</code> &#x7B49;&#x4EF7;&#x4E8E;</p>
<pre><code>(lambda (x) (fl* -1.0 x))
</code></pre><p>&#x6216;</p>
<pre><code>(lambda (x) (fl- -0.0 x))
</code></pre><p>&#x4F46;&#x4E0D;&#x662F;</p>
<pre><code>(lambda (x) (fl- 0.0 x))
</code></pre><p>&#x56E0;&#x4E3A;&#xFF0C;&#x5BF9;&#x4E8E; <code>0.0</code>, &#x540E;&#x8005;&#x8FD4;&#x56DE; <code>0.0</code>, &#x800C;&#x4E0D;&#x662F;<code>-0.0</code>.</p>
<pre><code>(fl- 0.0) =&gt; -0.0
(fl- 3.0) =&gt; -3.0
(fl- 4.0 3.0) =&gt; 1.0
(fl- 4.0 3.0 2.0 1.0) =&gt; -2.0
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fl* fl ...)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5B9E;&#x53C2; fl &#x2026; &#x7684;&#x79EF;</p>
<p>&#x5E93;: (rnrs arithmetic flonums), (rnrs)</p>
<p>&#x4E0D;&#x5E26;&#x5B9E;&#x53C2;&#x8C03;&#x7528;&#x65F6;&#xFF0C;<code>fl\*</code> &#x8FD4;&#x56DE; 1.0.</p>
<pre><code>(fl*) =&gt; 1.0
(fl* 1.5 2.5) =&gt; 3.75
(fl* 3.0 -4.0 5.0) =&gt; -60.0
(apply fl* &apos;(1.0 -2.0 3.0 -4.0 5.0)) =&gt; 120.0
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fl/ fl)</code></p>
<p>&#x8FD4;&#x56DE;: fl &#x7684;&#x4E58;&#x6CD5;&#x9006;&#x5143;</p>
<p>&#x8FC7;&#x7A0B;: <code>(fl/ fl1 fl2 fl3 ...)</code></p>
<p>&#x8FD4;&#x56DE;: fl1 &#x9664;&#x4EE5; fl2 fl3 &#x2026; &#x4E4B;&#x79EF;&#x7684;&#x7ED3;&#x679C;</p>
<p>&#x5E93;: (rnrs arithmetic flonums), (rnrs)</p>
<pre><code>(fl/ -4.0) =&gt; -0.25
(fl/ 8.0 -2.0) =&gt; -4.0
(fl/ -9.0 2.0) =&gt; -4.5
(fl/ 60.0 5.0 3.0 2.0) =&gt; 2.0
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fldiv fl1 fl2)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(flmod fl1 fl2)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(fldiv-and-mod fl1 fl2)</code></p>
<p>&#x8FD4;&#x56DE;: &#x53C2;&#x89C1;&#x4E0B;&#x6587;</p>
<p>&#x5E93;: (rnrs arithmetic flonums), (rnrs)</p>
<p>&#x8FD9;&#x4E9B;&#x662F;&#x901A;&#x7528;&#x8FC7;&#x7A0B; <code>div</code> , <code>mod</code> , &#x548C; <code>div-and-mod</code> &#x7684; flonum &#x4E13;&#x7528;&#x7248;&#x672C;&#x3002;</p>
<pre><code>(fldiv 17.0 3.0) =&gt; 5.0
(flmod 17.0 3.0) =&gt; 2.0
(fldiv -17.0 3.0) =&gt; -6.0
(flmod -17.0 3.0) =&gt; 1.0
(fldiv 17.0 -3.0) =&gt; -5.0
(flmod 17.0 -3.0) =&gt; 2.0
(fldiv -17.0 -3.0) =&gt; 6.0
(flmod -17.0 -3.0) =&gt; 1.0

(fldiv-and-mod 17.5 3.75) =&gt; 4.0
                           2.5
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fldiv0 fl1 fl2)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(flmod0 fl1 fl2)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(fldiv0-and-mod0 fl1 fl2)</code></p>
<p>&#x8FD4;&#x56DE;: &#x53C2;&#x89C1;&#x4E0B;&#x6587;</p>
<p>&#x5E93;: (rnrs arithmetic flonums), (rnrs)</p>
<p>&#x8FD9;&#x4E9B;&#x662F;&#x901A;&#x7528;&#x8FC7;&#x7A0B; <code>div0</code> , <code>mod0</code> , &#x548C; <code>div0-and-mod0</code> &#x7684; flonum &#x4E13;&#x7528;&#x7248;&#x672C;&#x3002;</p>
<pre><code>(fldiv0 17.0 3.0) =&gt; 6.0
(flmod0 17.0 3.0) =&gt; -1.0
(fldiv0 -17.0 3.0) =&gt; -6.0
(flmod0 -17.0 3.0) =&gt; 1.0
(fldiv0 17.0 -3.0) =&gt; -6.0
(flmod0 17.0 -3.0) =&gt; -1.0
(fldiv0 -17.0 -3.0) =&gt; 6.0
(flmod0 -17.0 -3.0) =&gt; 1.0

(fldiv0-and-mod0 17.5 3.75) =&gt; 5.0
                             -1.25
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(flround fl)</code></p>
<p>&#x8FD4;&#x56DE;: &#x6700;&#x63A5;&#x8FD1; fl &#x7684;&#x6574;&#x6570;</p>
<p>&#x8FC7;&#x7A0B;: <code>(fltruncate fl)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5728;&#x8D8B;&#x4E8E; 0 &#x7684;&#x65B9;&#x5411;&#x4E0A;&#x6700;&#x63A5;&#x8FD1; fl &#x7684;&#x6574;&#x6570;</p>
<p>&#x8FC7;&#x7A0B;: <code>(flfloor fl)</code></p>
<p>&#x8FD4;&#x56DE;: &#x8D8B;&#x4E8E; -&#x221E; &#x7684;&#x65B9;&#x5411;&#x4E0A;&#x6700;&#x63A5;&#x8FD1; fl &#x7684;&#x6574;&#x6570;</p>
<p>&#x8FC7;&#x7A0B;: <code>(flceiling fl)</code></p>
<p>&#x8FD4;&#x56DE;: &#x8D8B;&#x4E8E; +&#x221E; &#x7684;&#x65B9;&#x5411;&#x4E0A;&#x6700;&#x63A5;&#x8FD1; fl &#x7684;&#x6574;&#x6570;</p>
<p>&#x5E93;: (rnrs arithmetic flonums), (rnrs)</p>
<p>&#x5982;&#x679C; <code>fl</code> &#x662F;&#x6574;&#x6570;&#xFF0C;NaN, &#x6216;&#x65E0;&#x7A77;&#xFF0C;&#x8FD9;&#x4E9B;&#x8FC7;&#x7A0B;&#x5747;&#x8FD4;&#x56DE; <code>fl</code> . &#x5982;&#x679C; <code>fl</code> &#x5904;&#x4E8E;&#x4E24;&#x4E2A;&#x6574;&#x6570;&#x7684;&#x6B63;&#x4E2D;&#x95F4;&#xFF0C; <code>flround</code> &#x8FD4;&#x56DE;&#x6700;&#x63A5;&#x8FD1;&#x7684;&#x5076;&#x6570;&#x3002;</p>
<pre><code>(flround 17.3) =&gt; 17.0
(flround -17.3) =&gt; -17.0
(flround 2.5) =&gt; 2.0
(flround 3.5) =&gt; 4.0

(fltruncate 17.3) =&gt; 17.0
(fltruncate -17.3) =&gt; -17.0

(flfloor 17.3) =&gt; 17.0
(flfloor -17.3) =&gt; -18.0

(flceiling 17.3) =&gt; 18.0
(flceiling -17.3) =&gt; -17.0
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(flnumerator fl)</code></p>
<p>&#x8FD4;&#x56DE;: fl &#x7684;&#x5206;&#x5B50;</p>
<p>&#x8FC7;&#x7A0B;: <code>(fldenominator fl)</code></p>
<p>&#x8FD4;&#x56DE;: fl &#x7684;&#x5206;&#x6BCD;</p>
<p>&#x5E93;: (rnrs arithmetic flonums), (rnrs)</p>
<p>&#x5982;&#x679C; <code>fl</code> &#x662F;&#x6574;&#x6570;&#xFF0C;&#x5305;&#x62EC; 0.0, &#x6216;&#x65E0;&#x7A77;&#xFF0C;&#x5219;&#x5206;&#x5B50;&#x4E3A; <code>fl</code> &#xFF0C;&#x800C;&#x5206;&#x6BCD;&#x4E3A; 1.0.</p>
<pre><code>(flnumerator -9.0) =&gt; -9.0
(fldenominator -9.0) =&gt; 1.0
(flnumerator 0.0) =&gt; 0.0
(fldenominator 0.0) =&gt; 1.0
(flnumerator -inf.0) =&gt; -inf.0
(fldenominator -inf.0) =&gt; 1.0
</code></pre><p>&#x4EE5;&#x4E0B;&#x4EE3;&#x7801;&#x5BF9; IEEE &#x6D6E;&#x70B9;&#x5F62;&#x5F0F;&#x6210;&#x7ACB;&#xFF0C;&#x4F46;&#x5BF9;&#x5176;&#x5B83; flonum &#x8868;&#x793A;&#x5F62;&#x5F0F;&#x4E0D;&#x4E00;&#x5B9A;&#x6210;&#x7ACB;&#x3002;</p>
<pre><code>(flnumerator 3.5) =&gt; 7.0
(fldenominator 3.5) =&gt; 2.0
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(flabs fl)</code></p>
<p>&#x8FD4;&#x56DE;: fl &#x7684;&#x7EDD;&#x5BF9;&#x503C;</p>
<p>&#x5E93;: (rnrs arithmetic flonums), (rnrs)</p>
<pre><code>(flabs 3.2) =&gt; 3.2
(flabs -2e-20) =&gt; 2e-20
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(flexp fl)</code></p>
<p>&#x8FD4;&#x56DE;: e &#x7684; fl &#x6B21;&#x5E42;</p>
<p>&#x8FC7;&#x7A0B;: <code>(fllog fl)</code></p>
<p>&#x8FD4;&#x56DE;: fl &#x7684;&#x81EA;&#x7136;&#x5BF9;&#x6570;</p>
<p>&#x8FC7;&#x7A0B;: <code>(fllog fl1 fl2)</code></p>
<p>&#x8FD4;&#x56DE;: fl1 &#x4EE5; fl2 &#x4E3A;&#x5E95;&#x7684;&#x5BF9;&#x6570;</p>
<p>&#x5E93;: (rnrs arithmetic flonums), (rnrs)</p>
<pre><code>(flexp 0.0) =&gt; 1.0
(flexp 1.0) =&gt; 2.7182818284590455

(fllog 1.0) =&gt; 0.0
(fllog (exp 1.0)) =&gt; 1.0
(fl/ (fllog 100.0) (fllog 10.0)) =&gt; 2.0

(fllog 100.0 10.0) =&gt; 2.0
(fllog .125 2.0) =&gt; -3.0
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(flsin fl)</code></p>
<p>&#x8FD4;&#x56DE;: fl &#x7684;&#x6B63;&#x5F26;&#x503C;</p>
<p>&#x8FC7;&#x7A0B;: <code>(flcos fl)</code></p>
<p>&#x8FD4;&#x56DE;: fl &#x7684;&#x4F59;&#x5F26;&#x503C;</p>
<p>&#x8FC7;&#x7A0B;: <code>(fltan fl)</code></p>
<p>&#x8FD4;&#x56DE;: fl &#x7684;&#x6B63;&#x5207;&#x503C;</p>
<p>&#x5E93;: (rnrs arithmetic flonums), (rnrs)</p>
<p>&#x8FC7;&#x7A0B;: <code>(flasin fl)</code></p>
<p>&#x8FD4;&#x56DE;: fl &#x7684;&#x53CD;&#x6B63;&#x5F26;&#x503C;</p>
<p>&#x8FC7;&#x7A0B;: <code>(flacos fl)</code></p>
<p>&#x8FD4;&#x56DE;: fl &#x7684;&#x53CD;&#x4F59;&#x5F26;&#x503C;</p>
<p>&#x8FC7;&#x7A0B;: <code>(flatan fl)</code></p>
<p>&#x8FD4;&#x56DE;: fl &#x7684;&#x53CD;&#x6B63;&#x5207;&#x503C;</p>
<p>&#x8FC7;&#x7A0B;: <code>(flatan fl1 fl2)</code></p>
<p>&#x8FD4;&#x56DE;: fl1/fl2 &#x7684;&#x53CD;&#x6B63;&#x5207;&#x503C;</p>
<p>&#x5E93;: (rnrs arithmetic flonums), (rnrs)</p>
<p>&#x8FC7;&#x7A0B;: <code>(flsqrt fl)</code></p>
<p>&#x8FD4;&#x56DE;: fl &#x7684;&#x4E3B;&#x5E73;&#x65B9;&#x6839;</p>
<p>&#x5E93;: (rnrs arithmetic flonums), (rnrs)</p>
<p>&#x8FD4;&#x56DE; <code>fl</code> &#x7684;&#x4E3B;&#x5E73;&#x65B9;&#x6839;&#x3002;-0.0 &#x7684;&#x4E3B;&#x5E73;&#x65B9;&#x6839;&#x5E94;&#x4E3A; -0.0. &#x5BF9;&#x5176;&#x5B83;&#x8D1F;&#x6570;&#x7684;&#x7ED3;&#x679C;&#x53EF;&#x80FD;&#x662F; NaN &#x6216;&#x5176;&#x5B83;&#x67D0;&#x4E2A;&#x672A;&#x5B9A;&#x4E49; flonum.</p>
<pre><code>(flsqrt 4.0) =&gt; 2.0
(flsqrt 0.0) =&gt; 0.0
(flsqrt -0.0) =&gt; -0.0
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(flexpt fl1 fl2)</code></p>
<p>&#x8FD4;&#x56DE;: fl1 &#x7684; fl2 &#x6B21;&#x5E42;</p>
<p>&#x5E93;: (rnrs arithmetic flonums), (rnrs)</p>
<p>&#x5982;&#x679C; <code>fl1</code> &#x662F;&#x8D1F;&#x6570;&#xFF0C;&#x800C; <code>fl2</code> &#x4E0D;&#x662F;&#x6574;&#x6570;&#xFF0C;&#x7ED3;&#x679C;&#x5219;&#x53EF;&#x80FD;&#x4E3A; NaN &#x6216;&#x5176;&#x5B83;&#x67D0;&#x4E2A;&#x672A;&#x5B9A;&#x4E49; flonum. &#x5982;&#x679C; <code>fl1</code> &#x548C; <code>fl2</code> &#x90FD;&#x662F; 0, &#x5219;&#x7ED3;&#x679C;&#x4E3A; 1.0. &#x5982;&#x679C; <code>fl1</code> &#x4E3A; 0 &#x800C; <code>fl2</code> &#x662F;&#x6B63;&#x6570;&#xFF0C;&#x5219;&#x7ED3;&#x679C;&#x4E3A; 0. &#x5BF9;&#x4E8E; <code>fl1</code> &#x4E3A; 0 &#x7684;&#x5176;&#x5B83;&#x60C5;&#x51B5;&#xFF0C;&#x7ED3;&#x679C;&#x53EF;&#x80FD;&#x662F; NaN &#x6216;&#x5176;&#x5B83;&#x67D0;&#x4E2A;&#x672A;&#x5B9A;&#x4E49; flonum.</p>
<pre><code>(flexpt 3.0 2.0) =&gt; 9.0
(flexpt 0.0 +inf.0) =&gt; 0.0
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(fixnum-&gt;flonum fx)</code></p>
<p>&#x8FD4;&#x56DE;: &#x6700;&#x63A5;&#x8FD1; fx &#x7684; flonum &#x8868;&#x793A;&#x5F62;&#x5F0F;</p>
<p>&#x8FC7;&#x7A0B;: <code>(real-&gt;flonum real)</code></p>
<p>&#x8FD4;&#x56DE;: &#x6700;&#x63A5;&#x8FD1; real &#x7684; flonum &#x8868;&#x793A;&#x5F62;&#x5F0F;</p>
<p>&#x5E93;: (rnrs arithmetic flonums), (rnrs)</p>
<p> <code>fixnum-&gt;flonum</code> &#x662F; <code>inexact</code> &#x7684;&#x4E00;&#x4E2A;&#x53D7;&#x9650;&#x53D8;&#x4F53;&#x3002;&#x5F53;&#x8F93;&#x5165;&#x662F;&#x4E00;&#x4E2A;&#x7CBE;&#x786E;&#x5B9E;&#x6570;&#x65F6;&#xFF0C; <code>real-&gt;flonum</code> &#x662F; <code>inexact</code> &#x7684;&#x4E00;&#x4E2A;&#x53D7;&#x9650;&#x53D8;&#x4F53;&#xFF1B;&#x5F53;&#x8F93;&#x5165;&#x662F;&#x4E00;&#x4E2A;&#x4E0D;&#x7CBE;&#x786E;&#x7684;&#x975E; flonum &#x5B9E;&#x6570;&#xFF0C;&#x5B83;&#x4F1A;&#x628A;&#x8FD9;&#x4E2A;&#x4E0D;&#x7CBE;&#x786E;&#x7684;&#x975E; flonum &#x5B9E;&#x6570;&#x8F6C;&#x5316;&#x4E3A;&#x6700;&#x63A5;&#x8FD1;&#x7684; flonum.</p>
<pre><code>(fixnum-&gt;flonum 0) =&gt; 0.0
(fixnum-&gt;flonum 13) =&gt; 13.0

(real-&gt;flonum -1/2) =&gt; -0.5
(real-&gt;flonum 1s3) =&gt; 1000.0
</code></pre><h2 id="67-&#x5B57;&#x7B26;">6.7. &#x5B57;&#x7B26;</h2>
<p>&#x5B57;&#x7B26;&#x662F;&#x539F;&#x5B50;&#x5BF9;&#x8C61;&#xFF0C;&#x8868;&#x793A;&#x5B57;&#x6BCD;&#xFF0C;&#x6570;&#x5B57;&#xFF0C;&#x7279;&#x6B8A;&#x7B26;&#x53F7;&#xFF0C;&#x5982; $ &#x6216; -&#xFF0C;&#x4EE5;&#x53CA;&#x67D0;&#x4E9B;&#x975E;&#x56FE;&#x5F62;&#x63A7;&#x5236;&#x5B57;&#x7B26;&#xFF0C;&#x5982;&#x7A7A;&#x683C;&#x548C;&#x6362;&#x884C;&#x3002;&#x5B57;&#x7B26;&#x7684;&#x5199;&#x6CD5;&#x5E26;&#x6709;&#x524D;&#x7F00; #\. &#x5BF9;&#x4E8E;&#x591A;&#x6570;&#x5B57;&#x7B26;&#xFF0C;&#x524D;&#x7F00;&#x540E;&#x9762;&#x8DDF;&#x7740;&#x5B57;&#x7B26;&#x672C;&#x8EAB;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5B57;&#x6BCD; A &#x7684;&#x5B57;&#x7B26;&#x5199;&#x6CD5;&#x4E3A; #\A. &#x6362;&#x884C;&#x5B57;&#x7B26;&#xFF0C;&#x7A7A;&#x683C;&#x5B57;&#x7B26;&#x548C;&#x5236;&#x8868;&#x7B26;&#x4E5F;&#x53EF;&#x4EE5;&#x4EE5;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x4E66;&#x5199;&#xFF0C;&#x4F46;&#x662F;&#xFF0C;&#x5B83;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x66F4;&#x6E05;&#x6670;&#x5730;&#x5199;&#x4F5C; #\newline, #\space, &#x548C; #\tab. &#x5176;&#x5B83;&#x7684;&#x5B57;&#x7B26;&#x540D;&#x4E5F;&#x652F;&#x6301;&#xFF0C;&#x5982; 457 &#x9875;&#x7684;&#x5B57;&#x7B26;&#x5BF9;&#x8C61;&#x8BED;&#x6CD5;&#x6240;&#x5B9A;&#x4E49;&#x7684;&#x3002;&#x6240;&#x6709; unicode &#x5B57;&#x7B26;&#x90FD;&#x53EF;&#x4EE5;&#x4EE5;&#x8BED;&#x6CD5;&#x5F62;&#x5F0F; #\xn &#x4E66;&#x5199;&#xFF0C; &#x5176;&#x4E2D; n &#x7531;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x6570;&#x5B57;&#x7EC4;&#x6210;&#xFF0C;&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x6709;&#x6548;&#x7684; Unicode &#x6807;&#x91CF;&#x503C;&#x3002;</p>
<p>&#x672C;&#x8282;&#x4ECB;&#x7ECD;&#x4E86;&#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x5904;&#x7406;&#x5B57;&#x7B26;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x53C2;&#x89C1;&#x4E0B;&#x4E00;&#x8282;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x64CD;&#x4F5C;&#xFF0C;&#x4EE5;&#x53CA;&#x7B2C; 7 &#x7AE0;&#x8F93;&#x5165;&#x548C;&#x8F93;&#x51FA;&#xFF0C;&#x4EE5;&#x4E86;&#x89E3;&#x5176;&#x5B83;&#x4E0E;&#x5B57;&#x7B26;&#x6709;&#x5173;&#x7684;&#x64CD;&#x4F5C;&#x3002;</p>
<p>&#x8FC7;&#x7A0B;: <code>(char=? char1 char2 char3 ...)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(char&lt;? char1 char2 char3 ...)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(char&gt;? char1 char2 char3 ...)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(char&lt;=? char1 char2 char3 ...)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(char&gt;=? char1 char2 char3 ...)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C;&#x5173;&#x7CFB;&#x6210;&#x7ACB;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x8FD9;&#x4E9B;&#x8C13;&#x8BCD;&#x7684;&#x884C;&#x4E3A;&#x65B9;&#x5F0F;&#x4E0E;&#x6570;&#x5B57;&#x8C13;&#x8BCD; <code>=</code>, <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, &#x53CA; <code>&gt;=</code> &#x7C7B;&#x4F3C;&#x3002;&#x4F8B;&#x5982;&#xFF0C; <code>char=?</code> &#x5728;&#x5176;&#x5B9E;&#x53C2;&#x4E3A;&#x76F8;&#x7B49;&#x5B57;&#x7B26;&#x65F6;&#x8FD4;&#x56DE; <code>#t</code> , &#x800C; <code>char&lt;?</code> &#x5728;&#x5176;&#x5B9E;&#x53C2;&#x7684;&#x5B57;&#x7B26;&#x503C;&#xFF08;Unicode &#x6807;&#x91CF;&#xFF09;&#x5355;&#x8C03;&#x9012;&#x589E;&#x65F6;&#x8FD4;&#x56DE; <code>#t</code> .</p>
<pre><code>(char&gt;? #\a #\b) =&gt; #f
(char&lt;? #\a #\b) =&gt; #t
(char&lt;? #\a #\b #\c) =&gt; #t
(let ([c #\r])
  (char&lt;=? #\a c #\z)) =&gt; #t
(char&lt;=? #\Z #\W) =&gt; #f
(char=? #\+ #\+) =&gt; #t
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(char-ci=? char1 char2 char3 ...)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(char-ci&lt;? char1 char2 char3 ...)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(char-ci&gt;? char1 char2 char3 ...)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(char-ci&lt;=? char1 char2 char3 ...)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(char-ci&gt;=? char1 char2 char3 ...)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C;&#x5173;&#x7CFB;&#x6210;&#x7ACB;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs unicode), (rnrs)</p>
<p>&#x8FD9;&#x4E9B;&#x8C13;&#x8BCD;&#x548C;&#x8C13;&#x8BCD; <code>char=?</code> , <code>char&lt;?</code> , <code>char&gt;?</code> , <code>char&lt;=?</code> , &#x548C; <code>char&gt;=?</code> &#x662F;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x53EA;&#x662F;&#x5B83;&#x4EEC;&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#xFF0C;&#x5373;&#xFF0C;&#x6BD4;&#x8F83;&#x5B83;&#x4EEC;&#x7684;&#x5B9E;&#x53C2;&#x7ECF;&#x8FC7;&#x5927;&#x5C0F;&#x5199;&#x6298;&#x53E0;&#x540E;&#x7684;&#x7248;&#x672C;&#x3002;&#x4F8B;&#x5982;&#xFF0C; <code>char=?</code> &#x5224;&#x5B9A; #\a &#x548C; #\A &#x662F;&#x4E0D;&#x540C;&#x7684;&#x503C;&#xFF1B;&#x800C; <code>char-ci=?</code> &#x5219;&#x5224;&#x5B9A;&#x4E3A;&#x76F8;&#x540C;&#x3002;</p>
<pre><code>(char-ci&lt;? #\a #\B) =&gt; #t
(char-ci=? #\W #\w) =&gt; #t
(char-ci=? #\= #\+) =&gt; #f
(let ([c #\R])
  (list (char&lt;=? #\a c #\z)
        (char-ci&lt;=? #\a c #\z))) =&gt; (#f #t)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(char-alphabetic? char)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>char</code> &#x662F;&#x5B57;&#x6BCD;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x8FC7;&#x7A0B;: <code>(char-numeric? char)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>char</code> &#x662F;&#x6570;&#x5B57;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x8FC7;&#x7A0B;: <code>(char-whitespace? char)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>char</code> &#x662F;&#x7A7A;&#x767D;&#x5B57;&#x7B26;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs unicode), (rnrs)</p>
<p>&#x5982;&#x679C;&#x5B57;&#x7B26;&#x5E26;&#x6709; Unicode &quot;Alphabetic&quot; &#x5C5E;&#x6027;&#xFF0C;&#x5219;&#x5B83;&#x662F;&#x5B57;&#x6BCD;&#xFF1B;&#x5982;&#x679C;&#x5B57;&#x7B26;&#x5E26;&#x6709; Unicode &quot;Numeric&quot; &#x5C5E;&#x6027;&#xFF0C;&#x5219;&#x5B83;&#x662F;&#x6570;&#x5B57;&#xFF1B;&#x5982;&#x679C;&#x5B57;&#x7B26;&#x5E26;&#x6709; Unicode &quot;White_Space&quot; &#x5C5E;&#x6027;&#xFF0C;&#x5219;&#x4E3A;&#x7A7A;&#x767D;&#x5B57;&#x7B26;&#x3002;</p>
<pre><code>(char-alphabetic? #\a) =&gt; #t
(char-alphabetic? #\T) =&gt; #t
(char-alphabetic? #\8) =&gt; #f
(char-alphabetic? #\$) =&gt; #f

(char-numeric? #\7) =&gt; #t
(char-numeric? #\2) =&gt; #t
(char-numeric? #\X) =&gt; #f
(char-numeric? #\space) =&gt; #f

(char-whitespace? #\space) =&gt; #t
(char-whitespace? #\newline) =&gt; #t
(char-whitespace? #\Z) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(char-lower-case? char)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>char</code> &#x662F;&#x5C0F;&#x5199;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x8FC7;&#x7A0B;: <code>(char-upper-case? char)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>char</code> &#x662F;&#x5927;&#x5199;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x8FC7;&#x7A0B;: <code>(char-title-case? char)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>char</code> &#x662F;&#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5199;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs unicode), (rnrs)</p>
<p>&#x5982;&#x679C;&#x5B57;&#x7B26;&#x5E26;&#x6709; Unicode &quot;Uppercase&quot; &#x5C5E;&#x6027;&#xFF0C;&#x5219;&#x4E3A;&#x5927;&#x5199;&#xFF1B;&#x5E26;&#x6709; &quot;Lowercase&quot; &#x5C5E;&#x6027;&#xFF0C;&#x5219;&#x4E3A;&#x5C0F;&#x5199;&#xFF1B;&#x800C;&#x5982;&#x679C;&#x5B83;&#x5C5E;&#x4E8E; Lt &#x901A;&#x7528;&#x7C7B;&#x522B;&#xFF0C;&#x5219;&#x4E3A;&#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5199;&#x3002;</p>
<pre><code>(char-lower-case? #\r) =&gt; #t
(char-lower-case? #\R) =&gt; #f

(char-upper-case? #\r) =&gt; #f
(char-upper-case? #\R) =&gt; #t

(char-title-case? #\I) =&gt; #f
(char-title-case? #\x01C5) =&gt; #t
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(char-general-category char)</code></p>
<p>&#x8FD4;&#x56DE;: &#x4E00;&#x4E2A;&#x7528;&#x6765;&#x8868;&#x793A; <code>char</code> &#x7684; Unicode &#x901A;&#x7528;&#x7C7B;&#x522B;&#x7684;&#x7B26;&#x53F7;</p>
<p>&#x5E93;: (rnrs unicode), (rnrs)</p>
<p>&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x4EE5;&#x4E0B;&#x7B26;&#x53F7;&#x4E4B;&#x4E00;&#xFF1A;Lu, Ll, Lt, Lm, Lo, Mn, Mc, Me, Nd, Nl, No, Ps, Pe, Pi, Pf, Pd, Pc, Po, Sc, Sm, Sk, So, Zs, Zp, Zl, Cc, Cf, Cs, Co, or Cn.</p>
<pre><code>(char-general-category #\a) =&gt; Ll
(char-general-category #\space) =&gt; Zs
(char-general-category #\x_10FFFF) =&gt; Cn  
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(char-upcase char)</code></p>
<p>&#x8FD4;&#x56DE;: <code>char</code> &#x5BF9;&#x5E94;&#x7684;&#x5927;&#x5199;&#x5B57;&#x7B26;</p>
<p>&#x5E93;: (rnrs unicode), (rnrs)</p>
<p>&#x5982;&#x679C; <code>char</code> &#x662F;&#x5C0F;&#x5199;&#x6216;&#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5199;&#x5B57;&#x7B26;&#xFF0C;&#x4E14;&#x6709;&#x4E00;&#x4E2A;&#x5BF9;&#x5E94;&#x7684;&#x5927;&#x5199;&#x5B57;&#x7B26;&#xFF0C;&#x5219; <code>char-upcase</code> &#x8FD4;&#x56DE;&#x5B83;&#x5BF9;&#x5E94;&#x7684;&#x5927;&#x5199;&#x5B57;&#x7B26;&#x3002;&#x5426;&#x5219;&#xFF0C; <code>char-upcase</code> &#x8FD4;&#x56DE; <code>char</code> .</p>
<pre><code>(char-upcase #\g) =&gt; #\G
(char-upcase #\G) =&gt; #\G
(char-upcase #\7) =&gt; #\7
(char-upcase #\sigmaf) =&gt; #\Sigma
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(char-downcase char)</code></p>
<p>&#x8FD4;&#x56DE;: <code>char</code> &#x5BF9;&#x5E94;&#x7684;&#x5C0F;&#x5199;&#x5B57;&#x7B26;</p>
<p>&#x5E93;: (rnrs unicode), (rnrs)</p>
<p>&#x5982;&#x679C; <code>char</code> &#x662F;&#x5927;&#x5199;&#x6216;&#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5199;&#x5B57;&#x7B26;&#xFF0C;&#x4E14;&#x6709;&#x4E00;&#x4E2A;&#x5BF9;&#x5E94;&#x7684;&#x5C0F;&#x5199;&#x5B57;&#x7B26;&#xFF0C;&#x5219; <code>char-downcase</code> &#x8FD4;&#x56DE;&#x5B83;&#x5BF9;&#x5E94;&#x7684;&#x5C0F;&#x5199;&#x5B57;&#x7B26;&#x3002;&#x5426;&#x5219;&#xFF0C; <code>char-downcase</code> &#x8FD4;&#x56DE; <code>char</code> .</p>
<pre><code>(char-downcase #\g) =&gt; #\g
(char-downcase #\G) =&gt; #\g
(char-downcase #\7) =&gt; #\7
(char-downcase #\sigmaf) =&gt; #\sigmaf
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(char-titlecase char)</code></p>
<p>&#x8FD4;&#x56DE;: <code>char</code> &#x5BF9;&#x5E94;&#x7684;&#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5199;&#x5B57;&#x6BCD;</p>
<p>&#x5E93;: (rnrs unicode), (rnrs)</p>
<p>&#x5982;&#x679C; <code>char</code> &#x662F;&#x5927;&#x5199;&#x6216;&#x9996;&#x5B57;&#x6BCD;&#x5C0F;&#x5199;&#x5B57;&#x7B26;&#xFF0C;&#x4E14;&#x6709;&#x4E00;&#x4E2A;&#x5BF9;&#x5E94;&#x7684;&#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5199;&#x5B57;&#x7B26;&#xFF0C;&#x5219; <code>char-titlecase</code> &#x8FD4;&#x56DE;&#x5B83;&#x5BF9;&#x5E94;&#x7684;&#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5199;&#x5B57;&#x7B26;&#x3002;&#x5426;&#x5219;&#xFF0C;&#x5982;&#x679C; <code>char</code> &#x4E0D;&#x662F;&#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5199;&#x5B57;&#x7B26;&#xFF0C;&#x4E14;&#x6CA1;&#x6709;&#x4E00;&#x4E2A;&#x5BF9;&#x5E94;&#x7684;&#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5199;&#x5B57;&#x7B26;&#xFF0C; <code>char-titlecase</code> &#x8FD4;&#x56DE;&#x5BF9;&#x5E94;&#x7684;&#x5927;&#x5199;&#x5B57;&#x7B26;&#x3002;&#x5426;&#x5219;&#xFF0C; <code>char-titlecase</code> &#x8FD4;&#x56DE; <code>char</code> .</p>
<pre><code>(char-titlecase #\g) =&gt; #\G
(char-titlecase #\G) =&gt; #\G
(char-titlecase #\7) =&gt; #\7
(char-titlecase #\sigmaf) =&gt; #\Sigma
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(char-foldcase char)</code></p>
<p>&#x8FD4;&#x56DE;: <code>char</code> &#x5BF9;&#x5E94;&#x7684;&#x5927;&#x5C0F;&#x5199;&#x6298;&#x53E0;&#x5B57;&#x7B26;</p>
<p>&#x5E93;: (rnrs unicode), (rnrs)</p>
<p>&#x5982;&#x679C; <code>char</code> &#x6709;&#x4E00;&#x4E2A;&#x5BF9;&#x5E94;&#x7684;&#x5927;&#x5C0F;&#x5199;&#x6298;&#x53E0;&#x5B57;&#x7B26;&#xFF0C;&#x5219; <code>char-foldcase</code> &#x8FD4;&#x56DE;&#x5BF9;&#x5E94;&#x7684;&#x5927;&#x5C0F;&#x5199;&#x6298;&#x53E0;&#x5B57;&#x7B26;&#x3002;&#x5426;&#x5219;&#xFF0C; <code>char-foldcase</code> &#x8FD4;&#x56DE; <code>char</code> . &#x5BF9;&#x5927;&#x591A;&#x6570;&#x5B57;&#x7B26;&#xFF0C;<code>(char-foldcase char)</code> &#x7B49;&#x4EF7;&#x4E8E; <code>(char-downcase (char-upcase char))</code>, &#x4F46;&#x5BF9;&#x4E8E;&#x571F;&#x8033;&#x5176;&#x8BED;&#x7684; &#x130; &#x548C; &#x131;, <code>char-foldcase</code> &#x8FD4;&#x56DE;&#x5B57;&#x7B26;&#x81EA;&#x8EAB;&#x3002;</p>
<pre><code>(char-foldcase #\g) =&gt; #\g
(char-foldcase #\G) =&gt; #\g
(char-foldcase #\7) =&gt; #\7
(char-foldcase #\sigmaf) =&gt; #\sigma
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(char-&gt;integer char)</code></p>
<p>&#x8FD4;&#x56DE;: &#x4E00;&#x4E2A;&#x7CBE;&#x786E;&#x7684;&#x6574;&#x6570;&#xFF0C;&#x4E3A; <code>char</code> &#x7684; Unicode &#x6807;&#x91CF;&#x503C;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<pre><code>(char-&gt;integer #\newline) =&gt; 10
(char-&gt;integer #\space) =&gt; 32
(- (char-&gt;integer #\Z) (char-&gt;integer #\A)) =&gt; 25
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(integer-&gt;char n)</code></p>
<p>&#x8FD4;&#x56DE;: Unicode &#x6807;&#x91CF;&#x503C; <code>n</code> &#x5BF9;&#x5E94;&#x7684;&#x5B57;&#x7B26;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p><code>n</code> &#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x6574;&#x6570;&#xFF0C;&#x4E14;&#x4E3A;&#x6709;&#x6548;&#x7684; Unicode &#x6807;&#x91CF;&#x503C;&#xFF0C;&#x5373;&#xFF0C; <code>0 \le n \le #xD7FF</code> &#x6216; <code>#xE000 \le n \le 10FFFF</code>.</p>
<pre><code>(integer-&gt;char 48) =&gt; #\0
(integer-&gt;char #x3BB) =&gt; #\lambda
</code></pre><h2 id="68-&#x5B57;&#x7B26;&#x4E32;">6.8. &#x5B57;&#x7B26;&#x4E32;</h2>
<p>&#x5B57;&#x7B26;&#x4E32;&#x662F;&#x5B57;&#x7B26;&#x5E8F;&#x5217;&#xFF0C;&#x5E38;&#x7528;&#x4F5C;&#x6D88;&#x606F;&#xFF0C;&#x5B57;&#x7B26;&#x7F13;&#x51B2;&#x533A;&#xFF0C;&#x6216;&#x6587;&#x672C;&#x5757;&#x7684;&#x5BB9;&#x5668;&#x3002;Scheme &#x63D0;&#x4F9B;&#x4E86;&#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x4ECE;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x63D0;&#x53D6;&#x5B57;&#x7B26;&#xFF0C;&#x83B7;&#x53D6;&#x5B50;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x62FC;&#x63A5;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x4EE5;&#x53CA;&#x4FEE;&#x6539;&#x5B57;&#x7B26;&#x4E32;&#x5185;&#x5BB9;&#x7684;&#x64CD;&#x4F5C;&#x3002;</p>
<p>&#x5B57;&#x7B26;&#x4E32;&#x5199;&#x4F5C;&#x5305;&#x56F4;&#x5728;&#x53CC;&#x5F15;&#x53F7;&#x4E2D;&#x7684;&#x5B57;&#x7B26;&#x5E8F;&#x5217;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C; &quot;hi there&quot;. &#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x524D;&#x7F6E;&#x53CD;&#x659C;&#x7EBF;&#x628A;&#x53CC;&#x5F15;&#x53F7;&#x5F15;&#x5165;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C; &quot;two \&quot;quotes\&quot; within&quot;. &#x53CD;&#x659C;&#x7EBF;&#x540C;&#x6837;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x524D;&#x7F6E;&#x4E00;&#x4E2A;&#x53CD;&#x659C;&#x7EBF;&#x88AB;&#x5305;&#x542B;&#x8FDB;&#x6765;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C; &quot;a \\&quot;. &#x5F88;&#x591A;&#x7279;&#x6B8A;&#x5B57;&#x7B26;&#x90FD;&#x53EF;&#x4EE5;&#x4EE5;&#x53E6;&#x4E00;&#x79CD;&#x53CC;&#x5B57;&#x7B26;&#x5E8F;&#x5217;&#x7684;&#x5F62;&#x5F0F;&#x63D2;&#x5165;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;\n &#x662F;&#x6362;&#x884C;&#xFF0C;\r &#x662F;&#x56DE;&#x8F66;&#xFF0C;&#x800C; \t &#x662F;&#x5236;&#x8868;&#x7B26;&#x3002;&#x6240;&#x6709; Unicode &#x5B57;&#x7B26;&#x90FD;&#x53EF;&#x4EE5;&#x7528;&#x8BED;&#x6CD5;&#x5F62;&#x5F0F; #\xn; &#x63D2;&#x5165;&#x5230;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#xFF0C;&#x5176;&#x4E2D; n &#x7531;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x6570;&#x5B57;&#x7EC4;&#x6210;&#xFF0C;&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x6709;&#x6548;&#x7684; Unicode &#x6807;&#x91CF;&#x503C;&#x3002;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x7CBE;&#x786E;&#x8BED;&#x6CD5;&#x5B9A;&#x4E49;&#x5728; 458 &#x9875;&#x7ED9;&#x51FA;&#x3002;</p>
<p>&#x5B57;&#x7B26;&#x4E32;&#x4EE5;&#x7CBE;&#x786E;&#x975E;&#x8D1F;&#x6574;&#x6570;&#x4E3A;&#x7D22;&#x5F15;&#xFF0C;&#x4EFB;&#x4F55;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x7684;&#x7D22;&#x5F15;&#x90FD;&#x662F; 0. &#x4E00;&#x4E2A;&#x7ED9;&#x5B9A;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x6700;&#x5927;&#x6709;&#x6548;&#x7D22;&#x5F15;&#x662F;&#x5B83;&#x7684;&#x957F;&#x5EA6;&#x51CF; 1.</p>
<p>&#x8FC7;&#x7A0B;: <code>(string=? string1 string2 string3 ...)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(string&lt;? string1 string2 string3 ...)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(string&gt;? string1 string2 string3 ...)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(string&lt;=? string1 string2 string3 ...)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(string&gt;=? string1 string2 string3 ...)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C;&#x5173;&#x7CFB;&#x6210;&#x7ACB;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x5982;&#x540C; <code>=</code>, <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, &#x548C; <code>&gt;=</code>, &#x8FD9;&#x4E9B;&#x8C13;&#x8BCD;&#x8868;&#x8FBE;&#x4E86;&#x6240;&#x6709;&#x5B9E;&#x53C2;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;&#x3002;&#x4F8B;&#x5982;&#xFF0C;<code>string&gt;?</code> &#x5224;&#x5B9A;&#x5B83;&#x7684;&#x5B9E;&#x53C2;&#x662F;&#x5426;&#x4F9D;&#x5B57;&#x6BCD;&#x987A;&#x5E8F;&#x5355;&#x8C03;&#x9012;&#x51CF;&#x3002;</p>
<p>&#x8FD9;&#x4E9B;&#x6BD4;&#x8F83;&#x57FA;&#x4E8E;&#x5B57;&#x7B26;&#x8C13;&#x8BCD; <code>char=?</code> &#x548C; <code>char&lt;?</code> . &#x5982;&#x679C;&#x4E24;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x957F;&#x5EA6;&#x76F8;&#x540C;&#xFF0C;&#x4E14;&#x7531;&#x76F8;&#x540C;&#xFF08;&#x901A;&#x8FC7; <code>char=?</code> &#x5224;&#x5B9A;&#xFF09;&#x7684;&#x5B57;&#x7B26;&#x5E8F;&#x5217;&#x7EC4;&#x6210;&#xFF0C;&#x5219;&#x5B83;&#x4EEC;&#x662F;&#x4F9D;&#x5B57;&#x6BCD;&#x987A;&#x5E8F;&#x76F8;&#x7B49;&#x7684;&#x3002;&#x5982;&#x540C;&#x5B83;&#x4EEC;&#x53EA;&#x662F;&#x957F;&#x5EA6;&#x4E0D;&#x540C;&#xFF0C;&#x5219;&#x5224;&#x5B9A;&#x957F;&#x5EA6;&#x8F83;&#x77ED;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x4F9D;&#x5B57;&#x6BCD;&#x987A;&#x5E8F;&#x5C0F;&#x4E8E;&#x8F83;&#x957F;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x3002;&#x5426;&#x5219;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x6709;&#x4E0D;&#x540C;&#xFF08;&#x901A;&#x8FC7; <code>char=?</code> &#x5224;&#x5B9A;&#xFF09;&#x5B57;&#x7B26;&#x7684;&#x4F4D;&#x7F6E;&#x51B3;&#x5B9A;&#x54EA;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x4F9D;&#x5B57;&#x6BCD;&#x987A;&#x5E8F;&#x8F83;&#x5C0F;&#xFF08;&#x57FA;&#x4E8E; <code>char&lt;?</code> &#x5224;&#x5B9A;&#xFF09;&#x3002;</p>
<p>&#x4E0D;&#x5E26;&#x9519;&#x8BEF;&#x68C0;&#x67E5;&#x7684;&#x6709;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#x7684; <code>string=?</code> &#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#x3002;</p>
<pre><code>(define string=?
  (lambda (s1 s2)
    (let ([n (string-length s1)])
      (and (= (string-length s2) n)
           (let loop ([i 0])
             (or (= i n)
                 (and (char=? (string-ref s1 i) (string-ref s2 i))
                      (loop (+ i 1)))))))))
</code></pre><p>&#x4E0D;&#x5E26;&#x9519;&#x8BEF;&#x68C0;&#x67E5;&#x7684;&#x6709;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#x7684; <code>string&lt;?</code> &#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#x3002;</p>
<pre><code>(define string&lt;?
  (lambda (s1 s2)
    (let ([n1 (string-length s1)] [n2 (string-length s2)])
      (let loop ([i 0])
        (and (not (= i n2))
             (or (= i n1)
                 (let ([c1 (string-ref s1 i)] [c2 (string-ref s2 i)])
                   (or (char&lt;? c1 c2)
                       (and (char=? c1 c2)
                            (loop (+ i 1)))))))))))
</code></pre><p>&#x8FD9;&#x4E9B;&#x5B9A;&#x4E49;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x6269;&#x5C55;&#x4E3A;&#x652F;&#x6301;&#x4E09;&#x4E2A;&#x6216;&#x66F4;&#x591A;&#x53C2;&#x6570;&#x3002; <code>string&lt;=?</code> , <code>string&gt;?</code> , &#x548C; <code>string&gt;=?</code> &#x53EF;&#x4EE5;&#x4EE5;&#x7C7B;&#x4F3C;&#x7684;&#x65B9;&#x6CD5;&#x5B9A;&#x4E49;&#x3002;</p>
<pre><code>(string=? &quot;mom&quot; &quot;mom&quot;) =&gt; #t
(string&lt;? &quot;mom&quot; &quot;mommy&quot;) =&gt; #t
(string&gt;? &quot;Dad&quot; &quot;Dad&quot;) =&gt; #f
(string=? &quot;Mom and Dad&quot; &quot;mom and dad&quot;) =&gt; #f
(string&lt;? &quot;a&quot; &quot;b&quot; &quot;c&quot;) =&gt; #t
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(string-ci=? string1 string2 string3 ...)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(string-ci&lt;? string1 string2 string3 ...)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(string-ci&gt;? string1 string2 string3 ...)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(string-ci&lt;=? string1 string2 string3 ...)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(string-ci&gt;=? string1 string2 string3 ...)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C;&#x5173;&#x7CFB;&#x6210;&#x7ACB;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs unicode), (rnrs)</p>
<p>&#x8FD9;&#x4E9B;&#x8C13;&#x8BCD;&#x548C;&#x8C13;&#x8BCD; <code>string=?</code> , <code>string&lt;?</code> , <code>string&gt;?</code> , <code>string&lt;=?</code> , &#x548C; <code>string&gt;=?</code> &#x662F;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x53EA;&#x662F;&#x5B83;&#x4EEC;&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#xFF0C;&#x5373;&#xFF0C;&#x6BD4;&#x8F83;&#x5B83;&#x4EEC;&#x7684;&#x5B9E;&#x53C2;&#x7ECF;&#x8FC7;&#x5927;&#x5C0F;&#x5199;&#x6298;&#x53E0;&#x540E;&#x7684;&#x7248;&#x672C;&#x3002;</p>
<pre><code>(string-ci=? &quot;Mom and Dad&quot; &quot;mom and dad&quot;) =&gt; #t
(string-ci&lt;=? &quot;say what&quot; &quot;Say What!?&quot;) =&gt; #t
(string-ci&gt;? &quot;N&quot; &quot;m&quot; &quot;L&quot; &quot;k&quot;) =&gt; #t
(string-ci=? &quot;Stra&#xDF;e&quot; &quot;Strasse&quot;) =&gt; #t
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(string char ...)</code></p>
<p>&#x8FD4;&#x56DE;: &#x4E00;&#x4E2A;&#x7531;&#x5B57;&#x7B26; char &#x2026; &#x7EC4;&#x6210;&#x7684;&#x5B57;&#x7B26;&#x4E32;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<pre><code>(string) =&gt; &quot;&quot;
(string #\a #\b #\c) =&gt; &quot;abc&quot;
(string #\H #\E #\Y #\!) =&gt; &quot;HEY!&quot;
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(make-string n)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(make-string n char)</code></p>
<p>&#x8FD4;&#x56DE;: &#x957F;&#x5EA6;&#x4E3A; n &#x7684;&#x5B57;&#x7B26;&#x4E32;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p> <code>n</code> &#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x975E;&#x8D1F;&#x6574;&#x6570;&#x3002;&#x5982;&#x679C;&#x6307;&#x5B9A; <code>char</code> , &#x5219;&#x5B57;&#x7B26;&#x4E32;&#x4EE5; <code>n</code> &#x4E2A; <code>char</code> &#x586B;&#x5145;&#xFF0C;&#x5426;&#x5219;&#xFF0C;&#x5B57;&#x7B26;&#x4E32;&#x5305;&#x542B;&#x7684;&#x5B57;&#x7B26;&#x5219;&#x662F;&#x672A;&#x5B9A;&#x4E49;&#x7684;&#x3002;</p>
<pre><code>(make-string 0) =&gt; &quot;&quot;
(make-string 0 #\x) =&gt; &quot;&quot;
(make-string 5 #\x) =&gt; &quot;xxxxx&quot;
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(string-length string)</code></p>
<p>&#x8FD4;&#x56DE;: string &#x4E2D;&#x7684;&#x5B57;&#x7B26;&#x6570;&#x91CF;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x957F;&#x5EA6;&#x603B;&#x662F;&#x4E00;&#x4E2A;&#x7CBE;&#x786E;&#x7684;&#x975E;&#x8D1F;&#x6574;&#x6570;&#x3002;</p>
<pre><code>(string-length &quot;abc&quot;) =&gt; 3
(string-length &quot;&quot;) =&gt; 0
(string-length &quot;hi there&quot;) =&gt; 8
(string-length (make-string 1000000)) =&gt; 1000000
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(string-ref string n)</code></p>
<p>&#x8FD4;&#x56DE;: <code>string</code> &#x4E2D;&#x7684;&#x7B2C; <code>n</code> &#x4E2A;&#x5B57;&#x7B26;&#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p> <code>n</code> &#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x975E;&#x8D1F;&#x6574;&#x6570;&#xFF0C;&#x4E14;&#x5C0F;&#x4E8E; <code>string</code> &#x7684;&#x957F;&#x5EA6;&#x3002;</p>
<pre><code>(string-ref &quot;hi there&quot; 0) =&gt; #\h
(string-ref &quot;hi there&quot; 5) =&gt; #\e
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(string-set! string n char)</code></p>
<p>&#x8FD4;&#x56DE;: &#x672A;&#x5B9A;&#x4E49;</p>
<p>&#x5E93;: (rnrs mutable-strings)</p>
<p> <code>n</code> &#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x975E;&#x8D1F;&#x6574;&#x6570;&#xFF0C;&#x4E14;&#x5C0F;&#x4E8E; <code>string</code> &#x7684;&#x957F;&#x5EA6;&#x3002; <code>string-set!</code> &#x628A; <code>string</code> &#x7684;&#x7B2C; <code>n</code> &#x4E2A;&#x5143;&#x7D20;&#x4FEE;&#x6539;&#x4E3A; <code>char</code> .</p>
<pre><code>(let ([str (string-copy &quot;hi three&quot;)])
  (string-set! str 5 #\e)
  (string-set! str 6 #\r)
  str) =&gt; &quot;hi there&quot;
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(string-copy string)</code></p>
<p>&#x8FD4;&#x56DE;: <code>string</code> &#x7684;&#x4E00;&#x4EFD;&#x62F7;&#x8D1D;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x957F;&#x5EA6;&#x548C;&#x5185;&#x5BB9;&#x4E0E; <code>string</code> &#x76F8;&#x540C;&#x3002;</p>
<pre><code>(string-copy &quot;abc&quot;) =&gt; &quot;abc&quot;

(let ([str &quot;abc&quot;])
  (eq? str (string-copy str))) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(string-append string ...)</code></p>
<p>&#x8FD4;&#x56DE;: &#x7531;&#x591A;&#x4E2A;&#x5B57;&#x7B26;&#x4E32; string &#x2026;&#x62FC;&#x63A5;&#x5F62;&#x6210;&#x7684;&#x65B0;&#x5B57;&#x7B26;&#x4E32;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<pre><code>(string-append) =&gt; &quot;&quot;
(string-append &quot;abc&quot; &quot;def&quot;) =&gt; &quot;abcdef&quot;
(string-append &quot;Hey &quot; &quot;you &quot; &quot;there!&quot;) =&gt; &quot;Hey you there!&quot;
</code></pre><p> <code>string-append</code> &#x7684;&#x5982;&#x4E0B;&#x5B9E;&#x73B0;&#xFF0C;&#x5BF9;&#x5B57;&#x7B26;&#x4E32;&#x5217;&#x8868;&#x8FDB;&#x884C;&#x9012;&#x5F52;&#xFF0C;&#x4EE5;&#x8BA1;&#x7B97;&#x603B;&#x957F;&#x5EA6;&#xFF0C;&#x7136;&#x540E;&#x5206;&#x914D;&#x65B0;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x6700;&#x540E;&#x5728;&#x5C55;&#x5F00;&#x9012;&#x5F52;&#x65F6;&#x8FDB;&#x884C;&#x586B;&#x5145;&#x3002;</p>
<pre><code>(define string-append
  (lambda args
    (let f ([ls args] [n 0])
      (if (null? ls)
          (make-string n)
          (let* ([s1 (car ls)]
                 [m (string-length s1)]
                 [s2 (f (cdr ls) (+ n m))])
            (do ([i 0 (+ i 1)] [j n (+ j 1)])
                ((= i m) s2)
              (string-set! s2 j (string-ref s1 i))))))))
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(substring string start end)</code></p>
<p>&#x8FD4;&#x56DE;: <code>string</code> &#x4ECE; <code>start</code> &#xFF08;&#x5305;&#x542B;&#xFF09;&#x81F3; <code>end</code> &#xFF08;&#x4E0D;&#x5305;&#x542B;&#xFF09;&#x4E4B;&#x95F4;&#x90E8;&#x5206;&#x7684;&#x62F7;&#x8D1D;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p> <code>start</code> &#x548C; <code>end</code> &#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x975E;&#x8D1F;&#x6574;&#x6570;&#xFF1B; <code>start</code> &#x5FC5;&#x987B;&#x5C0F;&#x4E8E;&#x7B49;&#x4E8E; <code>end</code> , &#x540C;&#x65F6; <code>end</code> &#x5FC5;&#x987B;&#x5C0F;&#x4E8E;&#x7B49;&#x4E8E; <code>string</code> &#x7684;&#x957F;&#x5EA6;&#x3002;&#x5982;&#x679C; <code>end = start</code>, &#x5219;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x957F;&#x5EA6;&#x4E3A; 0 &#x7684;&#x5B57;&#x7B26;&#x4E32;&#x3002;&#x4E0D;&#x5E26;&#x9519;&#x8BEF;&#x68C0;&#x67E5;&#x7684; <code>substring</code> &#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#x3002;</p>
<pre><code>(define substring
  (lambda (s1 m n)
    (let ([s2 (make-string (- n m))])
      (do ([j 0 (+ j 1)] [i m (+ i 1)])
          ((= i n) s2)
        (string-set! s2 j (string-ref s1 i))))))

(substring &quot;hi there&quot; 0 1) =&gt; &quot;h&quot;
(substring &quot;hi there&quot; 3 6) =&gt; &quot;the&quot;
(substring &quot;hi there&quot; 5 5) =&gt; &quot;&quot;

(let ([str &quot;hi there&quot;])
  (let ([end (string-length str)])
    (substring str 0 end))) =&gt; &quot;hi there&quot;
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(string-fill! string char)</code></p>
<p>&#x8FD4;&#x56DE;: &#x672A;&#x5B9A;&#x4E49;</p>
<p>&#x5E93;: (rnrs mutable-strings)</p>
<p><code>string-fill!</code> &#x628A; <code>string</code> &#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x5B57;&#x7B26;&#x90FD;&#x8BBE;&#x4E3A; <code>char</code> .</p>
<pre><code>(let ([str (string-copy &quot;sleepy&quot;)])
  (string-fill! str #\Z)
  str) =&gt; &quot;ZZZZZZ&quot;
</code></pre><p><code>string-fill!</code> &#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>(define string-fill!
  (lambda (s c)
    (let ([n (string-length s)])
      (do ([i 0 (+ i 1)])
          ((= i n))
          (string-set! s i c)))))
</code></pre><p>&#x53E6;&#x4E00;&#x79CD;&#x5B9A;&#x4E49;&#x65B9;&#x5F0F;&#x5728; 276 &#x9875;&#x7ED9;&#x51FA;&#x3002;</p>
<p>&#x8FC7;&#x7A0B;: <code>(string-upcase string)</code></p>
<p>&#x8FD4;&#x56DE;: <code>string</code> &#x7684;&#x7B49;&#x4EF7;&#x5927;&#x5199;&#x5F62;&#x5F0F;</p>
<p>&#x8FC7;&#x7A0B;: <code>(string-downcase string)</code></p>
<p>&#x8FD4;&#x56DE;: <code>string</code> &#x7684;&#x7B49;&#x4EF7;&#x5C0F;&#x5199;&#x5F62;&#x5F0F;</p>
<p>&#x8FC7;&#x7A0B;: <code>(string-foldcase string)</code></p>
<p>&#x8FD4;&#x56DE;: <code>string</code> &#x7684;&#x7B49;&#x4EF7;&#x5927;&#x5C0F;&#x5199;&#x6298;&#x53E0;&#x5F62;&#x5F0F;</p>
<p>&#x8FC7;&#x7A0B;: <code>(string-titlecase string)</code></p>
<p>&#x8FD4;&#x56DE;: <code>string</code> &#x7684;&#x7B49;&#x4EF7;&#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5199;&#x5F62;&#x5F0F;</p>
<p>&#x5E93;: (rnrs unicode), (rnrs)</p>
<p>&#x8FD9;&#x4E9B;&#x8FC7;&#x7A0B;&#x5B9E;&#x73B0;&#x4E86; Unicode &#x4E0D;&#x4F9D;&#x8D56;&#x4E8E;&#x533A;&#x57DF;&#x7684;&#x4ECE;&#x6807;&#x91CF;&#x503C;&#x5E8F;&#x5217;&#x5230;&#x6807;&#x91CF;&#x503C;&#x5E8F;&#x5217;&#x7684;&#x5927;&#x5C0F;&#x5199;&#x6620;&#x5C04;&#x3002;&#x8FD9;&#x4E9B;&#x6620;&#x5C04;&#x4E0D;&#x603B;&#x662F;&#x628A;&#x5355;&#x4E2A;&#x5B57;&#x7B26;&#x6620;&#x5C04;&#x5230;&#x5355;&#x4E2A;&#x5B57;&#x7B26;&#xFF0C;&#x56E0;&#x6B64;&#x7ED3;&#x679C;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x957F;&#x5EA6;&#x53EF;&#x80FD;&#x4E0E; <code>string</code> &#x7684;&#x957F;&#x5EA6;&#x4E0D;&#x540C;&#x3002;&#x5982;&#x679C;&#x7ED3;&#x679C;&#x5B57;&#x7B26;&#x4E32;&#x4E0E; <code>string</code> &#x76F8;&#x540C;&#xFF08;&#x57FA;&#x4E8E; <code>string=?</code> &#x5224;&#x5B9A;&#xFF09;&#xFF0C;&#x5219;&#x8FD4;&#x56DE; <code>string</code> &#x6216; <code>string</code> &#x7684;&#x62F7;&#x8D1D;&#x3002;&#x5426;&#x5219;&#xFF0C;&#x7ED3;&#x679C;&#x5B57;&#x7B26;&#x4E32;&#x5219;&#x662F;&#x65B0;&#x5206;&#x914D;&#x7684;&#x3002; <code>string-foldcase</code> &#x4E0D;&#x4F7F;&#x7528;&#x571F;&#x8033;&#x5176;&#x8BED;&#x7684;&#x7279;&#x6B8A;&#x6620;&#x5C04;&#x3002;</p>
<p> <code>string-titlecase</code> &#x628A; <code>string</code> &#x4E2D;&#x6BCF;&#x4E2A;&#x5355;&#x8BCD;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x8F6C;&#x5316;&#x4E3A;&#x5BF9;&#x5E94;&#x7684;&#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5199;&#x5B57;&#x7B26;&#xFF0C;&#x5E76;&#x628A;&#x5176;&#x5B83;&#x6240;&#x6709;&#x5B57;&#x7B26;&#x8F6C;&#x5316;&#x4E3A;&#x5BF9;&#x5E94;&#x7684;&#x5C0F;&#x5199;&#x5B57;&#x7B26;&#x3002;&#x5355;&#x8BCD;&#x5206;&#x754C;&#x4F9D; Unicode &#x6807;&#x51C6;&#x9644;&#x4EF6; #29 [8] &#x4E2D;&#x6307;&#x5B9A;&#x7684;&#x65B9;&#x5F0F;&#x8BC6;&#x522B;&#x3002;</p>
<pre><code>(string-upcase &quot;Hi&quot;) =&gt; &quot;HI&quot;
(string-downcase &quot;Hi&quot;) =&gt; &quot;hi&quot;
(string-foldcase &quot;Hi&quot;) =&gt; &quot;hi&quot;

(string-upcase &quot;Stra&#xDF;e&quot;) =&gt; &quot;STRASSE&quot;
(string-downcase &quot;Stra&#xDF;e&quot;) =&gt; &quot;stra&#xDF;e&quot;
(string-foldcase &quot;Stra&#xDF;e&quot;) =&gt; &quot;strasse&quot;
(string-downcase &quot;STRASSE&quot;)  =&gt; &quot;strasse&quot;

(string-downcase &quot;\Sigma&quot;) =&gt; \sigma

(string-titlecase &quot;kNock KNoCK&quot;) =&gt; &quot;Knock Knock&quot;
(string-titlecase &quot;who&apos;s there?&quot;) =&gt; &quot;Who&apos;s There?&quot;
(string-titlecase &quot;r6rs&quot;) =&gt; &quot;R6rs&quot;
(string-titlecase &quot;R6RS&quot;) =&gt; &quot;R6rs&quot;
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(string-normalize-nfd string)</code></p>
<p>&#x8FD4;&#x56DE;: <code>string</code> &#x7684; Unicode &#x6807;&#x51C6;&#x5316;&#x5F62;&#x5F0F; D</p>
<p>&#x8FC7;&#x7A0B;: <code>(string-normalize-nfkd string)</code></p>
<p>&#x8FD4;&#x56DE;: <code>string</code> &#x7684; Unicode &#x6807;&#x51C6;&#x5316;&#x5F62;&#x5F0F; KD</p>
<p>&#x8FC7;&#x7A0B;: <code>(string-normalize-nfc string)</code></p>
<p>&#x8FD4;&#x56DE;: <code>string</code> &#x7684; Unicode &#x6807;&#x51C6;&#x5316;&#x5F62;&#x5F0F; C</p>
<p>&#x8FC7;&#x7A0B;: <code>(string-normalize-nfkc string)</code></p>
<p>&#x8FD4;&#x56DE;: <code>string</code> &#x7684; Unicode &#x6807;&#x51C6;&#x5316;&#x5F62;&#x5F0F; KC</p>
<p>&#x5E93;: (rnrs unicode), (rnrs)</p>
<p>&#x5982;&#x679C;&#x7ED3;&#x679C;&#x5B57;&#x7B26;&#x4E32;&#x4E0E; <code>string</code> &#x76F8;&#x540C;&#xFF08;&#x57FA;&#x4E8E; <code>string=?</code> &#x5224;&#x5B9A;&#xFF09;&#xFF0C;&#x5219;&#x8FD4;&#x56DE; <code>string</code> &#x6216; <code>string</code> &#x7684;&#x62F7;&#x8D1D;&#x3002;&#x5426;&#x5219;&#xFF0C;&#x7ED3;&#x679C;&#x5B57;&#x7B26;&#x4E32;&#x5219;&#x662F;&#x65B0;&#x5206;&#x914D;&#x7684;&#x3002;</p>
<pre><code>(string-normalize-nfd &quot;\xE9;&quot;) =&gt; &quot;e\x301;&quot;
(string-normalize-nfc &quot;\xE9;&quot;) =&gt; &quot;\xE9;&quot;
(string-normalize-nfd &quot;\x65;\x301;&quot;) =&gt; &quot;e\x301;&quot;
(string-normalize-nfc &quot;\x65;\x301;&quot;) =&gt; &quot;\xE9;&quot;
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(string-&gt;list string)</code></p>
<p>&#x8FD4;&#x56DE;: <code>string</code> &#x4E2D;&#x7684;&#x5B57;&#x7B26;&#x7EC4;&#x6210;&#x7684;&#x5217;&#x8868;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p> <code>string-&gt;list</code> &#x652F;&#x6301;&#x628A;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x5316;&#x4E3A;&#x4E00;&#x4E2A;&#x5217;&#x8868;&#xFF0C;&#x4ECE;&#x800C;&#x4F7F; <code>Scheme</code> &#x7684;&#x5217;&#x8868;&#x5904;&#x7406;&#x64CD;&#x4F5C;&#x53EF;&#x4EE5;&#x5E94;&#x7528;&#x4E8E;&#x5B57;&#x7B26;&#x4E32;&#x5904;&#x7406;&#x3002;&#x4E0D;&#x5E26;&#x9519;&#x8BEF;&#x68C0;&#x67E5;&#x7684; <code>string-&gt;list</code> &#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#x3002;</p>
<pre><code>(define string-&gt;list
  (lambda (s)
    (do ([i (- (string-length s) 1) (- i 1)]
         [ls &apos;() (cons (string-ref s i) ls)])
        ((&lt; i 0) ls))))

(string-&gt;list &quot;&quot;) =&gt; ()
(string-&gt;list &quot;abc&quot;) =&gt; (#\a #\b #\c)
(apply char&lt;? (string-&gt;list &quot;abc&quot;)) =&gt; #t
(map char-upcase (string-&gt;list &quot;abc&quot;)) =&gt; (#\A #\B #\C)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(list-&gt;string list)</code></p>
<p>&#x8FD4;&#x56DE;: <code>list</code> &#x4E2D;&#x7684;&#x5B57;&#x7B26;&#x7EC4;&#x6210;&#x7684;&#x5B57;&#x7B26;&#x4E32;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p> <code>list</code> &#x5FC5;&#x987B;&#x5B8C;&#x5168;&#x7531;&#x5B57;&#x7B26;&#x7EC4;&#x6210;&#x3002;</p>
<p> <code>list-&gt;string</code> &#x5728;&#x529F;&#x80FD;&#x4E0A;&#x4E0E; <code>string-&gt;list</code> &#x76F8;&#x53CD;&#x3002;&#x4E00;&#x6BB5;&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x7EC4;&#x5408;&#x4F7F;&#x7528;&#x8FD9;&#x4E24;&#x4E2A;&#x8FC7;&#x7A0B;&#xFF0C;&#x5148;&#x628A;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x5316;&#x4E3A;&#x5217;&#x8868;&#xFF0C;&#x7136;&#x540E;&#x64CD;&#x4F5C;&#x6B64;&#x5217;&#x8868;&#x4EE5;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x65B0;&#x5217;&#x8868;&#xFF0C;&#x6700;&#x540E;&#x518D;&#x628A;&#x8FD9;&#x4E2A;&#x65B0;&#x5217;&#x8868;&#x8F6C;&#x5316;&#x4E3A;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x3002;</p>
<p>&#x4E0D;&#x5E26;&#x9519;&#x8BEF;&#x68C0;&#x67E5;&#x7684; <code>list-&gt;string</code> &#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#x3002;</p>
<pre><code>(define list-&gt;string
  (lambda (ls)
    (let ([s (make-string (length ls))])
      (do ([ls ls (cdr ls)] [i 0 (+ i 1)])
          ((null? ls) s)
        (string-set! s i (car ls))))))

(list-&gt;string &apos;()) =&gt; &quot;&quot;
(list-&gt;string &apos;(#\a #\b #\c)) =&gt; &quot;abc&quot;
(list-&gt;string
  (map char-upcase
       (string-&gt;list &quot;abc&quot;))) =&gt; &quot;ABC&quot;
</code></pre><h2 id="69-&#x5411;&#x91CF;">6.9. &#x5411;&#x91CF;</h2>
<p>&#x5728;&#x67D0;&#x4E9B;&#x5E94;&#x7528;&#x4E2D;&#xFF0C;&#x5411;&#x91CF;&#x6BD4;&#x5217;&#x8868;&#x66F4;&#x65B9;&#x4FBF;&#x4E5F;&#x66F4;&#x9AD8;&#x6548;&#x3002;&#x8BBF;&#x95EE;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x4EFB;&#x610F;&#x5143;&#x7D20;&#x9700;&#x8981;&#x7EBF;&#x6027;&#x904D;&#x5386;&#x5217;&#x8868;&#xFF0C;&#x76F4;&#x5230;&#x627E;&#x5230;&#x6240;&#x8981;&#x8BBF;&#x95EE;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x800C;&#x5728;&#x5E38;&#x91CF;&#x65F6;&#x95F4;&#x5185;&#xFF0C;&#x5373;&#x53EF;&#x8BBF;&#x95EE;&#x4EFB;&#x610F;&#x5411;&#x91CF;&#x5143;&#x7D20;&#x3002;&#x5411;&#x91CF;&#x7684;&#x957F;&#x5EA6;&#x662F;&#x5B83;&#x6240;&#x5305;&#x542B;&#x7684;&#x5143;&#x7D20;&#x6570;&#x91CF;&#x3002;&#x5411;&#x91CF;&#x7531;&#x7CBE;&#x786E;&#x975E;&#x8D1F;&#x6574;&#x6570;&#x7D22;&#x5F15;&#xFF0C;&#x4E14;&#x4EFB;&#x610F;&#x5411;&#x91CF;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x7684;&#x7D22;&#x5F15;&#x4E3A; 0. &#x5BF9;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x5411;&#x91CF;&#xFF0C;&#x6700;&#x5927;&#x6709;&#x6548;&#x7D22;&#x5F15;&#x4E3A;&#x5B83;&#x7684;&#x957F;&#x5EA6;&#x51CF; 1.</p>
<p>&#x548C;&#x5217;&#x8868;&#x4E00;&#x6837;&#xFF0C;&#x5411;&#x91CF;&#x7684;&#x5143;&#x7D20;&#x53EF;&#x4EE5;&#x662F;&#x4EFB;&#x610F;&#x7C7B;&#x578B;&#xFF0C;&#x4E14;&#x4E00;&#x4E2A;&#x5411;&#x91CF;&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x4E0D;&#x53EA;&#x4E00;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x5BF9;&#x8C61;&#x3002;</p>
<p>&#x5411;&#x91CF;&#x5199;&#x4F5C;&#x7531;&#x7A7A;&#x767D;&#x5B57;&#x7B26;&#x9694;&#x5F00;&#x7684;&#x5BF9;&#x8C61;&#x5E8F;&#x5217;&#xFF0C;&#x524D;&#x7F00;&#x4E3A; <code>#(</code>, &#x540E;&#x9762;&#x8DDF;&#x7740; <code>)</code>. &#x4F8B;&#x5982;&#xFF0C;&#x7531;&#x5143;&#x7D20; a, b, &#x548C; c &#x7EC4;&#x6210;&#x7684;&#x5411;&#x91CF;&#xFF0C;&#x5199;&#x4F5C; <code>#(a b c)</code>.</p>
<p>&#x8FC7;&#x7A0B;: <code>(vector obj ...)</code></p>
<p>&#x8FD4;&#x56DE;: &#x7531;&#x5BF9;&#x8C61; obj &#x2026; &#x7EC4;&#x6210;&#x7684;&#x5411;&#x91CF;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<pre><code>(vector) =&gt; #()
(vector &apos;a &apos;b &apos;c) =&gt; #(a b c)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(make-vector n)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(make-vector n obj)</code></p>
<p>&#x8FD4;&#x56DE;: &#x957F;&#x5EA6;&#x4E3A; n &#x7684;&#x5411;&#x91CF;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p> <code>n</code> &#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x975E;&#x8D1F;&#x6574;&#x6570;&#x3002;&#x5982;&#x679C;&#x6307;&#x5B9A; <code>obj</code> , &#x5219; <code>vector</code> &#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x7531; <code>obj</code> &#x586B;&#x5145;&#xFF1B;&#x5426;&#x5219;&#xFF0C;&#x5143;&#x7D20;&#x5219;&#x662F;&#x672A;&#x5B9A;&#x4E49;&#x7684;&#x3002;</p>
<pre><code>(make-vector 0) =&gt; #()
(make-vector 0 &apos;#(a)) =&gt; #()
(make-vector 5 &apos;#(a)) =&gt; #(#(a) #(a) #(a) #(a) #(a))
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(vector-length vector)</code></p>
<p>&#x8FD4;&#x56DE;: <code>vector</code> &#x4E2D;&#x5143;&#x7D20;&#x7684;&#x6570;&#x91CF;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p> <code>vector</code> &#x7684;&#x957F;&#x5EA6;&#x603B;&#x662F;&#x4E00;&#x4E2A;&#x7CBE;&#x786E;&#x7684;&#x975E;&#x8D1F;&#x6574;&#x6570;&#x3002;</p>
<pre><code>(vector-length &apos;#()) =&gt; 0
(vector-length &apos;#(a b c)) =&gt; 3
(vector-length (vector 1 &apos;(2) 3 &apos;#(4 5))) =&gt; 4
(vector-length (make-vector 300)) =&gt; 300
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(vector-ref vector n)</code></p>
<p>&#x8FD4;&#x56DE;: <code>vector</code> &#x7684;&#x7B2C; <code>n</code> &#x4E2A;&#x5143;&#x7D20;&#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p> <code>n</code> &#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A;&#x7CBE;&#x786E;&#x7684;&#x975E;&#x8D1F;&#x6574;&#x6570;&#xFF0C;&#x4E14;&#x5C0F;&#x4E8E; <code>vector</code> &#x7684;&#x957F;&#x5EA6;&#x3002;</p>
<pre><code>(vector-ref &apos;#(a b c) 0) =&gt; a
(vector-ref &apos;#(a b c) 1) =&gt; b
(vector-ref &apos;#(x y z w) 3) =&gt; w
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(vector-set! vector n obj)</code></p>
<p>&#x8FD4;&#x56DE;: &#x672A;&#x5B9A;&#x4E49;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p> <code>n</code> &#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x975E;&#x8D1F;&#x6574;&#x6570;&#xFF0C;&#x4E14;&#x5C0F;&#x4E8E; <code>vector</code> &#x7684;&#x957F;&#x5EA6;&#x3002; <code>vector-set!</code> &#x628A; <code>vector</code> &#x7684;&#x7B2C; <code>n</code> &#x4E2A;&#x5143;&#x7D20;&#x4FEE;&#x6539;&#x4E3A; <code>obj</code> .</p>
<pre><code>(let ([v (vector &apos;a &apos;b &apos;c &apos;d &apos;e)])
  (vector-set! v 2 &apos;x)
  v) =&gt; #(a b x d e)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(vector-fill! vector obj)</code></p>
<p>&#x8FD4;&#x56DE;: &#x672A;&#x5B9A;&#x4E49;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p><code>vector-fill!</code> &#x628A; <code>vector</code> &#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x90FD;&#x66FF;&#x6362;&#x4E3A; <code>obj</code> . &#x4E0D;&#x5E26;&#x9519;&#x8BEF;&#x68C0;&#x67E5;&#x7684;&#x8BDD;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#x3002;</p>
<pre><code>(define vector-fill!
  (lambda (v x)
    (let ([n (vector-length v)])
      (do ([i 0 (+ i 1)])
          ((= i n))
        (vector-set! v i x)))))

(let ([v (vector 1 2 3)])
  (vector-fill! v 0)
  v) =&gt; #(0 0 0)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(vector-&gt;list vector)</code></p>
<p>&#x8FD4;&#x56DE;: <code>vector</code> &#x4E2D;&#x7684;&#x5143;&#x7D20;&#x7EC4;&#x6210;&#x7684;&#x5217;&#x8868;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p> <code>vector-&gt;list</code> &#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x4FBF;&#x6377;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x4EE5;&#x628A;&#x5217;&#x8868;&#x5904;&#x7406;&#x64CD;&#x4F5C;&#x5E94;&#x7528;&#x5230;&#x5411;&#x91CF;&#x4E0A;&#x3002;&#x4E0D;&#x5E26;&#x9519;&#x8BEF;&#x68C0;&#x67E5;&#x7684;&#x8BDD;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#x3002;</p>
<pre><code>(define vector-&gt;list
  (lambda (s)
    (do ([i (- (vector-length s) 1) (- i 1)]
         [ls &apos;() (cons (vector-ref s i) ls)])
        ((&lt; i 0) ls))))

(vector-&gt;list (vector)) =&gt; ()
(vector-&gt;list &apos;#(a b c)) =&gt; (a b c)

(let ((v &apos;#(1 2 3 4 5)))
  (apply * (vector-&gt;list v))) =&gt; 120
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(list-&gt;vector list)</code></p>
<p>&#x8FD4;&#x56DE;: <code>list</code> &#x7684;&#x5143;&#x7D20;&#x7EC4;&#x6210;&#x7684;&#x5217;&#x8868;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p> <code>list-&gt;vector</code> &#x5728;&#x529F;&#x80FD;&#x4E0A;&#x4E0E; <code>vector-&gt;list</code> &#x76F8;&#x53CD;&#x3002;&#x8FD9;&#x4E24;&#x4E2A;&#x8FC7;&#x7A0B;&#x7ECF;&#x5E38;&#x7EC4;&#x5408;&#x4F7F;&#x7528;&#xFF0C;&#x4EE5;&#x5229;&#x7528;&#x5217;&#x8868;&#x5904;&#x7406;&#x64CD;&#x4F5C;&#x3002;&#x4E00;&#x4E2A;&#x5411;&#x91CF;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; <code>vector-&gt;list</code> &#x8F6C;&#x5316;&#x4E3A;&#x4E00;&#x4E2A;&#x5217;&#x8868;&#xFF0C;&#x7136;&#x540E;&#x4EE5;&#x67D0;&#x79CD;&#x65B9;&#x5F0F;&#x5904;&#x7406;&#x8FD9;&#x4E2A;&#x5217;&#x8868;&#xFF0C;&#x8FDB;&#x800C;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x65B0;&#x5217;&#x8868;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x4F7F;&#x7528; <code>list-&gt;vector</code> &#x628A;&#x8FD9;&#x4E2A;&#x65B0;&#x5217;&#x8868;&#x8F6C;&#x5316;&#x56DE;&#x5411;&#x91CF;&#x3002;</p>
<p>&#x4E0D;&#x5E26;&#x9519;&#x8BEF;&#x68C0;&#x67E5;&#x7684; <code>list-&gt;vector</code> &#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#x3002;</p>
<pre><code>(define list-&gt;vector
  (lambda (ls)
    (let ([s (make-vector (length ls))])
      (do ([ls ls (cdr ls)] [i 0 (+ i 1)])
          ((null? ls) s)
        (vector-set! s i (car ls))))))

(list-&gt;vector &apos;()) =&gt; #()
(list-&gt;vector &apos;(a b c)) =&gt; #(a b c)

(let ([v &apos;#(1 2 3 4 5)])
  (let ([ls (vector-&gt;list v)])
    (list-&gt;vector (map * ls ls)))) =&gt; #(1 4 9 16 25)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(vector-sort predicate vector)</code></p>
<p>&#x8FD4;&#x56DE;: <code>vector</code> &#x4E2D;&#x7684;&#x5143;&#x7D20;&#x57FA;&#x4E8E; <code>predicate</code> &#x6392;&#x5E8F;&#x540E;&#xFF0C;&#x7EC4;&#x6210;&#x7684;&#x5411;&#x91CF;</p>
<p>&#x8FC7;&#x7A0B;: <code>(vector-sort! predicate vector)</code></p>
<p>&#x8FD4;&#x56DE;: &#x672A;&#x5B9A;&#x4E49;</p>
<p>&#x5E93;: (rnrs sorting), (rnrs)</p>
<p> <code>redicate</code> &#x5E94;&#x5F53;&#x662F;&#x4E2A;&#x63A5;&#x53D7;&#x4E24;&#x4E2A;&#x5B9E;&#x53C2;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x5E76;&#x4E14;&#xFF0C;&#x5F53;&#x5B83;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5B9E;&#x53C2;&#x5728;&#x6392;&#x5E8F;&#x540E;&#x7684;&#x5217;&#x8868;&#x4E2D;&#x5FC5;&#x987B;&#x6392;&#x5728;&#x7B2C;&#x4E8C;&#x4E2A;&#x5B9E;&#x53C2;&#x4E4B;&#x524D;&#x65F6;&#x8FD4;&#x56DE; <code>#t</code> . &#x5373;&#xFF0C;&#x5982;&#x679C; <code>predicate</code> &#x5E94;&#x7528;&#x4E8E;&#x4E24;&#x4E2A;&#x5143;&#x7D20; <code>x</code> &#x548C; <code>y</code> , &#x4E14;&#x5728;&#x8F93;&#x5165;&#x5217;&#x8868;&#x4E2D; <code>x</code> &#x6392;&#x5728; <code>y</code> &#x540E;&#x9762;&#xFF0C;&#x5B83;&#x5E94;&#x8BE5;&#x53EA;&#x5728; <code>x</code> &#x5E94;&#x5F53;&#x4E8E;&#x8F93;&#x51FA;&#x5217;&#x8868;&#x4E2D;&#x6392;&#x5728; <code>y</code> &#x524D;&#x9762;&#x65F6;&#x8FD4;&#x56DE;&#x771F;&#x3002;&#x5982;&#x679C;&#x6EE1;&#x8DB3;&#x8FD9;&#x4E00;&#x9650;&#x5236;&#xFF0C; <code>vector-sort</code> &#x5C31;&#x4F1A;&#x6267;&#x884C;&#x7A33;&#x5B9A;&#x7684;&#x6392;&#x5E8F;&#xFF0C;&#x5373;&#xFF0C;&#x6839;&#x636E; <code>predicate</code> &#xFF0C;&#x4E24;&#x4E2A;&#x5143;&#x7D20;&#x53EA;&#x5728;&#x5FC5;&#x8981;&#x65F6;&#x91CD;&#x65B0;&#x6392;&#x5E8F;&#x3002; <code>vector-sort!</code> &#x6267;&#x884C;&#x7834;&#x574F;&#x6027;&#x7684;&#x6392;&#x5E8F;&#xFF0C;&#x4E14;&#x4E0D;&#x4E00;&#x5B9A;&#x6267;&#x884C;&#x7A33;&#x5B9A;&#x7684;&#x6392;&#x5E8F;&#x3002;&#x91CD;&#x590D;&#x5143;&#x7D20;&#x5E76;&#x4E0D;&#x4F1A;&#x88AB;&#x79FB;&#x9664;&#x3002; <code>predicate</code> &#x4E0D;&#x5E94;&#x6709;&#x4EFB;&#x4F55;&#x526F;&#x4F5C;&#x7528;&#x3002;</p>
<p> <code>vector-sort</code> &#x4F1A;&#x8C03;&#x7528; <code>predicate</code> &#x81F3;&#x591A; nlog<sup>n</sup> &#x6B21;&#xFF0C;&#x5176;&#x4E2D; <code>n</code> &#x662F; <code>vector</code> &#x7684;&#x957F;&#x5EA6;&#x3002;&#x800C; <code>vector-sort!</code> &#x53EF;&#x80FD;&#x4F1A;&#x8C03;&#x7528; <code>predicate</code> &#x81F3;&#x591A; n<sup>2</sup> &#x6B21;&#x3002; <code>vector-sort!</code> &#x7684;&#x5BBD;&#x677E;&#x9650;&#x5236;&#x4F7F;&#x5F97;&#x5B9E;&#x73B0;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5FEB;&#x901F;&#x6392;&#x5E8F;&#x7B97;&#x6CD5;&#xFF0C;&#x5728;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x6BD4;&#x91C7;&#x7528; nlog<sup>n</sup> &#x8FD9;&#x6837;&#x8F83;&#x4E25;&#x683C;&#x9650;&#x5236;&#x7684;&#x7B97;&#x6CD5;&#x66F4;&#x5FEB;&#x3002;</p>
<pre><code>(vector-sort &lt; &apos;#(3 4 2 1 2 5)) =&gt; #(1 2 2 3 4 5)
(vector-sort &gt; &apos;#(0.5 1/2)) =&gt; #(0.5 1/2)
(vector-sort &gt; &apos;#(1/2 0.5)) =&gt; #(1/2 0.5)

(let ([v (vector 3 4 2 1 2 5)])
  (vector-sort! &lt; v)
  v) =&gt; #(1 2 2 3 4 5)
</code></pre><h2 id="610-&#x5B57;&#x8282;&#x5411;&#x91CF;">6.10. &#x5B57;&#x8282;&#x5411;&#x91CF;</h2>
<p>&#x5B57;&#x8282;&#x5411;&#x91CF;&#x662F;&#x7531;&#x539F;&#x59CB;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x636E;&#x7EC4;&#x6210;&#x7684;&#x5411;&#x91CF;&#x3002;&#x867D;&#x7136;&#x540D;&#x4E49;&#x4E0A;&#x4EE5;&#x7CBE;&#x786E;&#x7684;&#x65E0;&#x7B26;&#x53F7; 8 &#x4F4D;&#x6574;&#x6570;&#x5E8F;&#x5217;&#x7EC4;&#x6210;&#xFF0C;&#x4F46;&#x4E00;&#x4E2A;&#x5B57;&#x8282;&#x5411;&#x91CF;&#x4E5F;&#x53EF;&#x4EE5;&#x88AB;&#x89E3;&#x91CA;&#x4E3A;&#x7CBE;&#x786E;&#x7684;&#x6709;&#x7B26;&#x53F7; 8 &#x4F4D;&#x6574;&#x6570;&#x5E8F;&#x5217;&#xFF0C;&#x7CBE;&#x786E;&#x7684;&#x6709;&#x7B26;&#x53F7;&#x6216;&#x65E0;&#x7B26;&#x53F7; 16 &#x4F4D;&#xFF0C;32 &#x4F4D;&#xFF0C;64 &#x4F4D;&#xFF0C;&#x6216;&#x4EFB;&#x610F;&#x7CBE;&#x5EA6;&#x7684;&#x6574;&#x6570;&#x5E8F;&#x5217;&#xFF0C;IEEE &#x5355;&#x7CBE;&#x5EA6;&#x6216;&#x53CC;&#x7CBE;&#x5EA6;&#x6570;&#x5B57;&#x5E8F;&#x5217;&#xFF0C;&#x6216;&#x4E0A;&#x8FF0;&#x7C7B;&#x578B;&#x7684;&#x4EFB;&#x610F;&#x7EC4;&#x5408;&#x3002;</p>
<p>&#x5B57;&#x8282;&#x5411;&#x91CF;&#x7684;&#x957F;&#x5EA6;&#x662F;&#x5B83;&#x50A8;&#x5B58;&#x7684; 8 &#x4F4D;&#x5B57;&#x8282;&#x7684;&#x6570;&#x91CF;&#xFF0C;&#x800C;&#x5B57;&#x8282;&#x5411;&#x91CF;&#x7684;&#x7D22;&#x5F15;&#x603B;&#x662F;&#x901A;&#x8FC7;&#x5B57;&#x8282;&#x504F;&#x79FB;&#x91CF;&#x6307;&#x5B9A;&#x3002;&#x6240;&#x6709;&#x6570;&#x636E;&#x5143;&#x7D20;&#x90FD;&#x53EF;&#x4EE5;&#x4EE5;&#x4EFB;&#x610F;&#x5B57;&#x8282;&#x504F;&#x79FB;&#x91CF;&#x5BF9;&#x9F50;&#xFF0C;&#x4E0D;&#x8BBA;&#x5E95;&#x5C42;&#x786C;&#x4EF6;&#x7684;&#x5BF9;&#x9F50;&#x8981;&#x6C42;&#x662F;&#x4EC0;&#x4E48;&#xFF0C;&#x800C;&#x4E14;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E0E;&#x786C;&#x4EF6;&#x89C4;&#x5B9A;&#x4E0D;&#x540C;&#x7684;&#xFF0C;&#x6307;&#x5B9A;&#x7684;&#x5B57;&#x8282;&#x5E8F;&#x6765;&#x8868;&#x793A;&#xFF08;&#x53C2;&#x89C1;&#x4E0B;&#x6587;&#xFF09;&#x3002;&#x5BF9;&#x4E8E; 16 &#x4F4D;&#xFF0C;32 &#x4F4D;&#xFF0C;&#x548C; 64 &#x4F4D;&#x6574;&#x6570;&#xFF0C;&#x4EE5;&#x53CA;&#x539F;&#x751F;&#x683C;&#x5F0F;&#xFF08;&#x5373;&#xFF0C;&#x91C7;&#x7528;&#x5E95;&#x5C42;&#x786C;&#x4EF6;&#x7684;&#x5B57;&#x8282;&#x5E8F;&#xFF0C;&#x4E14;&#x4EE5;&#x6574;&#x6570;&#x6216;&#x6D6E;&#x70B9;&#x6570;&#x5B57;&#x8282;&#x5927;&#x5C0F;&#x7684;&#x500D;&#x6570;&#x4E3A;&#x7D22;&#x5F15;&#x5B58;&#x50A8;&#xFF09;&#x7684;&#x5355;&#x7CBE;&#x5EA6;&#x548C;&#x53CC;&#x7CBE;&#x5EA6;&#x6D6E;&#x70B9;&#x6570;&#xFF0C;&#x5747;&#x63D0;&#x4F9B;&#x4E86;&#x7279;&#x6B8A;&#x7684;&#xFF0C;&#x901A;&#x5E38;&#x4E5F;&#x66F4;&#x9AD8;&#x6548;&#x7684;&#x64CD;&#x4F5C;&#x3002;</p>
<p>&#x591A;&#x5B57;&#x8282;&#x6570;&#x636E;&#x503C;&#x7684;&#x5B57;&#x8282;&#x5E8F;&#x51B3;&#x5B9A;&#x4E86;&#x5B83;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x5E03;&#x5C40;&#x3002;&#x5728;&#x5927;&#x7AEF;&#x5E8F;&#x683C;&#x5F0F;&#x4E0B;&#xFF0C;&#x503C;&#x7684;&#x5E03;&#x5C40;&#x662F;&#xFF0C;&#x9AD8;&#x6709;&#x6548;&#x4F4D;&#x5B57;&#x8282;&#x5B58;&#x5728;&#x4F4E;&#x4F4D;&#xFF1B;&#x800C;&#x5728;&#x5C0F;&#x7AEF;&#x5E8F;&#x683C;&#x5F0F;&#x4E0B;&#xFF0C;&#x503C;&#x7684;&#x5E03;&#x5C40;&#x662F;&#xFF0C;&#x9AD8;&#x6709;&#x6548;&#x4F4D;&#x5B57;&#x8282;&#x5B58;&#x5728;&#x9AD8;&#x4F4D;&#x3002;&#x82E5;&#x4E00;&#x4E2A;&#x5B57;&#x8282;&#x5411;&#x91CF;&#x8FC7;&#x7A0B;&#x63A5;&#x53D7;&#x4E00;&#x4E2A;&#x5B57;&#x8282;&#x5E8F;&#x5B9E;&#x53C2;&#xFF0C;&#x5219;&#x6B64;&#x5B9E;&#x53C2;&#x53EF;&#x4EE5;&#x662F;&#x7B26;&#x53F7; <code>big</code> &#xFF0C;&#x8868;&#x793A;&#x5927;&#x7AEF;&#x5E8F;&#x683C;&#x5F0F;&#xFF0C;&#x6216;&#x7B26;&#x53F7; <code>little</code> &#xFF0C;&#x8868;&#x793A;&#x5C0F;&#x7AEF;&#x5E8F;&#x683C;&#x5F0F;&#x3002;&#x5B9E;&#x73B0;&#x53EF;&#x4EE5;&#x6269;&#x5C55;&#x8FD9;&#x4E9B;&#x8FC7;&#x7A0B;&#xFF0C;&#x4EE5;&#x63A5;&#x53D7;&#x5176;&#x5B83;&#x5B57;&#x8282;&#x5E8F;&#x7B26;&#x53F7;&#x3002;&#x901A;&#x8FC7;&#x8FC7;&#x7A0B; <code>native-endianness</code> &#x53EF;&#x4EE5;&#x83B7;&#x5F97;&#x5F53;&#x524D;&#x5B9E;&#x73B0;&#x7684;&#x539F;&#x751F;&#x5B57;&#x8282;&#x5E8F;&#x3002;</p>
<p>&#x5B57;&#x8282;&#x5411;&#x91CF;&#x7684;&#x5B57;&#x9762;&#x5F62;&#x5F0F;&#x4EE5;&#x524D;&#x7F00; <code>#vu8(</code> &#x66FF;&#x4EE3;&#x5411;&#x91CF;&#x7684;&#x524D;&#x7F00; <code>#(</code>, &#x4F8B;&#x5982;&#xFF0C;<code>#vu8(1 2 3)</code>. &#x4EE5;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x6307;&#x5B9A;&#x7684;&#x5B57;&#x8282;&#x5411;&#x91CF;&#x7684;&#x5143;&#x7D20;&#x603B;&#x662F; 8 &#x4F4D;&#x65E0;&#x7B26;&#x53F7;&#x7CBE;&#x786E;&#x6574;&#x6570;&#xFF0C;&#x5373;&#xFF0C;0 &#x81F3; 255&#xFF08;&#x4E24;&#x7AEF;&#x5305;&#x542B;&#xFF09;&#x4E4B;&#x95F4;&#x7684;&#x6574;&#x6570;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x6570;&#x5B57;&#x7684;&#x4EFB;&#x610F;&#x6709;&#x6548;&#x8BED;&#x6CD5;&#x4E66;&#x5199;&#x3002;&#x548C;&#x5B57;&#x7B26;&#x4E32;&#x4E00;&#x6837;&#xFF0C;&#x5B57;&#x8282;&#x5411;&#x91CF;&#x662F;&#x81EA;&#x6C42;&#x503C;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x5B83;&#x4EEC;&#x4E0D;&#x9700;&#x8981;&#x88AB;&#x5F15;&#x7528;&#x3002;</p>
<pre><code>&apos;#vu8(1 2 3) =&gt; #vu8(1 2 3)
#vu8(1 2 3) =&gt; #vu8(1 2 3)
#vu8(#x3f #x7f #xbf #xff) =&gt; #vu8(63 127 191 255)
</code></pre><p>syntax: <code>(endianness symbol)</code></p>
<p>&#x8FD4;&#x56DE;: <code>symbol</code></p>
<p>&#x5E93;: (rnrs bytevectors), (rnrs)</p>
<p> <code>symbol</code> &#x5FC5;&#x987B;&#x662F;&#x7B26;&#x53F7; <code>little</code> , &#x7B26;&#x53F7; <code>big</code> &#xFF0C; &#x6216;&#x53EF;&#x4EE5;&#x88AB;&#x5B9E;&#x73B0;&#x8BC6;&#x522B;&#x4E3A;&#x5B57;&#x8282;&#x5E8F;&#x7B26;&#x53F7;&#x7684;&#x5176;&#x5B83;&#x7B26;&#x53F7;&#x3002;&#x5982;&#x679C; <code>symbol</code> &#x4E0D;&#x662F;&#x7B26;&#x53F7;&#xFF0C;&#x6216;&#x4E0D;&#x80FD;&#x88AB;&#x5B9E;&#x73B0;&#x8BC6;&#x522B;&#x4E3A;&#x4E00;&#x4E2A;&#x5B57;&#x8282;&#x5E8F;&#x7B26;&#x53F7;&#xFF0C;&#x5219;&#x4E3A;&#x8BED;&#x6CD5;&#x8FDD;&#x89C4;&#x3002;</p>
<pre><code>(endianness little) =&gt; little
(endianness big) =&gt; big
(endianness &quot;spam&quot;) =&gt; exception
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(native-endianness)</code></p>
<p>&#x8FD4;&#x56DE;: &#x4E00;&#x4E2A;&#x7B26;&#x53F7;&#xFF0C;&#x547D;&#x540D;&#x4E86;&#x5B9E;&#x73B0;&#x7684;&#x539F;&#x751F;&#x5B57;&#x8282;&#x5E8F;</p>
<p>&#x5E93;: (rnrs bytevectors), (rnrs)</p>
<p>&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x7B26;&#x53F7; <code>little</code>, <code>big</code>, &#x6216;&#x5B9E;&#x73B0;&#x53EF;&#x4EE5;&#x8BC6;&#x522B;&#x7684;&#x5176;&#x5B83;&#x5B57;&#x8282;&#x5E8F;&#x7B26;&#x53F7;&#x3002;&#x5B83;&#x901A;&#x5E38;&#x53CD;&#x6620;&#x4E86;&#x5E95;&#x5C42;&#x786C;&#x4EF6;&#x7684;&#x5B57;&#x8282;&#x5E8F;&#x3002;</p>
<pre><code>(symbol? (native-endianness)) =&gt; #t
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(make-bytevector n)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(make-bytevector n fill)</code></p>
<p>&#x8FD4;&#x56DE;: &#x957F;&#x5EA6;&#x4E3A; <code>n</code> &#x7684;&#x65B0;&#x5B57;&#x8282;&#x5411;&#x91CF;</p>
<p>&#x5E93;: (rnrs bytevectors), (rnrs)</p>
<p>&#x5982;&#x679C;&#x6307;&#x5B9A; <code>fill</code> , &#x5B57;&#x8282;&#x5411;&#x91CF;&#x7684;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x90FD;&#x88AB;&#x521D;&#x59CB;&#x5316;&#x4E3A; <code>fill</code> ; &#x5426;&#x5219;&#xFF0C;&#x5143;&#x7D20;&#x5219;&#x662F;&#x672A;&#x5B9A;&#x4E49;&#x7684;&#x3002; <code>fill</code> &#x7684;&#x503C;&#x5FC5;&#x987B;&#x662F;&#x6709;&#x7B26;&#x53F7;&#x6216;&#x65E0;&#x7B26;&#x53F7; 8 &#x4F4D;&#x503C;&#xFF0C;&#x5373;&#xFF0C;&#x5728;&#x8303;&#x56F4; -128 &#x81F3; 255&#xFF08;&#x4E24;&#x7AEF;&#x5305;&#x542B;&#xFF09;&#x4E4B;&#x95F4;&#x7684;&#x503C;&#x3002;&#x8D1F;&#x7684;&#x586B;&#x5145;&#x503C;&#x88AB;&#x89C6;&#x4E3A;&#x4E0E;&#x5176;&#x7B49;&#x4EF7;&#x7684;&#x8865;&#x7801;&#x3002;</p>
<pre><code>(make-bytevector 0) =&gt; #vu8()
(make-bytevector 0 7) =&gt; #vu8()
(make-bytevector 5 7) =&gt; #vu8(7 7 7 7 7)
(make-bytevector 5 -7) =&gt; #vu8(249 249 249 249 249)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bytevector-length bytevector)</code></p>
<p>&#x8FD4;&#x56DE;: &#x4EE5; 8 &#x4F4D;&#x5B57;&#x8282;&#x8BA1;&#x7684;&#x5B57;&#x8282;&#x5411;&#x91CF;&#x957F;&#x5EA6;</p>
<p>&#x5E93;: (rnrs bytevectors), (rnrs)</p>
<pre><code>(bytevector-length #vu8()) =&gt; 0
(bytevector-length #vu8(1 2 3)) =&gt; 3
(bytevector-length (make-bytevector 300)) =&gt; 300
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bytevector=? bytevector1 bytevector2)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C;&#x5173;&#x7CFB;&#x6210;&#x7ACB;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs bytevectors), (rnrs)</p>
<p>&#x5F53;&#x4E14;&#x4EC5;&#x5F53;&#x4E24;&#x4E2A;&#x5B57;&#x8282;&#x5411;&#x91CF;&#x6709;&#x76F8;&#x540C;&#x7684;&#x957F;&#x5EA6;&#x548C;&#x5185;&#x5BB9;&#x65F6;&#xFF0C; <code>bytevector=?</code> &#x5224;&#x5B9A;&#x5B83;&#x4EEC;&#x4E3A;&#x76F8;&#x7B49;&#x3002;</p>
<pre><code>(bytevector=? #vu8() #vu8()) =&gt; #t
(bytevector=? (make-bytevector 3 0) #vu8(0 0 0)) =&gt; #t
(bytevector=? (make-bytevector 5 0) #vu8(0 0 0)) =&gt; #f
(bytevector=? #vu8(1 127 128 255) #vu8(255 128 127 1)) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bytevector-fill! bytevector fill)</code></p>
<p>&#x8FD4;&#x56DE;: &#x672A;&#x5B9A;&#x4E49;</p>
<p>&#x5E93;: (rnrs bytevectors), (rnrs)</p>
<p> <code>fill</code> &#x7684;&#x503C;&#x5FC5;&#x987B;&#x662F;&#x6709;&#x7B26;&#x53F7;&#x6216;&#x65E0;&#x7B26;&#x53F7; 8 &#x4F4D;&#x503C;&#xFF0C;&#x5373;&#xFF0C;&#x5728;&#x8303;&#x56F4; -128 &#x81F3; 255&#xFF08;&#x4E24;&#x7AEF;&#x5305;&#x542B;&#xFF09;&#x4E4B;&#x95F4;&#x7684;&#x503C;&#x3002;&#x8D1F;&#x7684;&#x586B;&#x5145;&#x503C;&#x88AB;&#x89C6;&#x4E3A;&#x4E0E;&#x5176;&#x7B49;&#x4EF7;&#x7684;&#x8865;&#x7801;&#x3002;</p>
<p> <code>bytevector-fill!</code> &#x4EE5; <code>fill</code> &#x53D6;&#x4EE3; <code>bytevector</code> &#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x3002;</p>
<pre><code>(let ([v (make-bytevector 6)])
  (bytevector-fill! v 255)
  v) =&gt; #vu8(255 255 255 255 255 255)

(let ([v (make-bytevector 6)])
  (bytevector-fill! v -128)
  v) =&gt; #vu8(128 128 128 128 128 128)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bytevector-copy bytevector)</code></p>
<p>&#x8FD4;&#x56DE;: &#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5B57;&#x8282;&#x5411;&#x91CF;&#xFF0C;&#x4E3A; <code>bytevector</code> &#x7684;&#x62F7;&#x8D1D;</p>
<p>&#x5E93;: (rnrs bytevectors), (rnrs)</p>
<p> <code>bytevector-copy</code> &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5B57;&#x8282;&#x5411;&#x91CF;&#xFF0C;&#x4E0E; <code>bytevector</code> &#x7684;&#x957F;&#x5EA6;&#x548C;&#x5185;&#x5BB9;&#x76F8;&#x540C;&#x3002;</p>
<pre><code>(bytevector-copy #vu8(1 127 128 255)) =&gt; #vu8(1 127 128 255)

(let ([v #vu8(1 127 128 255)])
  (eq? v (bytevector-copy v))) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bytevector-copy! src src-start dst dst-start n)</code></p>
<p>&#x8FD4;&#x56DE;: &#x672A;&#x5B9A;&#x4E49;</p>
<p>&#x5E93;: (rnrs bytevectors), (rnrs)</p>
<p> <code>src</code> &#x548C; <code>dst</code> &#x5FC5;&#x987B;&#x662F;&#x5B57;&#x8282;&#x5411;&#x91CF;&#x3002; <code>src-start</code> , <code>dst-start</code> , &#x548C; <code>n</code> &#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x975E;&#x8D1F;&#x6574;&#x6570;&#x3002; <code>src-start</code> &#x548C; <code>n</code> &#x7684;&#x548C;&#x4E00;&#x5B9A;&#x4E0D;&#x80FD;&#x8D85;&#x51FA; <code>src</code> &#x7684;&#x957F;&#x5EA6;&#xFF0C;&#x800C; <code>dst-start</code> &#x548C; <code>n</code> &#x7684;&#x548C;&#x4E00;&#x5B9A;&#x4E0D;&#x80FD;&#x8D85;&#x51FA; <code>dst</code> &#x7684;&#x957F;&#x5EA6;&#x3002;</p>
<p> <code>bytevector-copy!</code> &#x4EE5; <code>src</code> &#x4E2D;&#x59CB;&#x4E8E; <code>src-start</code> &#x7684; <code>n</code> &#x4E2A;&#x5B57;&#x8282;&#xFF0C;&#x8986;&#x76D6; <code>dst</code> &#x4E2D;&#x59CB;&#x4E8E; <code>dst-start</code> &#x7684; <code>n</code> &#x4E2A;&#x5B57;&#x8282;&#x3002;&#x5373;&#x4F7F; <code>dst</code> &#x548C; <code>src</code> &#x662F;&#x540C;&#x4E00;&#x4E2A;&#x5B57;&#x8282;&#x5411;&#x91CF;&#xFF0C;&#x4E14;&#x6E90;&#x548C;&#x76EE;&#x6807;&#x4F4D;&#x7F6E;&#x76F8;&#x4E92;&#x91CD;&#x53E0;&#xFF0C;&#x8FD9;&#x4E2A;&#x64CD;&#x4F5C;&#x4E5F;&#x80FD;&#x751F;&#x6548;&#x3002;&#x5373;&#xFF0C;&#x5728;&#x64CD;&#x4F5C;&#x5F00;&#x59CB;&#x65F6;&#xFF0C;&#x76EE;&#x6807;&#x4F4D;&#x7F6E;&#x5148;&#x88AB;&#x6E90;&#x5B57;&#x8282;&#x5411;&#x91CF;&#x4E2D;&#x51FA;&#x73B0;&#x7684;&#x5B57;&#x8282;&#x586B;&#x5145;&#x3002;</p>
<pre><code>(define v1 #vu8(31 63 95 127 159 191 223 255))
(define v2 (make-bytevector 10 0))

(bytevector-copy! v1 2 v2 1 4)
v2 =&gt; #vu8(0 95 127 159 191 0 0 0 0 0)

(bytevector-copy! v1 5 v2 7 3)
v2 =&gt; #vu8(0 95 127 159 191 0 0 191 223 255)

(bytevector-copy! v2 3 v2 0 6)
v2 =&gt; #vu8(159 191 0 0 191 223 0 191 223 255)

(bytevector-copy! v2 0 v2 1 9)
v2 =&gt; #vu8(159 159 191 0 0 191 223 0 191 223)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bytevector-u8-ref bytevector n)</code></p>
<p>&#x8FD4;&#x56DE;: <code>bytevector</code> &#x7684;&#x7D22;&#x5F15; <code>n</code> &#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;&#x5904;&#x7684; 8 &#x4F4D;&#x65E0;&#x7B26;&#x53F7;&#x5B57;&#x8282;</p>
<p>&#x5E93;: (rnrs bytevectors), (rnrs)</p>
<p> <code>n</code> &#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x975E;&#x8D1F;&#x6574;&#x6570;&#xFF0C;&#x4E14;&#x5C0F;&#x4E8E; <code>bytevector</code> &#x7684;&#x957F;&#x5EA6;&#x3002;</p>
<p>&#x8FD4;&#x56DE;&#x503C;&#x4E3A;&#x7CBE;&#x786E;&#x7684; 8 &#x4F4D;&#x65E0;&#x7B26;&#x53F7;&#x6574;&#x6570;&#xFF0C;&#x5373;&#xFF0C;&#x5728;&#x8303;&#x56F4; 0 &#x81F3; 255&#xFF08;&#x4E24;&#x7AEF;&#x5305;&#x542B;&#xFF09;&#x4E4B;&#x95F4;&#x7684;&#x503C;&#x3002;</p>
<pre><code>(bytevector-u8-ref #vu8(1 127 128 255) 0) =&gt; 1
(bytevector-u8-ref #vu8(1 127 128 255) 2) =&gt; 128
(bytevector-u8-ref #vu8(1 127 128 255) 3) =&gt; 255
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bytevector-s8-ref bytevector n)</code></p>
<p>&#x8FD4;&#x56DE;: <code>bytevector</code> &#x7684;&#x7D22;&#x5F15; <code>n</code> &#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;&#x5904;&#x7684; 8 &#x4F4D;&#x6709;&#x7B26;&#x53F7;&#x5B57;&#x8282;</p>
<p>&#x5E93;: (rnrs bytevectors), (rnrs)</p>
<p> <code>n</code> &#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x975E;&#x8D1F;&#x6574;&#x6570;&#xFF0C;&#x4E14;&#x5C0F;&#x4E8E; <code>bytevector</code> &#x7684;&#x957F;&#x5EA6;&#x3002;</p>
<p>&#x8FD4;&#x56DE;&#x503C;&#x4E3A;&#x7CBE;&#x786E;&#x7684; 8 &#x4F4D;&#x6709;&#x7B26;&#x53F7;&#x6574;&#x6570;&#xFF0C;&#x5373;&#xFF0C;&#x5728;&#x8303;&#x56F4; -128 &#x81F3; 127&#xFF08;&#x4E24;&#x7AEF;&#x5305;&#x542B;&#xFF09;&#x4E4B;&#x95F4;&#x7684;&#x503C;&#xFF0C;&#x662F;&#x5B58;&#x50A8;&#x503C;&#x7684;&#x7B49;&#x4EF7;&#x8865;&#x7801;&#x503C;&#x3002;</p>
<pre><code>(bytevector-s8-ref #vu8(1 127 128 255) 0) =&gt; 1
(bytevector-s8-ref #vu8(1 127 128 255) 1) =&gt; 127
(bytevector-s8-ref #vu8(1 127 128 255) 2) =&gt; -128
(bytevector-s8-ref #vu8(1 127 128 255) 3) =&gt; -1
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bytevector-u8-set! bytevector n u8)</code></p>
<p>&#x8FD4;&#x56DE;: &#x672A;&#x5B9A;&#x4E49;</p>
<p>&#x5E93;: (rnrs bytevectors), (rnrs)</p>
<p> <code>n</code> &#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x975E;&#x8D1F;&#x6574;&#x6570;&#xFF0C;&#x4E14;&#x5C0F;&#x4E8E; <code>bytevector</code> &#x7684;&#x957F;&#x5EA6;&#x3002;<code>u8</code> &#x5FC5;&#x987B;&#x662F; 8 &#x4F4D;&#x65E0;&#x7B26;&#x53F7;&#x503C;&#xFF0C;&#x5373;&#xFF0C;&#x5728;&#x8303;&#x56F4; 0 &#x81F3; 255&#xFF08;&#x4E24;&#x7AEF;&#x5305;&#x542B;&#xFF09;&#x4E4B;&#x95F4;&#x7684;&#x503C;&#x3002;</p>
<p><code>bytevector-u8-set!</code> &#x628A; <code>bytevector</code> &#x5728;&#x7D22;&#x5F15; <code>n</code>&#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;&#x5904;&#x7684; 8 &#x4F4D;&#x503C;&#x4FEE;&#x6539;&#x4E3A; <code>u8</code>.</p>
<pre><code>(let ([v (make-bytevector 5 -1)])
  (bytevector-u8-set! v 2 128)
  v) =&gt; #vu8(255 255 128 255 255)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bytevector-s8-set! bytevector n s8)</code></p>
<p>&#x8FD4;&#x56DE;: &#x672A;&#x5B9A;&#x4E49;</p>
<p>&#x5E93;: (rnrs bytevectors), (rnrs)</p>
<p> <code>n</code> &#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x975E;&#x8D1F;&#x6574;&#x6570;&#xFF0C;&#x4E14;&#x5C0F;&#x4E8E; <code>bytevector</code> &#x7684;&#x957F;&#x5EA6;&#x3002;<code>s8</code> &#x5FC5;&#x987B;&#x662F; 8 &#x4F4D;&#x6709;&#x7B26;&#x53F7;&#x503C;&#xFF0C;&#x5373;&#xFF0C;&#x5728;&#x8303;&#x56F4; -128 &#x81F3; 127&#xFF08;&#x4E24;&#x7AEF;&#x5305;&#x542B;&#xFF09;&#x4E4B;&#x95F4;&#x7684;&#x503C;&#x3002;</p>
<p><code>bytevector-s8-set!</code> &#x628A; <code>bytevector</code> &#x5728;&#x7D22;&#x5F15; <code>n</code> &#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;&#x5904;&#x7684; 8 &#x4F4D;&#x503C;&#x4FEE;&#x6539;&#x4E3A; <code>s8</code> &#x7684;&#x7B49;&#x4EF7;&#x8865;&#x7801;&#x3002;</p>
<pre><code>(let ([v (make-bytevector 4 0)])
  (bytevector-s8-set! v 1 100)
  (bytevector-s8-set! v 2 -100)
  v) =&gt; #vu8(0 100 156 0)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bytevector-&gt;u8-list bytevector)</code></p>
<p>&#x8FD4;&#x56DE;: <code>bytevecotr</code> &#x7684; 8 &#x4F4D;&#x65E0;&#x7B26;&#x53F7;&#x5143;&#x7D20;&#x7EC4;&#x6210;&#x7684;&#x5217;&#x8868;</p>
<p>&#x5E93;: (rnrs bytevectors), (rnrs)</p>
<pre><code>(bytevector-&gt;u8-list (make-bytevector 0)) =&gt; ()
(bytevector-&gt;u8-list #vu8(1 127 128 255)) =&gt; (1 127 128 255)

(let ([v #vu8(1 2 3 255)])
  (apply * (bytevector-&gt;u8-list v))) =&gt; 1530
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(u8-list-&gt;bytevector list)</code></p>
<p>&#x8FD4;&#x56DE;: <code>list</code> &#x4E2D;&#x7684;&#x5143;&#x7D20;&#x7EC4;&#x6210;&#x7684;&#x65B0;&#x5B57;&#x8282;&#x5411;&#x91CF;</p>
<p>&#x5E93;: (rnrs bytevectors), (rnrs)</p>
<p> <code>list</code> &#x5FC5;&#x987B;&#x5B8C;&#x5168;&#x7531;&#x7CBE;&#x786E;&#x7684; 8 &#x4F4D;&#x65E0;&#x7B26;&#x53F7;&#x6574;&#x6570;&#x7EC4;&#x6210;&#xFF0C;&#x5373;&#xFF0C;&#x5728;&#x8303;&#x56F4; 0 &#x81F3; 255&#xFF08;&#x4E24;&#x7AEF;&#x5305;&#x542B;&#xFF09;&#x4E4B;&#x95F4;&#x7684;&#x503C;&#x3002;</p>
<pre><code>(u8-list-&gt;bytevector &apos;()) =&gt; #vu8()
(u8-list-&gt;bytevector &apos;(1 127 128 255)) =&gt; #vu8(1 127 128 255)

(let ([v #vu8(1 2 3 4 5)])
  (let ([ls (bytevector-&gt;u8-list v)])
    (u8-list-&gt;bytevector (map * ls ls)))) =&gt; #vu8(1 4 9 16 25)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bytevector-u16-native-ref bytevector n)</code></p>
<p>&#x8FD4;&#x56DE;: <code>bytevector</code> &#x7684;&#x7D22;&#x5F15; <code>n</code> &#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;&#x5904;&#x7684; 16 &#x4F4D;&#x65E0;&#x7B26;&#x53F7;&#x6574;&#x6570;</p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-s16-native-ref bytevector n)</code></p>
<p>&#x8FD4;&#x56DE;: <code>bytevector</code> &#x7684;&#x7D22;&#x5F15; <code>n</code> &#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;&#x5904;&#x7684; 16 &#x4F4D;&#x6709;&#x7B26;&#x53F7;&#x6574;&#x6570;</p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-u32-native-ref bytevector n)</code></p>
<p>&#x8FD4;&#x56DE;: <code>bytevector</code> &#x7684;&#x7D22;&#x5F15; <code>n</code> &#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;&#x5904;&#x7684; 32 &#x4F4D;&#x65E0;&#x7B26;&#x53F7;&#x6574;&#x6570;</p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-s32-native-ref bytevector n)</code></p>
<p>&#x8FD4;&#x56DE;: <code>bytevector</code> &#x7684;&#x7D22;&#x5F15; <code>n</code> &#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;&#x5904;&#x7684; 32 &#x4F4D;&#x6709;&#x7B26;&#x53F7;&#x6574;&#x6570;</p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-u64-native-ref bytevector n)</code></p>
<p>&#x8FD4;&#x56DE;: <code>bytevector</code> &#x7684;&#x7D22;&#x5F15; <code>n</code> &#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;&#x5904;&#x7684; 64 &#x4F4D;&#x65E0;&#x7B26;&#x53F7;&#x6574;&#x6570;</p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-s64-native-ref bytevector n)</code></p>
<p>&#x8FD4;&#x56DE;: <code>bytevector</code> &#x7684;&#x7D22;&#x5F15; <code>n</code> &#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;&#x5904;&#x7684; 64 &#x4F4D;&#x6709;&#x7B26;&#x53F7;&#x6574;&#x6570;</p>
<p>&#x5E93;: (rnrs bytevectors), (rnrs)</p>
<p> <code>n</code> &#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x975E;&#x8D1F;&#x6574;&#x6570;&#x3002;&#x5B83;&#x7D22;&#x5F15;&#x4E86;&#x503C;&#x7684;&#x8D77;&#x59CB;&#x5B57;&#x8282;&#xFF0C;&#x4E14;&#x5FC5;&#x987B;&#x662F;&#x503C;&#x6240;&#x5360;&#x7528;&#x7684;&#x5B57;&#x8282;&#x6570;&#x7684;&#x500D;&#x6570;&#xFF1A;16 &#x4F4D;&#x503C;&#x662F; 2&#xFF0C;32 &#x4F4D;&#x503C;&#x662F; 4&#xFF0C;64 &#x4F4D;&#x503C;&#x662F; 8&#x3002; <code>n</code> &#x548C;&#x503C;&#x6240;&#x5360;&#x7528;&#x7684;&#x5B57;&#x8282;&#x6570;&#x4E4B;&#x548C;&#x4E00;&#x5B9A;&#x4E0D;&#x80FD;&#x8D85;&#x51FA; <code>bytevector</code> &#x7684;&#x957F;&#x5EA6;&#x3002;&#x5047;&#x8BBE;&#x4E3A;&#x539F;&#x751F;&#x7684;&#x5B57;&#x8282;&#x5E8F;&#x3002;</p>
<p>&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x4E00;&#x4E2A;&#x7CBE;&#x786E;&#x6574;&#x6570;&#xFF0C;&#x5904;&#x4E8E;&#x503C;&#x6240;&#x5360;&#x7528;&#x5B57;&#x8282;&#x6570;&#x7684;&#x9002;&#x5F53;&#x533A;&#x95F4;&#x5185;&#x3002;&#x6709;&#x7B26;&#x53F7;&#x6570;&#x662F;&#x628A;&#x5B58;&#x50A8;&#x503C;&#x89C6;&#x4E3A;&#x8865;&#x7801;&#x7684;&#x7B49;&#x4EF7;&#x503C;&#x3002;</p>
<pre><code>(define v #vu8(#x_12 #x34 #xfe #x56 #xdc #xba #x78 #x98))
</code></pre><p>&#x5982;&#x679C;&#x539F;&#x751F;&#x5B57;&#x8282;&#x5E8F;&#x4E3A; big:</p>
<pre><code>(bytevector-u16-native-ref v 2) =&gt; #xfe56
(bytevector-s16-native-ref v 2) =&gt; #x-1aa
(bytevector-s16-native-ref v 6) =&gt; #x7898

(bytevector-u32-native-ref v 0) =&gt; #x_1234fe56
(bytevector-s32-native-ref v 0) =&gt; #x_1234fe56
(bytevector-s32-native-ref v 4) =&gt; #x-23458768

(bytevector-u64-native-ref v 0) =&gt; #x_1234fe56dcba7898
(bytevector-s64-native-ref v 0) =&gt; #x_1234fe56dcba7898
</code></pre><p>&#x5982;&#x679C;&#x539F;&#x751F;&#x5B57;&#x8282;&#x5E8F;&#x4E3A; little:</p>
<pre><code>(bytevector-u16-native-ref v 2) =&gt; #x56fe
(bytevector-s16-native-ref v 2) =&gt; #x56fe
(bytevector-s16-native-ref v 6) =&gt; #x-6788

(bytevector-u32-native-ref v 0) =&gt; #x56fe3412
(bytevector-s32-native-ref v 0) =&gt; #x56fe3412
(bytevector-s32-native-ref v 4) =&gt; #x-67874524

(bytevector-u64-native-ref v 0) =&gt; #x9878badc56fe3412
(bytevector-s64-native-ref v 0) =&gt; #x-67874523a901cbee
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bytevector-u16-native-set! bytevector n u16)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-s16-native-set! bytevector n s16)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-u32-native-set! bytevector n u32)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-s32-native-set! bytevector n s32)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-u64-native-set! bytevector n u64)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-s64-native-set! bytevector n s64)</code></p>
<p>&#x8FD4;&#x56DE;: &#x672A;&#x5B9A;&#x4E49;</p>
<p>&#x5E93;: (rnrs bytevectors), (rnrs)</p>
<p><code>n</code> &#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x975E;&#x8D1F;&#x6574;&#x6570;&#x3002;&#x5B83;&#x7D22;&#x5F15;&#x4E86;&#x503C;&#x7684;&#x8D77;&#x59CB;&#x5B57;&#x8282;&#xFF0C;&#x4E14;&#x5FC5;&#x987B;&#x662F;&#x503C;&#x6240;&#x5360;&#x7528;&#x7684;&#x5B57;&#x8282;&#x6570;&#x7684;&#x500D;&#x6570;&#xFF1A;16 &#x4F4D;&#x503C;&#x662F; 2&#xFF0C;32 &#x4F4D;&#x503C;&#x662F; 4&#xFF0C;64 &#x4F4D;&#x503C;&#x662F; 8&#x3002; <code>n</code> &#x548C;&#x503C;&#x6240;&#x5360;&#x7528;&#x7684;&#x5B57;&#x8282;&#x6570;&#x4E4B;&#x548C;&#x4E00;&#x5B9A;&#x4E0D;&#x80FD;&#x8D85;&#x51FA; <code>bytevector</code> &#x7684;&#x957F;&#x5EA6;&#x3002;u16 &#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A; 16 &#x4F4D;&#x65E0;&#x7B26;&#x53F7;&#x503C;&#xFF0C;&#x5373;&#xFF0C;&#x5728; 0 &#x81F3; 2<sup>16</sup> - 1&#xFF08;&#x4E24;&#x7AEF;&#x5305;&#x542B;&#xFF09;&#x533A;&#x95F4;&#x4E2D;&#x7684;&#x503C;&#xFF1B;s16 &#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A; 16 &#x4F4D;&#x6709;&#x7B26;&#x53F7;&#x503C;&#xFF0C;&#x5373;&#xFF0C;&#x5728; -2<sup>15</sup> &#x81F3; 2<sup>15</sup> - 1&#xFF08;&#x4E24;&#x7AEF;&#x5305;&#x542B;&#xFF09;&#x533A;&#x95F4;&#x4E2D;&#x7684;&#x503C;&#xFF1B;u32 &#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A; 32 &#x4F4D;&#x65E0;&#x7B26;&#x53F7;&#x503C;&#xFF0C;&#x5373;&#xFF0C;&#x5728; 0 &#x81F3; 2<sup>32</sup> - 1&#xFF08;&#x4E24;&#x7AEF;&#x5305;&#x542B;&#xFF09;&#x533A;&#x95F4;&#x4E2D;&#x7684;&#x503C;&#xFF1B;s32 &#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A; 32 &#x4F4D;&#x6709;&#x7B26;&#x53F7;&#x503C;&#xFF0C;&#x5373;&#xFF0C;&#x5728; -2<sup>31</sup> &#x81F3; 2<sup>31</sup> - 1&#xFF08;&#x4E24;&#x7AEF;&#x5305;&#x542B;&#xFF09;&#x533A;&#x95F4;&#x4E2D;&#x7684;&#x503C;&#xFF1B;u64 &#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A; 64 &#x4F4D;&#x65E0;&#x7B26;&#x53F7;&#x503C;&#xFF0C;&#x5373;&#xFF0C;&#x5728; 0 &#x81F3; 2<sup>64</sup> - 1&#xFF08;&#x4E24;&#x7AEF;&#x5305;&#x542B;&#xFF09;&#x533A;&#x95F4;&#x4E2D;&#x7684;&#x503C;&#xFF1B;s64 &#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A; 64 &#x4F4D;&#x6709;&#x7B26;&#x53F7;&#x503C;&#xFF0C;&#x5373;&#xFF0C;&#x5728; -2<sup>63</sup> &#x81F3; 2<sup>63</sup> - 1&#xFF08;&#x4E24;&#x7AEF;&#x5305;&#x542B;&#xFF09;&#x533A;&#x95F4;&#x4E2D;&#x7684;&#x503C;&#x3002;&#x5047;&#x8BBE;&#x4E3A;&#x539F;&#x751F;&#x7684;&#x5B57;&#x8282;&#x5E8F;&#x3002;</p>
<p>&#x8FD9;&#x4E9B;&#x8FC7;&#x7A0B;&#x628A;&#x7ED9;&#x5B9A;&#x503C;&#x5B58;&#x50A8;&#x5230; <code>bytevector</code> &#x8D77;&#x59CB;&#x4E8E;&#x7D22;&#x5F15; <code>n</code> &#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;&#x5904;&#x7684; 2, 4, &#x6216; 8 &#x5B57;&#x8282;&#x4E2D;&#x3002;</p>
<pre><code>(define v (make-bytevector 8 0))
(bytevector-u16-native-set! v 0 #xfe56)
(bytevector-s16-native-set! v 2 #x-1aa)
(bytevector-s16-native-set! v 4 #x7898)
</code></pre><p>&#x5982;&#x679C;&#x539F;&#x751F;&#x5B57;&#x8282;&#x5E8F;&#x4E3A; <code>big</code> :</p>
<p><code>v =&gt; #vu8(#xfe #x56 #xfe #x56 #x78 #x98 #x00 #x00)</code></p>
<p>&#x5982;&#x679C;&#x539F;&#x751F;&#x5B57;&#x8282;&#x5E8F;&#x4E3A; <code>little</code> :</p>
<p><code>v =&gt; #vu8(#x56 #xfe #x56 #xfe #x98 #x78 #x00 #x00)</code></p>
<pre><code>(define v (make-bytevector 16 0))
(bytevector-u32-native-set! v 0 #x_1234fe56)
(bytevector-s32-native-set! v 4 #x_1234fe56)
(bytevector-s32-native-set! v 8 #x-23458768)
</code></pre><p>&#x5982;&#x679C;&#x539F;&#x751F;&#x5B57;&#x8282;&#x5E8F;&#x4E3A; <code>big</code> :</p>
<pre><code>v =&gt; #vu8(#x_12 #x34 #xfe #x56 #x_12 #x34 #xfe #x56
                #xdc #xba #x78 #x98 #x00 #x00 #x00 #x00)
</code></pre><p>&#x5982;&#x679C;&#x539F;&#x751F;&#x5B57;&#x8282;&#x5E8F;&#x4E3A; <code>little</code> :</p>
<pre><code>v =&gt; #vu8(#x56 #xfe #x34 #x_12 #x56 #xfe #x34 #x_12
               #x98 #x78 #xba #xdc #x00 #x00 #x00 #x00)

(define v (make-bytevector 24 0))
(bytevector-u64-native-set! v 0 #x_1234fe56dcba7898)
(bytevector-s64-native-set! v 8 #x_1234fe56dcba7898)
(bytevector-s64-native-set! v 16 #x-67874523a901cbee)
</code></pre><p>&#x5982;&#x679C;&#x539F;&#x751F;&#x5B57;&#x8282;&#x5E8F;&#x4E3A; <code>big</code> :</p>
<pre><code>v =&gt; #vu8(#x_12 #x34 #xfe #x56 #xdc #xba #x78 #x98
                #x_12 #x34 #xfe #x56 #xdc #xba #x78 #x98
                #x98 #x78 #xba #xdc #x56 #xfe #x34 #x_12)
</code></pre><p>&#x5982;&#x679C;&#x539F;&#x751F;&#x5B57;&#x8282;&#x5E8F;&#x4E3A; <code>little</code> :</p>
<pre><code>v =&gt; #vu8(#x98 #x78 #xba #xdc #x56 #xfe #x34 #x_12
               #x98 #x78 #xba #xdc #x56 #xfe #x34 #x_12
               #x_12 #x34 #xfe #x56 #xdc #xba #x78 #x98)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bytevector-u16-ref bytevector n eness)</code></p>
<p>&#x8FD4;&#x56DE;: <code>bytevector</code> &#x7684;&#x7D22;&#x5F15; <code>n</code> &#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;&#x5904;&#x7684; 16 &#x4F4D;&#x65E0;&#x7B26;&#x53F7;&#x6574;&#x6570;</p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-s16-ref bytevector n eness)</code></p>
<p>&#x8FD4;&#x56DE;: <code>bytevector</code> &#x7684;&#x7D22;&#x5F15; <code>n</code> &#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;&#x5904;&#x7684; 16 &#x4F4D;&#x6709;&#x7B26;&#x53F7;&#x6574;&#x6570;</p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-u32-ref bytevector n eness)</code></p>
<p>&#x8FD4;&#x56DE;: <code>bytevector</code> &#x7684;&#x7D22;&#x5F15; <code>n</code> &#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;&#x5904;&#x7684; 32 &#x4F4D;&#x65E0;&#x7B26;&#x53F7;&#x6574;&#x6570;</p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-s32-ref bytevector n eness)</code></p>
<p>&#x8FD4;&#x56DE;: <code>bytevector</code> &#x7684;&#x7D22;&#x5F15; <code>n</code> &#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;&#x5904;&#x7684; 32 &#x4F4D;&#x6709;&#x7B26;&#x53F7;&#x6574;&#x6570;</p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-u64-ref bytevector n eness)</code></p>
<p>&#x8FD4;&#x56DE;: <code>bytevector</code> &#x7684;&#x7D22;&#x5F15; <code>n</code> &#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;&#x5904;&#x7684; 64 &#x4F4D;&#x65E0;&#x7B26;&#x53F7;&#x6574;&#x6570;</p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-s64-ref bytevector n eness)</code></p>
<p>&#x8FD4;&#x56DE;: <code>bytevector</code> &#x7684;&#x7D22;&#x5F15; <code>n</code> &#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;&#x5904;&#x7684; 64 &#x4F4D;&#x6709;&#x7B26;&#x53F7;&#x6574;&#x6570;</p>
<p>&#x5E93;: (rnrs bytevectors), (rnrs)</p>
<p> <code>n</code> &#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x975E;&#x8D1F;&#x6574;&#x6570;&#xFF0C;&#x4E14;&#x7D22;&#x5F15;&#x4E86;&#x503C;&#x7684;&#x8D77;&#x59CB;&#x5B57;&#x8282;&#x3002; <code>n</code> &#x548C;&#x503C;&#x6240;&#x5360;&#x7528;&#x7684;&#x5B57;&#x8282;&#x6570;&#xFF08;16 &#x4F4D;&#x503C;&#x662F; 2&#xFF0C;32 &#x4F4D;&#x503C;&#x662F; 4&#xFF0C;64 &#x4F4D;&#x503C;&#x662F; 8&#x3002;&#xFF09;&#x4E4B;&#x548C;&#x4E00;&#x5B9A;&#x4E0D;&#x80FD;&#x8D85;&#x51FA; <code>bytevector</code> &#x7684;&#x957F;&#x5EA6;&#x3002; <code>n</code> &#x4E0D;&#x9700;&#x8981;&#x662F;&#x503C;&#x6240;&#x5360;&#x7528;&#x7684;&#x5B57;&#x8282;&#x6570;&#x7684;&#x500D;&#x6570;&#x3002; <code>eness</code> &#x5FC5;&#x987B;&#x662F;&#x547D;&#x540D;&#x5B57;&#x8282;&#x5E8F;&#x7684;&#x6709;&#x6548;&#x5B57;&#x8282;&#x5E8F;&#x7B26;&#x53F7;&#x3002;</p>
<p>&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x4E00;&#x4E2A;&#x7CBE;&#x786E;&#x6574;&#x6570;&#xFF0C;&#x5904;&#x4E8E;&#x503C;&#x6240;&#x5360;&#x7528;&#x5B57;&#x8282;&#x6570;&#x7684;&#x9002;&#x5F53;&#x533A;&#x95F4;&#x5185;&#x3002;&#x6709;&#x7B26;&#x53F7;&#x6570;&#x662F;&#x628A;&#x5B58;&#x50A8;&#x503C;&#x89C6;&#x4E3A;&#x8865;&#x7801;&#x7684;&#x7B49;&#x4EF7;&#x503C;&#x3002;</p>
<pre><code>(define v #vu8(#x_12 #x34 #xfe #x56 #xdc #xba #x78 #x98 #x9a #x76))
(bytevector-u16-ref v 0 (endianness big)) =&gt; #x_1234
(bytevector-s16-ref v 1 (endianness big)) =&gt; #x34fe
(bytevector-s16-ref v 5 (endianness big)) =&gt; #x-4588

(bytevector-u32-ref v 2 &apos;big) =&gt; #xfe56dcba
(bytevector-s32-ref v 3 &apos;big) =&gt; #x56dcba78
(bytevector-s32-ref v 4 &apos;big) =&gt; #x-23458768

(bytevector-u64-ref v 0 &apos;big) =&gt; #x_1234fe56dcba7898
(bytevector-s64-ref v 1 &apos;big) =&gt; #x34fe56dcba78989a

(bytevector-u16-ref v 0 (endianness little)) =&gt; #x3412
(bytevector-s16-ref v 1 (endianness little)) =&gt; #x-1cc
(bytevector-s16-ref v 5 (endianness little)) =&gt; #x78ba

(bytevector-u32-ref v 2 &apos;little) =&gt; #xbadc56fe
(bytevector-s32-ref v 3 &apos;little) =&gt; #x78badc56
(bytevector-s32-ref v 4 &apos;little) =&gt; #x-67874524

(bytevector-u64-ref v 0 &apos;little) =&gt; #x9878badc56fe3412
(bytevector-s64-ref v 1 &apos;little) =&gt; #x-6567874523a901cc
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bytevector-u16-set! bytevector n u16 eness)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-s16-set! bytevector n s16 eness)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-u32-set! bytevector n u32 eness)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-s32-set! bytevector n s32 eness)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-u64-set! bytevector n u64 eness)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-s64-set! bytevector n s64 eness)</code></p>
<p>&#x8FD4;&#x56DE;: &#x672A;&#x5B9A;&#x4E49;</p>
<p>&#x5E93;: (rnrs bytevectors), (rnrs)</p>
<p> <code>n</code> &#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x975E;&#x8D1F;&#x6574;&#x6570;&#xFF0C;&#x4E14;&#x7D22;&#x5F15;&#x4E86;&#x503C;&#x7684;&#x8D77;&#x59CB;&#x5B57;&#x8282;&#x3002; <code>n</code> &#x548C;&#x503C;&#x6240;&#x5360;&#x7528;&#x7684;&#x5B57;&#x8282;&#x6570;&#x4E4B;&#x548C;&#x4E00;&#x5B9A;&#x4E0D;&#x80FD;&#x8D85;&#x51FA; <code>bytevector</code> &#x7684;&#x957F;&#x5EA6;&#x3002; <code>n</code> &#x4E0D;&#x5FC5;&#x662F;&#x503C;&#x6240;&#x5360;&#x7528;&#x7684;&#x5B57;&#x8282;&#x6570;&#x7684;&#x500D;&#x6570;&#x3002;u16 &#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A; 16 &#x4F4D;&#x65E0;&#x7B26;&#x53F7;&#x503C;&#xFF0C;&#x5373;&#xFF0C;&#x5728; 0 &#x81F3; 2<sup>16</sup> - 1&#xFF08;&#x4E24;&#x7AEF;&#x5305;&#x542B;&#xFF09;&#x533A;&#x95F4;&#x4E2D;&#x7684;&#x503C;&#xFF1B;s16 &#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A; 16 &#x4F4D;&#x6709;&#x7B26;&#x53F7;&#x503C;&#xFF0C;&#x5373;&#xFF0C;&#x5728; -2<sup>15</sup> &#x81F3; 2<sup>15</sup> - 1&#xFF08;&#x4E24;&#x7AEF;&#x5305;&#x542B;&#xFF09;&#x533A;&#x95F4;&#x4E2D;&#x7684;&#x503C;&#xFF1B;u32 &#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A; 32 &#x4F4D;&#x65E0;&#x7B26;&#x53F7;&#x503C;&#xFF0C;&#x5373;&#xFF0C;&#x5728; 0 &#x81F3; 2<sup>32</sup> - 1&#xFF08;&#x4E24;&#x7AEF;&#x5305;&#x542B;&#xFF09;&#x533A;&#x95F4;&#x4E2D;&#x7684;&#x503C;&#xFF1B;s32 &#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A; 32 &#x4F4D;&#x6709;&#x7B26;&#x53F7;&#x503C;&#xFF0C;&#x5373;&#xFF0C;&#x5728; -2<sup>31</sup> &#x81F3; 2<sup>31</sup> - 1&#xFF08;&#x4E24;&#x7AEF;&#x5305;&#x542B;&#xFF09;&#x533A;&#x95F4;&#x4E2D;&#x7684;&#x503C;&#xFF1B;u64 &#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A; 64 &#x4F4D;&#x65E0;&#x7B26;&#x53F7;&#x503C;&#xFF0C;&#x5373;&#xFF0C;&#x5728; 0 &#x81F3; 2<sup>64</sup> - 1&#xFF08;&#x4E24;&#x7AEF;&#x5305;&#x542B;&#xFF09;&#x533A;&#x95F4;&#x4E2D;&#x7684;&#x503C;&#xFF1B;s64 &#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A; 64 &#x4F4D;&#x6709;&#x7B26;&#x53F7;&#x503C;&#xFF0C;&#x5373;&#xFF0C;&#x5728; -2<sup>63</sup> &#x81F3; 2<sup>63</sup> - 1&#xFF08;&#x4E24;&#x7AEF;&#x5305;&#x542B;&#xFF09;&#x533A;&#x95F4;&#x4E2D;&#x7684;&#x503C;&#x3002;eness &#x5FC5;&#x987B;&#x662F;&#x547D;&#x540D;&#x5B57;&#x8282;&#x5E8F;&#x7684;&#x6709;&#x6548;&#x5B57;&#x8282;&#x5E8F;&#x7B26;&#x53F7;&#x3002;</p>
<p>&#x8FD9;&#x4E9B;&#x8FC7;&#x7A0B;&#x628A;&#x7ED9;&#x5B9A;&#x503C;&#x5B58;&#x50A8;&#x5230; <code>bytevector</code> &#x8D77;&#x59CB;&#x4E8E;&#x7D22;&#x5F15; <code>n</code> &#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;&#x5904;&#x7684; 2, 4, &#x6216; 8 &#x5B57;&#x8282;&#x4E2D;&#x3002;&#x8D1F;&#x503C;&#x5B58;&#x50A8;&#x4E3A;&#x4E0E;&#x5B83;&#x4EEC;&#x7B49;&#x4EF7;&#x7684;&#x8865;&#x7801;&#x3002;</p>
<pre><code>(define v (make-bytevector 8 0))
(bytevector-u16-set! v 0 #xfe56 (endianness big))
(bytevector-s16-set! v 3 #x-1aa (endianness little))
(bytevector-s16-set! v 5 #x7898 (endianness big))
v =&gt; #vu8(#xfe #x56 #x0 #x56 #xfe #x78 #x98 #x0)

(define v (make-bytevector 16 0))
(bytevector-u32-set! v 0 #x_1234fe56 &apos;little)
(bytevector-s32-set! v 6 #x_1234fe56 &apos;big)
(bytevector-s32-set! v 11 #x-23458768 &apos;little)
v =&gt; #vu8(#x56 #xfe #x34 #x_12 #x0 #x0
        #x_12 #x34 #xfe #x56 #x0
        #x98 #x78 #xba #xdc #x0)

(define v (make-bytevector 28 0))
(bytevector-u64-set! v 0 #x_1234fe56dcba7898 &apos;little)
(bytevector-s64-set! v 10 #x_1234fe56dcba7898 &apos;big)
(bytevector-s64-set! v 19 #x-67874523a901cbee &apos;big)
v =&gt; #vu8(#x98 #x78 #xba #xdc #x56 #xfe #x34 #x_12 #x0 #x0
        #x_12 #x34 #xfe #x56 #xdc #xba #x78 #x98 #x0
        #x98 #x78 #xba #xdc #x56 #xfe #x34 #x_12 #x0)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bytevector-uint-ref bytevector n eness size)</code></p>
<p>&#x8FD4;&#x56DE;: <code>bytevector</code> &#x7684;&#x7D22;&#x5F15; <code>n</code> &#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;&#x5904;&#x7684; <code>size</code> &#x4F4D;&#x65E0;&#x7B26;&#x53F7;&#x6574;&#x6570;</p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-sint-ref bytevector n eness size)</code></p>
<p>&#x8FD4;&#x56DE;: <code>bytevector</code> &#x7684;&#x7D22;&#x5F15; <code>n</code> &#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;&#x5904;&#x7684; <code>size</code> &#x4F4D;&#x6709;&#x7B26;&#x53F7;&#x6574;&#x6570;</p>
<p>&#x5E93;: (rnrs bytevectors), (rnrs)</p>
<p> <code>n</code> &#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x975E;&#x8D1F;&#x6574;&#x6570;&#xFF0C;&#x4E14;&#x7D22;&#x5F15;&#x4E86;&#x503C;&#x7684;&#x8D77;&#x59CB;&#x5B57;&#x8282;&#x3002; <code>size</code> &#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x6B63;&#x6574;&#x6570;&#xFF0C;&#x4E14;&#x6307;&#x5B9A;&#x4E86;&#x503C;&#x6240;&#x5360;&#x7528;&#x7684;&#x5B57;&#x8282;&#x6570;&#x3002; <code>n</code> &#x548C; <code>size</code> &#x4E4B;&#x548C;&#x4E00;&#x5B9A;&#x4E0D;&#x80FD;&#x8D85;&#x51FA; <code>bytevector</code> &#x7684;&#x957F;&#x5EA6;&#x3002; <code>n</code> &#x4E0D;&#x9700;&#x8981;&#x662F;&#x503C;&#x6240;&#x5360;&#x7528;&#x7684;&#x5B57;&#x8282;&#x6570;&#x7684;&#x500D;&#x6570;&#x3002; <code>eness</code> &#x5FC5;&#x987B;&#x662F;&#x547D;&#x540D;&#x5B57;&#x8282;&#x5E8F;&#x7684;&#x6709;&#x6548;&#x5B57;&#x8282;&#x5E8F;&#x7B26;&#x53F7;&#x3002;</p>
<p>&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x4E00;&#x4E2A;&#x7CBE;&#x786E;&#x6574;&#x6570;&#xFF0C;&#x5904;&#x4E8E;&#x503C;&#x6240;&#x5360;&#x7528;&#x5B57;&#x8282;&#x6570;&#x7684;&#x9002;&#x5F53;&#x533A;&#x95F4;&#x5185;&#x3002;&#x6709;&#x7B26;&#x53F7;&#x6570;&#x662F;&#x628A;&#x5B58;&#x50A8;&#x503C;&#x89C6;&#x4E3A;&#x8865;&#x7801;&#x7684;&#x7B49;&#x4EF7;&#x503C;&#x3002;</p>
<pre><code>(define v #vu8(#x_12 #x34 #xfe #x56 #xdc #xba #x78 #x98 #x9a #x76))

(bytevector-uint-ref v 0 &apos;big 1) =&gt; #x_12
(bytevector-uint-ref v 0 &apos;little 1) =&gt; #x_12
(bytevector-uint-ref v 1 &apos;big 3) =&gt; #x34fe56
(bytevector-uint-ref v 2 &apos;little 7) =&gt; #x9a9878badc56fe

(bytevector-sint-ref v 2 &apos;big 1) =&gt; #x-02
(bytevector-sint-ref v 1 &apos;little 6) =&gt; #x78badc56fe34
(bytevector-sint-ref v 2 &apos;little 7) =&gt; #x-6567874523a902

(bytevector-sint-ref (make-bytevector 1000 -1) 0 &apos;big 1000) =&gt; -1
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bytevector-uint-set! bytevector n uint eness size)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-sint-set! bytevector n sint eness size)</code></p>
<p>&#x8FD4;&#x56DE;: &#x672A;&#x5B9A;&#x4E49;</p>
<p>&#x5E93;: (rnrs bytevectors), (rnrs)</p>
<p> <code>n</code> &#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x975E;&#x8D1F;&#x6574;&#x6570;&#xFF0C;&#x4E14;&#x7D22;&#x5F15;&#x4E86;&#x503C;&#x7684;&#x8D77;&#x59CB;&#x5B57;&#x8282;&#x3002; <code>size</code> &#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x6B63;&#x6574;&#x6570;&#xFF0C;&#x4E14;&#x6307;&#x5B9A;&#x4E86;&#x503C;&#x6240;&#x5360;&#x7528;&#x7684;&#x5B57;&#x8282;&#x6570;&#x3002; <code>n</code> &#x548C; <code>size</code> &#x4E4B;&#x548C;&#x4E00;&#x5B9A;&#x4E0D;&#x80FD;&#x8D85;&#x51FA; <code>bytevector</code> &#x7684;&#x957F;&#x5EA6;&#x3002; <code>n</code> &#x4E0D;&#x9700;&#x8981;&#x662F;&#x503C;&#x6240;&#x5360;&#x7528;&#x7684;&#x5B57;&#x8282;&#x6570;&#x7684;&#x500D;&#x6570;&#x3002; <code>uint</code> &#x5FC5;&#x987B;&#x662F;&#x5728; 0 &#x81F3; 2<sup>8size</sup> - 1&#xFF08;&#x4E24;&#x7AEF;&#x5305;&#x542B;&#xFF09;&#x533A;&#x95F4;&#x4E2D;&#x7684;&#x7CBE;&#x786E;&#x6574;&#x6570;&#x3002;<code>sint</code> &#x5FC5;&#x987B;&#x662F;&#x5728; -2<sup>8size</sup> - 1 &#x81F3; 2<sup>8size</sup> - 1&#xFF08;&#x4E24;&#x7AEF;&#x5305;&#x542B;&#xFF09;&#x533A;&#x95F4;&#x4E2D;&#x7684;&#x7CBE;&#x786E;&#x6574;&#x6570;&#x3002; <code>eness</code> &#x5FC5;&#x987B;&#x662F;&#x547D;&#x540D;&#x5B57;&#x8282;&#x5E8F;&#x7684;&#x6709;&#x6548;&#x5B57;&#x8282;&#x5E8F;&#x7B26;&#x53F7;&#x3002;</p>
<p>&#x8FD9;&#x4E9B;&#x8FC7;&#x7A0B;&#x628A;&#x7ED9;&#x5B9A;&#x503C;&#x5B58;&#x50A8;&#x5230; <code>bytevector</code> &#x8D77;&#x59CB;&#x4E8E;&#x7D22;&#x5F15; <code>n</code> &#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;&#x5904;&#x7684; <code>size</code> &#x5B57;&#x8282;&#x4E2D;&#x3002;&#x8D1F;&#x503C;&#x5B58;&#x50A8;&#x4E3A;&#x4E0E;&#x5B83;&#x4EEC;&#x7B49;&#x4EF7;&#x7684;&#x8865;&#x7801;&#x3002;</p>
<pre><code>(define v (make-bytevector 5 0))
(bytevector-uint-set! v 1 #x_123456 (endianness big) 3)
v =&gt; #vu8(0 #x_12 #x34 #x56 0)

(define v (make-bytevector 7 -1))
(bytevector-sint-set! v 1 #x-8000000000 (endianness little) 5)
v =&gt; #vu8(#xff 0 0 0 0 #x80 #xff)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bytevector-&gt;uint-list bytevector eness size)</code></p>
<p>&#x8FD4;&#x56DE;: <code>bytevector</code> &#x7684; <code>size</code> &#x5B57;&#x8282;&#x65E0;&#x7B26;&#x53F7;&#x5143;&#x7D20;&#x7EC4;&#x6210;&#x7684;&#x4E00;&#x4E2A;&#x65B0;&#x5217;&#x8868;</p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-&gt;sint-list bytevector eness size)</code></p>
<p>&#x8FD4;&#x56DE;: <code>bytevector</code> &#x7684; <code>size</code> &#x5B57;&#x8282;&#x6709;&#x7B26;&#x53F7;&#x5143;&#x7D20;&#x7EC4;&#x6210;&#x7684;&#x4E00;&#x4E2A;&#x65B0;&#x5217;&#x8868;</p>
<p>&#x5E93;: (rnrs bytevectors), (rnrs)</p>
<p> <code>eness</code> &#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A;&#x547D;&#x540D;&#x5B57;&#x8282;&#x5E8F;&#x7684;&#x6709;&#x6548;&#x5B57;&#x8282;&#x5E8F;&#x7B26;&#x53F7;&#x3002; <code>size</code> &#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x6B63;&#x6574;&#x6570;&#xFF0C;&#x4E14;&#x6307;&#x5B9A;&#x4E86;&#x503C;&#x6240;&#x5360;&#x7528;&#x7684;&#x5B57;&#x8282;&#x6570;&#x3002;&#x5B83;&#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A;&#x5747;&#x5300;&#x5212;&#x5206; <code>bytevector</code> &#x957F;&#x5EA6;&#x7684;&#x503C;&#x3002;</p>
<pre><code>(bytevector-&gt;uint-list (make-bytevector 0) &apos;little 3) =&gt; ()

(let ([v #vu8(1 2 3 4 5 6)])
  (bytevector-&gt;uint-list v &apos;big 3)) =&gt; (#x010203 #x040506)

(let ([v (make-bytevector 80 -1)])
  (bytevector-&gt;sint-list v &apos;big 20)) =&gt; (-1 -1 -1 -1)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(uint-list-&gt;bytevector list eness size)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(sint-list-&gt;bytevector list eness size)</code></p>
<p>&#x8FD4;&#x56DE;: list&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x7EC4;&#x6210;&#x7684;&#x65B0;&#x5B57;&#x8282;&#x5411;&#x91CF;</p>
<p>&#x5E93;: (rnrs bytevectors), (rnrs)</p>
<p> <code>eness</code> &#x5FC5;&#x987B;&#x662F;&#x547D;&#x540D;&#x5B57;&#x8282;&#x5E8F;&#x7684;&#x6709;&#x6548;&#x5B57;&#x8282;&#x5E8F;&#x7B26;&#x53F7;&#x3002; <code>size</code> &#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x6B63;&#x6574;&#x6570;&#xFF0C;&#x4E14;&#x6307;&#x5B9A;&#x4E86;&#x503C;&#x6240;&#x5360;&#x7528;&#x7684;&#x5B57;&#x8282;&#x6570;&#x3002;&#x5BF9;&#x4E8E; <code>uint-list-&gt;bytevector</code> , <code>list</code> &#x5FC5;&#x987B;&#x5B8C;&#x5168;&#x7531; <code>size</code> &#x5B57;&#x8282;&#x7684;&#x7CBE;&#x786E;&#x65E0;&#x7B26;&#x53F7;&#x6574;&#x6570;&#x7EC4;&#x6210;&#xFF0C;&#x5373;&#xFF0C;0 &#x81F3; 2<sup>8size</sup> - 1&#xFF08;&#x4E24;&#x7AEF;&#x5305;&#x542B;&#xFF09;&#x533A;&#x95F4;&#x4E2D;&#x7684;&#x503C;&#x3002;&#x5BF9;&#x4E8E; <code>sint-list-&gt;bytevector</code> , <code>list</code> &#x5FC5;&#x987B;&#x5B8C;&#x5168;&#x7531; <code>size</code> &#x5B57;&#x8282;&#x7684;&#x7CBE;&#x786E;&#x6709;&#x7B26;&#x53F7;&#x6574;&#x6570;&#x7EC4;&#x6210;&#xFF0C;&#x5373;&#xFF0C; -2<sup>8size</sup> - 1 &#x81F3; 2<sup>8size</sup> - 1&#xFF08;&#x4E24;&#x7AEF;&#x5305;&#x542B;&#xFF09;&#x533A;&#x95F4;&#x4E2D;&#x7684;&#x503C;&#x3002;&#x5728;&#x7ED3;&#x679C;&#x7684;&#x5B57;&#x8282;&#x5411;&#x91CF;&#x4E2D;&#xFF0C;&#x6BCF;&#x4E2A;&#x503C;&#x5360;&#x7528; <code>size</code> &#x5B57;&#x8282;&#xFF0C;&#x56E0;&#x6B64;&#x5B57;&#x8282;&#x5411;&#x91CF;&#x7684;&#x957F;&#x5EA6;&#x4E3A; <code>size</code> &#x4E58;&#x4EE5; <code>list</code> &#x7684;&#x957F;&#x5EA6;&#x3002;</p>
<pre><code>(uint-list-&gt;bytevector &apos;() &apos;big 25) =&gt; #vu8()
(sint-list-&gt;bytevector &apos;(0 -1) &apos;big 3) =&gt; #vu8(0 0 0 #xff #xff #xff)

(define (f size)
  (let ([ls (list (- (expt 2 (- (* 8 size) 1)))
                  (- (expt 2 (- (* 8 size) 1)) 1))])
    (sint-list-&gt;bytevector ls &apos;little size)))
(f 6) =&gt; #vu8(#x00 #x00 #x00 #x00 #x00 #x80
            #xff #xff #xff #xff #xff #x7f)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bytevector-ieee-single-native-ref bytevector n)</code></p>
<p>&#x8FD4;&#x56DE;: <code>bytevector</code> &#x7684;&#x7D22;&#x5F15; <code>n</code> &#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;&#x5904;&#x7684;&#x5355;&#x7CBE;&#x5EA6;&#x6D6E;&#x70B9;&#x503C;</p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-ieee-double-native-ref bytevector n)</code></p>
<p>&#x8FD4;&#x56DE;: <code>bytevector</code> &#x7684;&#x7D22;&#x5F15; <code>n</code> &#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;&#x5904;&#x7684;&#x53CC;&#x7CBE;&#x5EA6;&#x6D6E;&#x70B9;&#x503C;</p>
<p>&#x5E93;: (rnrs bytevectors), (rnrs)</p>
<p> <code>n</code> &#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x975E;&#x8D1F;&#x6574;&#x6570;&#x3002;&#x5B83;&#x7D22;&#x5F15;&#x4E86;&#x503C;&#x7684;&#x8D77;&#x59CB;&#x5B57;&#x8282;&#xFF0C;&#x4E14;&#x5FC5;&#x987B;&#x662F;&#x503C;&#x6240;&#x5360;&#x7528;&#x7684;&#x5B57;&#x8282;&#x6570;&#x7684;&#x500D;&#x6570;&#xFF1A;&#x5355;&#x7CBE;&#x5EA6;&#x662F; 4&#xFF0C;&#x53CC;&#x7CBE;&#x5EA6;&#x662F; 8. <code>n</code> &#x548C;&#x503C;&#x6240;&#x5360;&#x7528;&#x7684;&#x5B57;&#x8282;&#x6570;&#x4E4B;&#x548C;&#x4E00;&#x5B9A;&#x4E0D;&#x80FD;&#x8D85;&#x51FA; <code>bytevector</code> &#x7684;&#x957F;&#x5EA6;&#x3002;&#x5047;&#x8BBE;&#x4E3A;&#x539F;&#x751F;&#x7684;&#x5B57;&#x8282;&#x5E8F;&#x3002;</p>
<p>&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x4E0D;&#x7CBE;&#x786E;&#x7684;&#x5B9E;&#x6570;&#x3002;&#x4E0B;&#x65B9;&#x7684;&#x4FEE;&#x6539;&#x64CD;&#x4F5C;&#x540E;&#x9762;&#x4F1A;&#x6709;&#x5B9E;&#x4F8B;&#x3002;</p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-ieee-single-native-set! bytevector n x)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-ieee-double-native-set! bytevector n x)</code></p>
<p>&#x8FD4;&#x56DE;: &#x672A;&#x5B9A;&#x4E49;</p>
<p>&#x5E93;: (rnrs bytevectors), (rnrs)</p>
<p> <code>n</code> &#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x975E;&#x8D1F;&#x6574;&#x6570;&#x3002;&#x5B83;&#x7D22;&#x5F15;&#x4E86;&#x503C;&#x7684;&#x8D77;&#x59CB;&#x5B57;&#x8282;&#xFF0C;&#x4E14;&#x5FC5;&#x987B;&#x662F;&#x503C;&#x6240;&#x5360;&#x7528;&#x7684;&#x5B57;&#x8282;&#x6570;&#x7684;&#x500D;&#x6570;&#xFF1A;&#x5355;&#x7CBE;&#x5EA6;&#x662F; 4&#xFF0C;&#x53CC;&#x7CBE;&#x5EA6;&#x662F; 8. <code>n</code> &#x548C;&#x503C;&#x6240;&#x5360;&#x7528;&#x7684;&#x5B57;&#x8282;&#x6570;&#x4E4B;&#x548C;&#x4E00;&#x5B9A;&#x4E0D;&#x80FD;&#x8D85;&#x51FA; <code>bytevector</code> &#x7684;&#x957F;&#x5EA6;&#x3002;&#x5047;&#x8BBE;&#x4E3A;&#x539F;&#x751F;&#x7684;&#x5B57;&#x8282;&#x5E8F;&#x3002;</p>
<p>&#x8FD9;&#x4E9B;&#x8FC7;&#x7A0B;&#x628A;&#x7ED9;&#x5B9A;&#x503C;&#x4F5C;&#x4E3A; IEEE-754 &#x5355;&#x7CBE;&#x5EA6;&#x6216;&#x53CC;&#x7CBE;&#x5EA6;&#x6D6E;&#x70B9;&#x503C;&#xFF0C;&#x5B58;&#x50A8;&#x5230; <code>bytevector</code> &#x7684;&#x7D22;&#x5F15; <code>n</code> &#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;&#x5904;&#x3002;</p>
<pre><code>(define v (make-bytevector 8 0))
(bytevector-ieee-single-native-set! v 0 .125)
(bytevector-ieee-single-native-set! v 4 -3/2)
(list
  (bytevector-ieee-single-native-ref v 0)
  (bytevector-ieee-single-native-ref v 4)) =&gt; (0.125 -1.5)

(bytevector-ieee-double-native-set! v 0 1e23)
(bytevector-ieee-double-native-ref v 0) =&gt; 1e23
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(bytevector-ieee-single-ref bytevector n eness)</code></p>
<p>&#x8FD4;&#x56DE;: <code>bytevector</code> &#x7684;&#x7D22;&#x5F15; <code>n</code> &#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;&#x5904;&#x7684;&#x5355;&#x7CBE;&#x5EA6;&#x6D6E;&#x70B9;&#x503C;</p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-ieee-double-ref bytevector n eness)</code></p>
<p>&#x8FD4;&#x56DE;: <code>bytevector</code> &#x7684;&#x7D22;&#x5F15; <code>n</code> &#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;&#x5904;&#x7684;&#x53CC;&#x7CBE;&#x5EA6;&#x6D6E;&#x70B9;&#x503C;</p>
<p>&#x5E93;: (rnrs bytevectors), (rnrs)</p>
<p> <code>n</code> &#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x975E;&#x8D1F;&#x6574;&#x6570;&#xFF0C;&#x4E14;&#x7D22;&#x5F15;&#x4E86;&#x503C;&#x7684;&#x8D77;&#x59CB;&#x5B57;&#x8282;&#x3002; <code>n</code> &#x548C;&#x503C;&#x6240;&#x5360;&#x7528;&#x7684;&#x5B57;&#x8282;&#x6570;&#xFF08;&#x5355;&#x7CBE;&#x5EA6;&#x662F; 4&#xFF0C;&#x53CC;&#x7CBE;&#x5EA6;&#x662F; 8&#xFF09;&#x4E4B;&#x548C;&#x4E00;&#x5B9A;&#x4E0D;&#x80FD;&#x8D85;&#x51FA; <code>bytevector</code> &#x7684;&#x957F;&#x5EA6;&#x3002; <code>n</code> &#x4E0D;&#x5FC5;&#x662F;&#x503C;&#x6240;&#x5360;&#x7528;&#x7684;&#x5B57;&#x8282;&#x6570;&#x7684;&#x500D;&#x6570;&#x3002; <code>eness</code> &#x5FC5;&#x987B;&#x662F;&#x547D;&#x540D;&#x5B57;&#x8282;&#x5E8F;&#x7684;&#x6709;&#x6548;&#x5B57;&#x8282;&#x5E8F;&#x7B26;&#x53F7;&#x3002;</p>
<p>&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x4E0D;&#x7CBE;&#x786E;&#x7684;&#x5B9E;&#x6570;&#x3002;&#x4E0B;&#x65B9;&#x7684;&#x4FEE;&#x6539;&#x64CD;&#x4F5C;&#x540E;&#x9762;&#x4F1A;&#x6709;&#x5B9E;&#x4F8B;&#x3002;</p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-ieee-single-set! bytevector n x eness)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(bytevector-ieee-double-set! bytevector n x eness)</code></p>
<p>&#x8FD4;&#x56DE;: &#x672A;&#x5B9A;&#x4E49;</p>
<p>&#x5E93;: (rnrs bytevectors), (rnrs)</p>
<p> <code>n</code> &#x5FC5;&#x987B;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x975E;&#x8D1F;&#x6574;&#x6570;&#xFF0C;&#x4E14;&#x7D22;&#x5F15;&#x4E86;&#x503C;&#x7684;&#x8D77;&#x59CB;&#x5B57;&#x8282;&#x3002; <code>n</code> &#x548C;&#x503C;&#x6240;&#x5360;&#x7528;&#x7684;&#x5B57;&#x8282;&#x6570;&#xFF08;&#x5355;&#x7CBE;&#x5EA6;&#x662F; 4&#xFF0C;&#x53CC;&#x7CBE;&#x5EA6;&#x662F; 8&#xFF09;&#x4E4B;&#x548C;&#x4E00;&#x5B9A;&#x4E0D;&#x80FD;&#x8D85;&#x51FA; <code>bytevector</code> &#x7684;&#x957F;&#x5EA6;&#x3002; <code>n</code> &#x4E0D;&#x5FC5;&#x662F;&#x503C;&#x6240;&#x5360;&#x7528;&#x7684;&#x5B57;&#x8282;&#x6570;&#x7684;&#x500D;&#x6570;&#x3002; <code>eness</code> &#x5FC5;&#x987B;&#x662F;&#x547D;&#x540D;&#x5B57;&#x8282;&#x5E8F;&#x7684;&#x6709;&#x6548;&#x5B57;&#x8282;&#x5E8F;&#x7B26;&#x53F7;&#x3002;</p>
<p>&#x8FD9;&#x4E9B;&#x8FC7;&#x7A0B;&#x628A;&#x7ED9;&#x5B9A;&#x503C;&#x4F5C;&#x4E3A; IEEE-754 &#x5355;&#x7CBE;&#x5EA6;&#x6216;&#x53CC;&#x7CBE;&#x5EA6;&#x6D6E;&#x70B9;&#x503C;&#xFF0C;&#x5B58;&#x50A8;&#x5230; <code>bytevector</code> &#x7684;&#x7D22;&#x5F15; <code>n</code> &#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;&#x5904;&#x3002;</p>
<pre><code>(define v (make-bytevector 10 #xc7))
(bytevector-ieee-single-set! v 1 .125 &apos;little)
(bytevector-ieee-single-set! v 6 -3/2 &apos;big)
(list
  (bytevector-ieee-single-ref v 1 &apos;little)
  (bytevector-ieee-single-ref v 6 &apos;big)) =&gt; (0.125 -1.5)
v =&gt; #vu8(#xc7 #x0 #x0 #x0 #x3e #xc7 #xbf #xc0 #x0 #x0)

(bytevector-ieee-double-set! v 1 1e23 &apos;big)
(bytevector-ieee-double-ref v 1 &apos;big) =&gt; 1e23
</code></pre><h2 id="611-&#x7B26;&#x53F7;">6.11. &#x7B26;&#x53F7;</h2>
<p>&#x5728; Scheme &#x7A0B;&#x5E8F;&#x4E2D;&#xFF0C;&#x7B26;&#x53F7;&#x4F5C;&#x4E3A;&#x7B26;&#x53F7;&#x7684;&#x540D;&#x79F0;&#x6709;&#x591A;&#x79CD;&#x7528;&#x9014;&#x3002;&#x5B57;&#x7B26;&#x4E32;&#x53EF;&#x4EE5;&#x8FBE;&#x6210;&#x5176;&#x4E2D;&#x5927;&#x591A;&#x6570;&#x76EE;&#x7684;&#xFF0C;&#x4F46;&#x7B26;&#x53F7;&#x7684;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x7279;&#x6027;&#x4F7F;&#x5F97;&#x7B26;&#x53F7;&#x4E4B;&#x95F4;&#x7684;&#x6BD4;&#x8F83;&#x8981;&#x9AD8;&#x6548;&#x5F97;&#x591A;&#x3002;&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#x662F;&#xFF0C;&#x4E24;&#x4E2A;&#x76F8;&#x540C;&#x540D;&#x79F0;&#x7684;&#x7B26;&#x53F7;&#x5728; eq? &#x7684;&#x610F;&#x4E49;&#x4E0A;&#x662F;&#x76F8;&#x540C;&#x7684;&#x3002;&#x539F;&#x56E0;&#x662F;&#xFF0C;Scheme &#x8BFB;&#x53D6;&#x5668;&#xFF08;&#x901A;&#x8FC7; get-datum &#x548C; read &#x8C03;&#x7528;&#xFF09;&#x548C;&#x8FC7;&#x7A0B; string-&gt;symbol &#x628A;&#x7B26;&#x53F7;&#x5F55;&#x5165;&#x4E00;&#x4E2A;&#x9A7B;&#x7559;&#x7B26;&#x53F7;&#x8868;&#xFF0C;&#x5728;&#x9047;&#x5230;&#x76F8;&#x540C;&#x7684;&#x540D;&#x5B57;&#x65F6;&#xFF0C;&#x603B;&#x662F;&#x8FD4;&#x56DE;&#x76F8;&#x540C;&#x7684;&#x7B26;&#x53F7;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x9010;&#x5B57;&#x7B26;&#x7684;&#x6BD4;&#x8F83;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x4E86;&#xFF0C;&#x800C;&#x4E24;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x95F4;&#x7684;&#x6BD4;&#x8F83;&#x5219;&#x9700;&#x8981;&#x3002;</p>
<p>&#x4E24;&#x4E2A;&#x7B26;&#x53F7;&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x6BD4;&#x8F83;&#x7B49;&#x4EF7;&#x6027;&#x7684;&#x6027;&#x8D28;&#xFF0C;&#x4F7F;&#x5F97;&#x5B83;&#x4EEC;&#x975E;&#x5E38;&#x9002;&#x5408;&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x7528;&#x4F5C;&#x6807;&#x8BC6;&#x7B26;&#xFF0C;&#x4EE5;&#x652F;&#x6301;&#x6807;&#x8BC6;&#x7B26;&#x7684;&#x5FEB;&#x901F;&#x6BD4;&#x8F83;&#x3002;&#x8FD9;&#x4E2A;&#x6027;&#x8D28;&#x4E5F;&#x4F7F;&#x5F97;&#x7B26;&#x53F7;&#x5728;&#x5F88;&#x591A;&#x5176;&#x5B83;&#x7528;&#x9014;&#x4E2D;&#x5341;&#x5206;&#x6709;&#x7528;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x7B26;&#x53F7;&#x53EF;&#x4EE5;&#x7528;&#x4F5C;&#x8FC7;&#x7A0B;&#x95F4;&#x4F20;&#x9012;&#x7684;&#x6D88;&#x606F;&#xFF0C;&#x5217;&#x8868;&#x7ED3;&#x6784;&#x8BB0;&#x5F55;&#x4E2D;&#x7684;&#x6807;&#x7B7E;&#xFF0C;&#x6216;&#x5173;&#x8054;&#x5217;&#x8868;&#x4E2D;&#x5B58;&#x50A8;&#x7684;&#x5BF9;&#x8C61;&#x540D;&#x79F0;&#xFF08;&#x53C2;&#x89C1; 6.3 &#x8282;&#x4E2D;&#x7684; assq&#xFF09;&#x3002;</p>
<p>&#x7B26;&#x53F7;&#x7684;&#x5B57;&#x9762;&#x5F62;&#x5F0F;&#x4E0D;&#x5E26;&#x6709;&#x53CC;&#x5F15;&#x53F7;&#x6216;&#x5176;&#x5B83;&#x62EC;&#x53F7;&#x5B57;&#x7B26;&#x3002;&#x7B26;&#x53F7;&#x7684;&#x6253;&#x5370;&#x5F62;&#x5F0F;&#x4E2D;&#x4E0D;&#x5141;&#x8BB8;&#x51FA;&#x73B0;&#x62EC;&#x53F7;&#xFF0C;&#x53CC;&#x5F15;&#x53F7;&#xFF0C;&#x7A7A;&#x683C;&#xFF0C;&#x4EE5;&#x53CA;&#x5927;&#x591A;&#x6570;&#x5176;&#x5B83;&#x5BF9; Scheme &#x8BFB;&#x53D6;&#x5668;&#x6709;&#x7740;&#x7279;&#x6B8A;&#x610F;&#x4E49;&#x7684;&#x5B57;&#x7B26;&#x3002;&#x8FD9;&#x4E9B;&#x5B57;&#x7B26;&#x548C;&#x4EFB;&#x610F;&#x5176;&#x5B83; Unicode &#x5B57;&#x7B26;&#x53EF;&#x4EE5;&#x51FA;&#x73B0;&#x5728;&#x4F7F;&#x7528;&#x8BED;&#x6CD5;&#x5F62;&#x5F0F; #\xn; &#x7684;&#x7B26;&#x53F7;&#x7684;&#x6253;&#x5370;&#x5F62;&#x5F0F;&#x4E2D;&#xFF0C;&#x5176;&#x4E2D; n &#x7531;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x6570;&#x5B57;&#x7EC4;&#x6210;&#xFF0C;&#x4E14;&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x6709;&#x6548;&#x7684; Unicode &#x6807;&#x91CF;&#x503C;&#x3002;</p>
<p>458 &#x9875;&#x7684;&#x7B26;&#x53F7;&#x8BED;&#x6CD5;&#xFF0C;&#x7ED9;&#x51FA;&#x4E86;&#x7B26;&#x53F7;&#x53E5;&#x6CD5;&#x7684;&#x7CBE;&#x786E;&#x5B9A;&#x4E49;&#x3002;</p>
<p>&#x8FC7;&#x7A0B;: <code>(symbol=? symbol1 symbol2)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C;&#x4E24;&#x4E2A;&#x7B26;&#x53F7;&#x76F8;&#x540C;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x7B26;&#x53F7;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; <code>eq?</code> &#x6BD4;&#x8F83;&#xFF0C;&#x5176;&#x901A;&#x5E38;&#x6BD4; <code>symbol=?</code> &#x66F4;&#x9AD8;&#x6548;&#x3002;</p>
<pre><code>(symbol=? &apos;a &apos;a) =&gt; #t
(symbol=? &apos;a (string-&gt;symbol &quot;a&quot;)) =&gt; #t
(symbol=? &apos;a &apos;b) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(string-&gt;symbol string)</code></p>
<p>&#x8FD4;&#x56DE;: &#x4E00;&#x4E2A;&#x540D;&#x79F0;&#x4E3A; <code>string</code> &#x7684;&#x7B26;&#x53F7;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p> <code>string-&gt;symbol</code> &#x628A;&#x5B83;&#x521B;&#x5EFA;&#x7684;&#x6240;&#x6709;&#x7B26;&#x53F7;&#x5F55;&#x5165;&#x4E00;&#x4E2A;&#x5B83;&#x4E0E;&#x7CFB;&#x7EDF;&#x8BFB;&#x53D6;&#x5668;&#x5171;&#x4EAB;&#x7684;&#x9A7B;&#x7559;&#x7B26;&#x53F7;&#x8868;&#x3002;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x540D;&#x5B57;&#x7B49;&#x4E8E; <code>string</code> &#xFF08;&#x57FA;&#x4E8E;&#x8C13;&#x8BCD; <code>string=?</code> &#xFF09;&#x7684;&#x7B26;&#x53F7;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x4E8E;&#x8868;&#x4E2D;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x8FD9;&#x4E2A;&#x7B26;&#x53F7;&#x3002;&#x5426;&#x5219;&#xFF0C;&#x5219;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x540D;&#x4E3A; <code>string</code> &#x7684;&#x65B0;&#x7B26;&#x53F7;&#xFF1B;&#x4E14;&#x628A;&#x8FD9;&#x4E2A;&#x7B26;&#x53F7;&#x52A0;&#x5165;&#x8868;&#x4E2D;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x3002;</p>
<p>&#x5728;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x7528;&#x4F5C; <code>string-&gt;symbol</code> &#x7684;&#x5B9E;&#x53C2;&#x540E;&#x4FEE;&#x6539;&#x5B83;&#x7684;&#x6548;&#x679C;&#x662F;&#x672A;&#x5B9A;&#x4E49;&#x7684;&#x3002;</p>
<pre><code>(string-&gt;symbol &quot;x&quot;) =&gt; x

(eq? (string-&gt;symbol &quot;x&quot;) &apos;x) =&gt; #t
(eq? (string-&gt;symbol &quot;X&quot;) &apos;x) =&gt; #f

(eq? (string-&gt;symbol &quot;x&quot;)
     (string-&gt;symbol &quot;x&quot;)) =&gt; #t

(string-&gt;symbol &quot;()&quot;) =&gt; \x_28;\x_29;
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(symbol-&gt;string symbol)</code></p>
<p>&#x8FD4;&#x56DE;: &#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5185;&#x5BB9;&#x4E3A;&#x7B26;&#x53F7;&#x7684;&#x540D;&#x79F0;</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p> <code>symbol-&gt;string</code> &#x8FD4;&#x56DE;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x5E94;&#x5F53;&#x88AB;&#x89C6;&#x4E3A;&#x4E0D;&#x53EF;&#x53D8;&#x7684;&#x3002;&#x5982;&#x679C;&#x4F7F;&#x7528; <code>string-set!</code> &#x6216;&#x5176;&#x5B83;&#x4EFB;&#x4F55;&#x65B9;&#x5F0F;&#x4FEE;&#x6539;&#x4F20;&#x5165; <code>string-&gt;symbol</code> &#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5219;&#x4F1A;&#x5BFC;&#x81F4;&#x4E0D;&#x53EF;&#x9884;&#x6D4B;&#x7684;&#x884C;&#x4E3A;&#x3002;</p>
<pre><code>(symbol-&gt;string &apos;xyz) =&gt; &quot;xyz&quot;
(symbol-&gt;string &apos;Hi) =&gt; &quot;Hi&quot;
(symbol-&gt;string (string-&gt;symbol &quot;()&quot;)) =&gt; &quot;()&quot;
</code></pre><h2 id="612-&#x5E03;&#x5C14;&#x503C;">6.12. &#x5E03;&#x5C14;&#x503C;</h2>
<p>&#x867D;&#x7136;&#x6240;&#x6709; Scheme &#x5BF9;&#x8C61;&#x5728;&#x7528;&#x4E8E;&#x6761;&#x4EF6;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x65F6;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x771F;&#x503C;&#xFF0C;&#x4E14;&#x9664;&#x4E86; <code>#f</code> &#xFF0C;&#x6240;&#x6709;&#x5BF9;&#x8C61;&#x90FD;&#x88AB;&#x89C6;&#x4E3A;&#x771F;&#xFF0C;&#x4F46; Scheme &#x4E5F;&#x63D0;&#x4F9B;&#x4E86;&#x4E13;&#x7528;&#x7684;&#x771F;&#x503C; <code>#t</code> &#xFF0C;&#x7528;&#x4E8E;&#x5F53;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#x53EA;&#x8868;&#x8FBE;&#x771F;&#xFF0C;&#x4E0D;&#x8868;&#x8FBE;&#x5176;&#x5B83;&#x4EFB;&#x4F55;&#x5185;&#x5BB9;&#x65F6;&#x3002;</p>
<p>&#x8FC7;&#x7A0B;: <code>(boolean=? boolean1 boolean2)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C;&#x4E24;&#x4E2A;&#x5E03;&#x5C14;&#x503C;&#x76F8;&#x540C;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs base), (rnrs)</p>
<p>&#x5E03;&#x5C14;&#x503C; <code>#t</code> &#x548C; <code>#f</code> &#x4E5F;&#x53EF;&#x4EE5;&#x7528; <code>eq?</code> &#x6BD4;&#x8F83;&#xFF0C;&#x901A;&#x5E38;&#x6BD4;&#x4F7F;&#x7528; <code>boolean=?</code> &#x66F4;&#x52A0;&#x9AD8;&#x6548;&#x3002;</p>
<pre><code>(boolean=? #t #t) =&gt; #t
(boolean=? #t #f) =&gt; #f
(boolean=? #t (&lt; 3 4)) =&gt; #t
</code></pre><h2 id="613-&#x54C8;&#x5E0C;&#x8868;">6.13. &#x54C8;&#x5E0C;&#x8868;</h2>
<p>&#x54C8;&#x5E0C;&#x8868;&#x8868;&#x793A;&#x4EFB;&#x610F; Scheme &#x503C;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x8054;&#x7684;&#x96C6;&#x5408;&#x3002;&#x5B83;&#x4EEC;&#x672C;&#x8D28;&#x4E0A;&#x548C;&#x5173;&#x8054;&#x5217;&#x8868;&#x670D;&#x52A1;&#x4E8E;&#x540C;&#x4E00;&#x4E2A;&#x76EE;&#x7684;&#xFF0C;&#x4F46;&#x5728;&#x6D89;&#x53CA;&#x5927;&#x91CF;&#x5173;&#x8054;&#x65F6;&#xFF0C;&#x901A;&#x5E38;&#x8981;&#x5FEB;&#x5F97;&#x591A;&#x3002;</p>
<p>&#x8FC7;&#x7A0B;: <code>(make-eq-hashtable)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(make-eq-hashtable size)</code></p>
<p>&#x8FD4;&#x56DE;: &#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x53EF;&#x53D8; eq hashtable</p>
<p>&#x5E93;: (rnrs hashtables), (rnrs)</p>
<p>&#x5982;&#x679C;&#x6307;&#x5B9A;&#x4E86; <code>size</code> , &#x5B83;&#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A;&#x975E;&#x8D1F;&#x7684;&#x7CBE;&#x786E;&#x6574;&#x6570;&#xFF0C;&#x6307;&#x793A;&#x54C8;&#x5E0C;&#x8868;&#x521D;&#x59CB;&#x5316;&#x65F6;&#x5927;&#x6982;&#x5E94;&#x5305;&#x542B;&#x591A;&#x5C11;&#x5143;&#x7D20;&#x3002;&#x54C8;&#x5E0C;&#x8868;&#x6839;&#x636E;&#x9700;&#x8981;&#x589E;&#x957F;&#xFF0C;&#x4F46;&#x5F53;&#x54C8;&#x5E0C;&#x8868;&#x589E;&#x957F;&#x65F6;&#xFF0C;&#x5B83;&#x901A;&#x5E38;&#x5FC5;&#x987B;&#x91CD;&#x65B0;&#x54C8;&#x5E0C;&#x5316;&#x6240;&#x6709;&#x5DF2;&#x5B58;&#x5728;&#x7684;&#x5143;&#x7D20;&#x3002;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x975E; 0 &#x7684; <code>size</code> &#x65F6;&#xFF0C;&#x7531;&#x4E8E;&#x521D;&#x59CB;&#x65F6;&#x586B;&#x5145;&#x4E86;&#x8868;&#xFF0C;&#x56E0;&#x800C;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x9650;&#x5236;&#x5FC5;&#x987B;&#x8FDB;&#x884C;&#x7684;&#x91CD;&#x65B0;&#x54C8;&#x5E0C;&#x7684;&#x6B21;&#x6570;&#x3002;</p>
<p>eq hashtable &#x4F7F;&#x7528; <code>eq?</code> &#xFF08;&#x6307;&#x9488;&#x76F8;&#x7B49;&#xFF09;&#x8FC7;&#x7A0B;&#x6BD4;&#x8F83;&#x952E;&#xFF0C;&#x5E76;&#x4E14;&#x901A;&#x5E38;&#x57FA;&#x4E8E;&#x5BF9;&#x8C61;&#x5730;&#x5740;&#x91C7;&#x7528;&#x4E00;&#x4E2A;&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#x3002;&#x5B83;&#x7684;&#x54C8;&#x5E0C;&#x548C;&#x7B49;&#x4EF7;&#x6027;&#x51FD;&#x6570;&#x9002;&#x7528;&#x4E8E;&#x4EFB;&#x610F; Scheme &#x5BF9;&#x8C61;&#x3002;</p>
<pre><code>(define ht1 (make-eq-hashtable))
(define ht2 (make-eq-hashtable 32))
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(make-eqv-hashtable)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(make-eqv-hashtable size)</code></p>
<p>&#x8FD4;&#x56DE;: &#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x53EF;&#x53D8; eqv hashtable</p>
<p>&#x5E93;: (rnrs hashtables), (rnrs)</p>
<p>&#x5982;&#x679C;&#x6307;&#x5B9A;&#x4E86; <code>size</code> , &#x5B83;&#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A;&#x975E;&#x8D1F;&#x7684;&#x7CBE;&#x786E;&#x6574;&#x6570;&#xFF0C;&#x6307;&#x793A;&#x54C8;&#x5E0C;&#x8868;&#x521D;&#x59CB;&#x5316;&#x65F6;&#x5927;&#x6982;&#x5E94;&#x5305;&#x542B;&#x591A;&#x5C11;&#x5143;&#x7D20;&#x3002;&#x54C8;&#x5E0C;&#x8868;&#x6839;&#x636E;&#x9700;&#x8981;&#x589E;&#x957F;&#xFF0C;&#x4F46;&#x5F53;&#x54C8;&#x5E0C;&#x8868;&#x589E;&#x957F;&#x65F6;&#xFF0C;&#x5B83;&#x901A;&#x5E38;&#x5FC5;&#x987B;&#x91CD;&#x65B0;&#x54C8;&#x5E0C;&#x5316;&#x6240;&#x6709;&#x5DF2;&#x5B58;&#x5728;&#x7684;&#x5143;&#x7D20;&#x3002;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x975E; 0 &#x7684; <code>size</code> &#x65F6;&#xFF0C;&#x7531;&#x4E8E;&#x521D;&#x59CB;&#x65F6;&#x586B;&#x5145;&#x4E86;&#x8868;&#xFF0C;&#x56E0;&#x800C;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x9650;&#x5236;&#x5FC5;&#x987B;&#x8FDB;&#x884C;&#x7684;&#x91CD;&#x65B0;&#x54C8;&#x5E0C;&#x7684;&#x6B21;&#x6570;&#x3002;</p>
<p>eqv hashtable &#x4F7F;&#x7528; <code>eqv?</code> &#x8FC7;&#x7A0B;&#x6BD4;&#x8F83;&#x952E;&#xFF0C;&#x5E76;&#x4E14;&#x5BF9;&#x4E8E;&#x53EF;&#x7528; <code>eq?</code> &#x8BC6;&#x522B;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x901A;&#x5E38;&#x57FA;&#x4E8E;&#x5BF9;&#x8C61;&#x5730;&#x5740;&#x91C7;&#x7528;&#x4E00;&#x4E2A;&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#x3002;&#x5B83;&#x7684;&#x54C8;&#x5E0C;&#x548C;&#x7B49;&#x4EF7;&#x6027;&#x51FD;&#x6570;&#x9002;&#x7528;&#x4E8E;&#x4EFB;&#x610F; Scheme &#x5BF9;&#x8C61;&#x3002;</p>
<p>&#x8FC7;&#x7A0B;: <code>(make-hashtable hash equiv?)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(make-hashtable hash equiv? size)</code></p>
<p>&#x8FD4;&#x56DE;: &#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x53EF;&#x53D8;&#x7684;&#x54C8;&#x5E0C;&#x8868;</p>
<p>&#x5E93;: (rnrs hashtables), (rnrs)</p>
<p> <code>hash</code> &#x548C; <code>equiv?</code> &#x5FC5;&#x987B;&#x662F;&#x8FC7;&#x7A0B;&#x3002;&#x5982;&#x679C;&#x6307;&#x5B9A;&#x4E86; <code>size</code> , &#x5B83;&#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A;&#x975E;&#x8D1F;&#x7684;&#x7CBE;&#x786E;&#x6574;&#x6570;&#xFF0C;&#x6307;&#x793A;&#x54C8;&#x5E0C;&#x8868;&#x521D;&#x59CB;&#x5316;&#x65F6;&#x5927;&#x6982;&#x5E94;&#x5305;&#x542B;&#x591A;&#x5C11;&#x5143;&#x7D20;&#x3002;&#x54C8;&#x5E0C;&#x8868;&#x6839;&#x636E;&#x9700;&#x8981;&#x589E;&#x957F;&#xFF0C;&#x4F46;&#x5F53;&#x54C8;&#x5E0C;&#x8868;&#x589E;&#x957F;&#x65F6;&#xFF0C;&#x5B83;&#x901A;&#x5E38;&#x5FC5;&#x987B;&#x91CD;&#x65B0;&#x54C8;&#x5E0C;&#x5316;&#x6240;&#x6709;&#x5DF2;&#x5B58;&#x5728;&#x7684;&#x5143;&#x7D20;&#x3002;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x975E; 0 &#x7684; <code>size</code> &#x65F6;&#xFF0C;&#x7531;&#x4E8E;&#x521D;&#x59CB;&#x65F6;&#x586B;&#x5145;&#x4E86;&#x8868;&#xFF0C;&#x56E0;&#x800C;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x9650;&#x5236;&#x5FC5;&#x987B;&#x8FDB;&#x884C;&#x7684;&#x91CD;&#x65B0;&#x54C8;&#x5E0C;&#x7684;&#x6B21;&#x6570;&#x3002;</p>
<p>&#x65B0;&#x7684;&#x54C8;&#x5E0C;&#x8868;&#x4F7F;&#x7528; <code>hash</code> &#x8BA1;&#x7B97;&#x54C8;&#x5E0C;&#x503C;&#xFF0C;&#x4F7F;&#x7528; <code>equiv?</code> &#x6BD4;&#x8F83;&#x952E;&#xFF0C;&#x4E24;&#x8005;&#x90FD;&#x4E0D;&#x5E94;&#x4FEE;&#x6539;&#x54C8;&#x5E0C;&#x8868;&#x3002; <code>equiv?</code> &#x5E94;&#x5F53;&#x6BD4;&#x8F83;&#x4E24;&#x4E2A;&#x952E;&#xFF0C;&#x5E76;&#x4EC5;&#x5F53;&#x4E24;&#x4E2A;&#x952E;&#x6709;&#x533A;&#x522B;&#x65F6;&#x8FD4;&#x56DE;&#x5047;&#x3002; <code>hash</code> &#x5E94;&#x8BE5;&#x63A5;&#x53D7;&#x4E00;&#x4E2A;&#x952E;&#x4F5C;&#x4E3A;&#x5B9E;&#x53C2;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x975E;&#x8D1F;&#x7684;&#x7CBE;&#x786E;&#x6574;&#x6570;&#x503C;&#xFF0C;&#x5BF9;&#x4E8E; <code>equiv?</code> &#x5224;&#x5B9A;&#x4E3A;&#x76F8;&#x540C;&#x7684;&#x5B9E;&#x53C2;&#xFF0C;&#x5219;&#x6BCF;&#x6B21;&#x8C03;&#x7528;&#x65F6;&#x8FD4;&#x56DE;&#x7684;&#x8FD9;&#x4E2A;&#x503C;&#x90FD;&#x662F;&#x76F8;&#x540C;&#x7684;&#x3002;&#x53EA;&#x8981;&#x54C8;&#x5E0C;&#x8868;&#x53EA;&#x7528;&#x4E8E;&#x5B83;&#x4EEC;&#x63A5;&#x53D7;&#x7684;&#x952E;&#xFF0C;&#x5219; <code>hash</code> &#x548C; <code>equiv?</code> &#x8FC7;&#x7A0B;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x63A5;&#x53D7;&#x4EFB;&#x610F;&#x8F93;&#x5165;&#xFF0C;&#x4E14;&#x53EA;&#x8981;&#x952E;&#x5728;&#x5176;&#x6709;&#x5173;&#x8054;&#x503C;&#x5B58;&#x50A8;&#x5728;&#x8868;&#x4E2D;&#x65F6;&#x4E0D;&#x88AB;&#x4FEE;&#x6539;&#xFF0C;&#x5219;&#x4E24;&#x4E2A;&#x8FC7;&#x7A0B;&#x5C31;&#x90FD;&#x53EF;&#x4EE5;&#x5047;&#x5B9A;&#x952E;&#x662F;&#x4E0D;&#x53EF;&#x53D8;&#x7684;&#x3002;&#x54C8;&#x5E0C;&#x8868;&#x64CD;&#x4F5C;&#x53EF;&#x4EE5;&#x5728;&#x6BCF;&#x6B21;&#x64CD;&#x4F5C;&#x65F6;&#x8C03;&#x7528; <code>hash</code> &#x548C; <code>equiv?</code> &#x4E00;&#x6B21;&#xFF0C;&#x5B8C;&#x5168;&#x4E0D;&#x8C03;&#x7528;&#xFF0C;&#x6216;&#x8C03;&#x7528;&#x591A;&#x6B21;&#x3002;</p>
<pre><code>(define ht (make-hashtable string-hash string=?))
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(hashtable-mutable? hashtable)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>hashtable</code> &#x662F;&#x53EF;&#x53D8;&#x7684;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs hashtables), (rnrs)</p>
<p>&#x4E0A;&#x8FF0;&#x7684;&#x4EFB;&#x4E00;&#x4E2A;&#x54C8;&#x5E0C;&#x8868;&#x521B;&#x5EFA;&#x8FC7;&#x7A0B;&#x8FD4;&#x56DE;&#x7684;&#x54C8;&#x5E0C;&#x8868;&#x90FD;&#x662F;&#x53EF;&#x53D8;&#x7684;&#xFF0C;&#x4F46;&#x901A;&#x8FC7; <code>hashtable-copy</code> &#x521B;&#x5EFA;&#x7684;&#x8868;&#x53EF;&#x4EE5;&#x662F;&#x4E0D;&#x53EF;&#x53D8;&#x7684;&#x3002;&#x4E0D;&#x53EF;&#x53D8;&#x7684;&#x54C8;&#x5E0C;&#x8868;&#x4E0D;&#x80FD;&#x901A;&#x8FC7;&#x4EFB;&#x4F55;&#x4E0B;&#x5217;&#x8FC7;&#x7A0B;&#x4FEE;&#x6539;&#xFF1A; <code>hashtable-set!</code> , <code>hashtable-update!</code> , <code>hashtable-delete!</code> , &#x6216; <code>hashtable-clear!</code> .</p>
<pre><code>(hashtable-mutable? (make-eq-hashtable)) =&gt; #t
(hashtable-mutable? (hashtable-copy (make-eq-hashtable))) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(hashtable-hash-function hashtable)</code></p>
<p>&#x8FD4;&#x56DE;: &#x4E0E; <code>hashtable</code> &#x5173;&#x8054;&#x7684;&#x54C8;&#x5E0C;&#x51FD;&#x6570;</p>
<p>&#x8FC7;&#x7A0B;: <code>(hashtable-equivalence-function hashtable)</code></p>
<p>&#x8FD4;&#x56DE;: &#x4E0E; <code>hashtable</code> &#x5173;&#x8054;&#x7684;&#x7B49;&#x4EF7;&#x6027;&#x51FD;&#x6570;</p>
<p>&#x5E93;: (rnrs hashtables), (rnrs)</p>
<p>&#x5BF9;&#x4E8E; eq &#x548C; eqv hashtable, <code>hashtable-hash-function</code> &#x8FD4;&#x56DE; <code>#f</code> .</p>
<pre><code>(define ht (make-eq-hashtable))
(hashtable-hash-function ht) =&gt; #f
(eq? (hashtable-equivalence-function ht) eq?) =&gt; #t

(define ht (make-hashtable string-hash string=?))
(eq? (hashtable-hash-function ht) string-hash) =&gt; #t
(eq? (hashtable-equivalence-function ht) string=?) =&gt; #t
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(equal-hash obj)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(string-hash string)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(string-ci-hash string)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(symbol-hash symbol)</code></p>
<p>&#x8FD4;&#x56DE;: &#x4E00;&#x4E2A;&#x7CBE;&#x786E;&#x7684;&#x975E;&#x8D1F;&#x6574;&#x6570;&#x54C8;&#x5E0C;&#x503C;</p>
<p>&#x5E93;: (rnrs hashtables), (rnrs)</p>
<p>&#x8FD9;&#x4E9B;&#x8FC7;&#x7A0B;&#x662F;&#x9002;&#x7528;&#x4E8E;&#x9002;&#x5F53;&#x7684; Scheme &#x8C13;&#x8BCD;&#x7684;&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#xFF1A; <code>equal?</code> &#x5BF9;&#x5E94; <code>equal-hash</code> , <code>string=?</code> &#x5BF9;&#x5E94; <code>string-hash</code> , <code>string-ci=?</code> &#x5BF9;&#x5E94; <code>string-ci-hash</code> , &#x800C; <code>symbol=?</code> (&#x6216; <code>eq?</code> ) &#x5BF9;&#x5E94; <code>symbol-hash</code> . &#x7531; <code>equal-hash</code> , <code>string-hash</code> , &#x548C; <code>string-ci-hash</code> &#x8FD4;&#x56DE;&#x7684;&#x54C8;&#x5E0C;&#x503C;&#xFF0C;&#x901A;&#x5E38;&#x4F9D;&#x8D56;&#x4E8E;&#x5F53;&#x524D;&#x7ED3;&#x6784;&#x548C;&#x8F93;&#x5165;&#x503C;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x5982;&#x679C;&#x952E;&#x5728;&#x54C8;&#x5E0C;&#x8868;&#x4E2D;&#x6709;&#x5173;&#x8054;&#x503C;&#x65F6;&#x88AB;&#x4FEE;&#x6539;&#xFF0C;&#x5219;&#x8FD9;&#x4E9B;&#x8FC7;&#x7A0B;&#x5E76;&#x4E0D;&#x9002;&#x7528;&#x3002;</p>
<p>&#x8FC7;&#x7A0B;: <code>(hashtable-set! hashtable key obj)</code></p>
<p>&#x8FD4;&#x56DE;: &#x672A;&#x5B9A;&#x4E49;</p>
<p>&#x5E93;: (rnrs hashtables), (rnrs)</p>
<p> <code>hashtable</code> &#x5FC5;&#x987B;&#x662F;&#x53EF;&#x53D8;&#x54C8;&#x5E0C;&#x8868;&#x3002; <code>key</code> &#x5E94;&#x8BE5;&#x662F;&#x9002;&#x7528;&#x4E8E; <code>hashtable</code> &#x7684;&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#x548C;&#x7B49;&#x4EF7;&#x6027;&#x51FD;&#x6570;&#x7684;&#x952E;&#x3002; <code>obj</code> &#x53EF;&#x4EE5;&#x662F;&#x4EFB;&#x610F; Scheme &#x5BF9;&#x8C61;&#x3002;</p>
<p> <code>hashtable-set!</code> &#x628A; <code>obj</code> &#x4E0E; <code>hashtable</code> &#x4E2D;&#x7684; <code>key</code> &#x76F8;&#x5173;&#x8054;&#xFF0C;&#x53D6;&#x4EE3;&#x5DF2;&#x6709;&#x7684;&#x5173;&#x8054;&#xFF0C;&#x5982;&#x679C;&#x5B58;&#x5728;&#x7684;&#x8BDD;&#x3002;</p>
<pre><code>(define ht (make-eq-hashtable))
(hashtable-set! ht &apos;a 73)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(hashtable-ref hashtable key default)</code></p>
<p>&#x8FD4;&#x56DE;: &#x53C2;&#x89C1;&#x4E0B;&#x6587;</p>
<p>&#x5E93;: (rnrs hashtables), (rnrs)</p>
<p> <code>key</code> &#x5E94;&#x8BE5;&#x662F;&#x9002;&#x7528;&#x4E8E; <code>hashtable</code> &#x7684;&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#x548C;&#x7B49;&#x4EF7;&#x6027;&#x51FD;&#x6570;&#x7684;&#x952E;&#x3002; <code>default</code> &#x53EF;&#x4EE5;&#x662F;&#x4EFB;&#x610F; Scheme &#x5BF9;&#x8C61;&#x3002;</p>
<p> <code>hashtable-ref</code> &#x8FD4;&#x56DE;&#x4E0E; <code>hashtable</code> &#x4E2D;&#x7684; <code>key</code> &#x76F8;&#x5173;&#x8054;&#x7684;&#x503C;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x503C;&#x4E0E; <code>hashtable</code> &#x4E2D;&#x7684; <code>key</code> &#x76F8;&#x5173;&#x8054;&#xFF0C;&#x5219; <code>hashtable-ref</code> &#x8FD4;&#x56DE; <code>default</code> .</p>
<pre><code>(define p1 (cons &apos;a &apos;b))
(define p2 (cons &apos;a &apos;b))

(define eqht (make-eq-hashtable))
(hashtable-set! eqht p1 73)
(hashtable-ref eqht p1 55) =&gt; 73
(hashtable-ref eqht p2 55) =&gt; 55

(define equalht (make-hashtable equal-hash equal?))
(hashtable-set! equalht p1 73)
(hashtable-ref equalht p1 55) =&gt; 73
(hashtable-ref equalht p2 55) =&gt; 73
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(hashtable-contains? hashtable key)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>key</code> &#x5728; <code>hashtable</code> &#x4E2D;&#x5B58;&#x5728;&#x5173;&#x8054;&#x503C;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs hashtables), (rnrs)</p>
<p> <code>key</code> &#x5E94;&#x8BE5;&#x662F;&#x9002;&#x7528;&#x4E8E; <code>hashtable</code> &#x7684;&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#x548C;&#x7B49;&#x4EF7;&#x6027;&#x51FD;&#x6570;&#x7684;&#x952E;&#x3002;</p>
<pre><code>(define ht (make-eq-hashtable))
(define p1 (cons &apos;a &apos;b))
(define p2 (cons &apos;a &apos;b))
(hashtable-set! ht p1 73)
(hashtable-contains? ht p1) =&gt; #t
(hashtable-contains? ht p2) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(hashtable-update! hashtable key procedure default)</code></p>
<p>&#x8FD4;&#x56DE;: &#x672A;&#x5B9A;&#x4E49;</p>
<p>&#x5E93;: (rnrs hashtables), (rnrs)</p>
<p> <code>hashtable</code> &#x5FC5;&#x987B;&#x662F;&#x53EF;&#x53D8;&#x7684;&#x54C8;&#x5E0C;&#x8868;&#x3002; <code>key</code> &#x5E94;&#x8BE5;&#x662F;&#x9002;&#x7528;&#x4E8E; <code>hashtable</code> &#x7684;&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#x548C;&#x7B49;&#x4EF7;&#x6027;&#x51FD;&#x6570;&#x7684;&#x952E;&#x3002; <code>default</code> &#x53EF;&#x4EE5;&#x662F;&#x4EFB;&#x610F; Scheme &#x5BF9;&#x8C61;&#x3002; <code>procedure</code> &#x5E94;&#x5F53;&#x63A5;&#x53D7;&#x4E00;&#x4E2A;&#x5B9E;&#x53C2;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x503C;&#xFF0C;&#x4E14;&#x4E0D;&#x5E94;&#x4FEE;&#x6539; <code>hashtable</code> .</p>
<p> <code>hashtable-update!</code> &#x628A; <code>procedure</code> &#x5E94;&#x7528;&#x4E8E; <code>hashtable</code> &#x4E2D;&#x4E0E; <code>key</code> &#x76F8;&#x5173;&#x8054;&#x7684;&#x503C;&#x4E0A;&#xFF0C;&#x5982;&#x679C; <code>hashtable</code> &#x4E2D;&#x6CA1;&#x6709;&#x503C;&#x4E0E; <code>key</code> &#x76F8;&#x5173;&#x8054;&#xFF0C;&#x5219;&#x5E94;&#x7528;&#x4E8E; <code>default</code> &#x4E0A;&#x3002;&#x5982;&#x679C; <code>procedure</code> &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x503C;&#xFF0C; <code>hashtable-update!</code> &#x5219;&#x628A; <code>key</code> &#x4E0E; <code>procedure</code> &#x8FD4;&#x56DE;&#x7684;&#x503C;&#x76F8;&#x5173;&#x8054;&#xFF0C;&#x53D6;&#x4EE3;&#x65E7;&#x7684;&#x5173;&#x8054;&#x2014;&#x2014;&#x5982;&#x679C;&#x5B58;&#x5728;&#x7684;&#x8BDD;&#x3002;</p>
<p>&#x4E0D;&#x9A8C;&#x8BC1;&#x4F20;&#x5165;&#x7684;&#x5B9E;&#x53C2;&#x662F;&#x5426;&#x4E3A;&#x9002;&#x5F53;&#x7C7B;&#x578B;&#x7684; <code>hashtable-update!</code> &#x7248;&#x672C;&#xFF0C;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#x3002;</p>
<pre><code>(define hashtable-update!
  (lambda (ht key proc value)
    (hashtable-set! ht key
      (proc (hashtable-ref ht key value)))))
</code></pre><p>&#x4E0D;&#x8FC7;&#xFF0C;&#x4E00;&#x4E2A;&#x5B9E;&#x73B0;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x907F;&#x514D;&#x591A;&#x6B21;&#x54C8;&#x5E0C;&#x8BA1;&#x7B97;&#x548C;&#x54C8;&#x5E0C;&#x8868;&#x67E5;&#x627E;&#xFF0C;&#x628A; <code>hashtable-update!</code> &#x5B9E;&#x73B0;&#x5F97;&#x66F4;&#x9AD8;&#x6548;&#x3002;</p>
<pre><code>(define ht (make-eq-hashtable))
(hashtable-update! ht &apos;a
  (lambda (x) (* x 2))
  55)
(hashtable-ref ht &apos;a 0) =&gt; 110
(hashtable-update! ht &apos;a
  (lambda (x) (* x 2))
  0)
(hashtable-ref ht &apos;a 0) =&gt; 220
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(hashtable-delete! hashtable key)</code></p>
<p>&#x8FD4;&#x56DE;: &#x672A;&#x5B9A;&#x4E49;</p>
<p>&#x5E93;: (rnrs hashtables), (rnrs)</p>
<p> <code>hashtable</code> &#x5FC5;&#x987B;&#x662F;&#x53EF;&#x53D8;&#x54C8;&#x5E0C;&#x8868;&#x3002; <code>key</code> &#x5E94;&#x8BE5;&#x662F;&#x9002;&#x7528;&#x4E8E; <code>hashtable</code> &#x7684;&#x54C8;&#x5E0C;&#x51FD;&#x6570;&#x548C;&#x7B49;&#x4EF7;&#x6027;&#x51FD;&#x6570;&#x7684;&#x952E;&#x3002;</p>
<p> <code>hashtable-delete!</code> &#x4F1A;&#x79FB;&#x9664; <code>key</code> &#x5728; <code>hashtable</code> &#x4E2D;&#x7684;&#x6240;&#x6709;&#x5173;&#x8054;&#x3002;</p>
<pre><code>(define ht (make-eq-hashtable))
(define p1 (cons &apos;a &apos;b))
(define p2 (cons &apos;a &apos;b))
(hashtable-set! ht p1 73)
(hashtable-contains? ht p1) =&gt; #t
(hashtable-delete! ht p1)
(hashtable-contains? ht p1) =&gt; #f
(hashtable-contains? ht p2) =&gt; #f
(hashtable-delete! ht p2)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(hashtable-size hashtable)</code></p>
<p>&#x8FD4;&#x56DE;: <code>hashtable</code> &#x4E2D;&#x7684;&#x6761;&#x76EE;&#x6570;&#x91CF;</p>
<p>&#x5E93;: (rnrs hashtables), (rnrs)</p>
<pre><code>(define ht (make-eq-hashtable))
(define p1 (cons &apos;a &apos;b))
(define p2 (cons &apos;a &apos;b))
(hashtable-size ht) =&gt; 0
(hashtable-set! ht p1 73)
(hashtable-size ht) =&gt; 1
(hashtable-delete! ht p1)
(hashtable-size ht) =&gt; 0
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(hashtable-copy hashtable)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(hashtable-copy hashtable mutable?)</code></p>
<p>&#x8FD4;&#x56DE;: &#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x54C8;&#x5E0C;&#x8868;&#xFF0C;&#x5305;&#x542B;&#x4E0E; <code>hashtable</code> &#x76F8;&#x540C;&#x7684;&#x6761;&#x76EE;</p>
<p>&#x5E93;: (rnrs hashtables), (rnrs)</p>
<p>&#x5982;&#x679C;&#x4F20;&#x5165; <code>mutable?</code> &#xFF0C;&#x4E14;&#x5176;&#x503C;&#x4E0D;&#x4E3A;&#x5047;&#xFF0C;&#x5219;&#x62F7;&#x8D1D;&#x662F;&#x53EF;&#x53D8;&#x7684;&#xFF1B;&#x5426;&#x5219;&#xFF0C;&#x62F7;&#x8D1D;&#x662F;&#x4E0D;&#x53EF;&#x53D8;&#x7684;&#x3002;</p>
<pre><code>(define ht (make-eq-hashtable))
(define p1 (cons &apos;a &apos;b))
(hashtable-set! ht p1 &quot;c&quot;)
(define ht-copy (hashtable-copy ht))
(hashtable-mutable? ht-copy) =&gt; #f
(hashtable-delete! ht p1)
(hashtable-ref ht p1 #f) =&gt; #f
(hashtable-delete! ht-copy p1) =&gt; exception: not mutable
(hashtable-ref ht-copy p1 #f) =&gt; &quot;c&quot;
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(hashtable-clear! hashtable)</code></p>
<p>&#x8FC7;&#x7A0B;: <code>(hashtable-clear! hashtable size)</code></p>
<p>&#x8FD4;&#x56DE;: &#x672A;&#x5B9A;&#x4E49;</p>
<p>&#x5E93;: (rnrs hashtables), (rnrs)</p>
<p> <code>hashtable</code> &#x5FC5;&#x987B;&#x662F;&#x53EF;&#x53D8;&#x7684;&#x54C8;&#x5E0C;&#x8868;&#x3002;&#x5982;&#x679C;&#x6307;&#x5B9A; <code>size</code> &#xFF0C;&#x5176;&#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A;&#x975E;&#x8D1F;&#x7684;&#x7CBE;&#x786E;&#x6574;&#x6570;&#x3002;</p>
<p> <code>hashtable-clear!</code> &#x4ECE; <code>hashtable</code> &#x4E2D;&#x79FB;&#x9664;&#x6240;&#x6709;&#x6761;&#x76EE;&#x3002;&#x5982;&#x679C;&#x6307;&#x5B9A; <code>size</code> &#xFF0C;&#x5219;&#x54C8;&#x5E0C;&#x8868;&#x88AB;&#x91CD;&#x7F6E;&#x4E3A;&#x6307;&#x5B9A;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x5982;&#x540C;&#x88AB;&#x4E00;&#x4E2A;&#x5E26;&#x6709;&#x5B9E;&#x53C2; <code>size</code> &#x7684;&#x54C8;&#x5E0C;&#x8868;&#x521B;&#x5EFA;&#x64CD;&#x4F5C;&#x91CD;&#x65B0;&#x521B;&#x5EFA;&#x4E00;&#x6837;&#x3002;</p>
<pre><code>(define ht (make-eq-hashtable))
(define p1 (cons &apos;a &apos;b))
(define p2 (cons &apos;a &apos;b))
(hashtable-set! ht p1 &quot;first&quot;)
(hashtable-set! ht p2 &quot;second&quot;)
(hashtable-size ht) =&gt; 2
(hashtable-clear! ht)
(hashtable-size ht) =&gt; 0
(hashtable-ref ht p1 #f) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(hashtable-keys hashtable)</code></p>
<p>&#x8FD4;&#x56DE;: <code>hashtable</code> &#x4E2D;&#x7684;&#x952E;&#x7EC4;&#x6210;&#x7684;&#x5411;&#x91CF;</p>
<p>&#x5E93;: (rnrs hashtables), (rnrs)</p>
<p>&#x952E;&#x53EF;&#x4EE5;&#x4EE5;&#x4EFB;&#x610F;&#x987A;&#x5E8F;&#x51FA;&#x73B0;&#x5728;&#x8FD4;&#x56DE;&#x7684;&#x5411;&#x91CF;&#x4E2D;&#x3002;</p>
<pre><code>(define ht (make-eq-hashtable))
(define p1 (cons &apos;a &apos;b))
(define p2 (cons &apos;a &apos;b))
(hashtable-set! ht p1 &quot;one&quot;)
(hashtable-set! ht p2 &quot;two&quot;)
(hashtable-set! ht &apos;q &quot;three&quot;)
(hashtable-keys ht) =&gt; #((a . b) q (a . b))
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(hashtable-entries hashtable)</code></p>
<p>&#x8FD4;&#x56DE;: &#x4E24;&#x4E2A;&#x5411;&#x91CF;&#xFF1A;&#x4E00;&#x4E2A;&#x7531;&#x952E;&#x7EC4;&#x6210;&#xFF0C;&#x53E6;&#x4E00;&#x4E2A;&#x7531;&#x503C;&#x7EC4;&#x6210;</p>
<p>&#x5E93;: (rnrs hashtables), (rnrs)</p>
<p> <code>hashtable-entries</code> &#x8FD4;&#x56DE;&#x4E24;&#x4E2A;&#x503C;&#x3002;&#x7B2C;&#x4E00;&#x4E2A;&#x662F;&#x7531; <code>hashtable</code> &#x4E2D;&#x7684;&#x952E;&#x7EC4;&#x6210;&#x7684;&#x5411;&#x91CF;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x662F;&#x7531;&#x76F8;&#x5E94;&#x7684;&#x503C;&#x7EC4;&#x6210;&#x7684;&#x5411;&#x91CF;&#x3002;&#x952E;&#x548C;&#x503C;&#x53EF;&#x4EE5;&#x662F;&#x4EFB;&#x610F;&#x987A;&#x5E8F;&#xFF0C;&#x4F46;&#x5BF9;&#x4E8E;&#x76F8;&#x5E94;&#x7684;&#x952E;&#x548C;&#x503C;&#xFF0C;&#x987A;&#x5E8F;&#x662F;&#x4E00;&#x81F4;&#x7684;&#x3002;</p>
<pre><code>(define ht (make-eq-hashtable))
(define p1 (cons &apos;a &apos;b))
(define p2 (cons &apos;a &apos;b))
(hashtable-set! ht p1 &quot;one&quot;)
(hashtable-set! ht p2 &quot;two&quot;)
(hashtable-set! ht &apos;q &quot;three&quot;)
(hashtable-entries ht) =&gt; #((a . b) q (a . b))
                        #(&quot;two&quot; &quot;three&quot; &quot;one&quot;)
</code></pre><h2 id="614-&#x679A;&#x4E3E;">6.14. &#x679A;&#x4E3E;</h2>
<p>&#x679A;&#x4E3E;&#x662F;&#x7B26;&#x53F7;&#x7684;&#x6709;&#x5E8F;&#x96C6;&#x5408;&#xFF0C;&#x901A;&#x5E38;&#x7528;&#x4E8E;&#x547D;&#x540D;&#x548C;&#x64CD;&#x63A7;&#x9009;&#x9879;&#xFF0C;&#x6B63;&#x5982;&#x521B;&#x5EFA;&#x6587;&#x4EF6;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x7F13;&#x51B2;&#x533A;&#x6A21;&#x5F0F;&#x548C;&#x6587;&#x4EF6;&#x9009;&#x9879;&#x3002;</p>
<p>syntax: <code>(define-enumeration name (symbol ...) constructor)</code></p>
<p>&#x5E93;: (rnrs enums), (rnrs)</p>
<p> <code>define-enumeration</code> &#x8BED;&#x6CD5;&#x5F62;&#x5F0F;&#x662F;&#x4E00;&#x79CD;&#x5B9A;&#x4E49;&#xFF0C;&#x53EF;&#x4EE5;&#x51FA;&#x73B0;&#x5728;&#x4EFB;&#x4F55;&#x5176;&#x5B83;&#x5B9A;&#x4E49;&#x53EF;&#x4EE5;&#x51FA;&#x73B0;&#x7684;&#x5730;&#x65B9;&#x3002;</p>
<p> <code>define-enumeration</code> &#x8BED;&#x6CD5;&#x5F62;&#x5F0F;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x679A;&#x4E3E;&#x96C6;&#x5408;&#xFF0C;&#x4EE5;&#x6307;&#x5B9A;&#x7684;&#x7B26;&#x53F7;&#xFF0C;&#x6307;&#x5B9A;&#x7684;&#x987A;&#x5E8F;&#x5F62;&#x6210;&#x4E86;&#x6B64;&#x679A;&#x4E3E;&#x7684;&#x5168;&#x96C6;&#x3002;&#x5B83;&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x7531; <code>name</code> &#x547D;&#x540D;&#x7684;&#x8BED;&#x6CD5;&#x5F62;&#x5F0F;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x68C0;&#x9A8C;&#x4E00;&#x4E2A;&#x7B26;&#x53F7;&#x662F;&#x5426;&#x5728;&#x8FD9;&#x4E2A;&#x5168;&#x96C6;&#x4E2D;&#x3002;&#x5982;&#x679C; x &#x5728;&#x5168;&#x96C6;&#x4E2D;&#xFF0C;&#x5219;<code>(name x)</code> &#x6C42;&#x503C;&#x4E3A; x. &#x5982;&#x679C; x &#x4E0D;&#x5728;&#x5168;&#x96C6;&#x4E2D;&#xFF0C;&#x5219;&#x4E3A;&#x8BED;&#x6CD5;&#x8FDD;&#x89C4;&#x3002;</p>
<p> <code>define-enumeration</code> &#x540C;&#x65F6;&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x7531; <code>constructor</code> &#x547D;&#x540D;&#x7684;&#x8BED;&#x6CD5;&#x5F62;&#x5F0F;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x6B64;&#x679A;&#x4E3E;&#x7C7B;&#x578B;&#x7684;&#x5B50;&#x96C6;&#x3002;&#x5982;&#x679C; x &#x2026; &#x5747;&#x5728;&#x5168;&#x96C6;&#x4E2D;&#xFF0C;<code>(constructor x &amp;#x2026;)</code> &#x6C42;&#x503C;&#x4E3A;&#x4E00;&#x4E2A;&#x5305;&#x542B; x &#x2026; &#x7684;&#x679A;&#x4E3E;&#x96C6;&#x5408;&#x3002;&#x5426;&#x5219;&#xFF0C;&#x4FBF;&#x662F;&#x8BED;&#x6CD5;&#x8FDD;&#x89C4;&#x3002;&#x76F8;&#x540C;&#x7684;&#x7B26;&#x53F7;&#x53EF;&#x4EE5;&#x5728; x &#x2026; &#x4E2D;&#x51FA;&#x73B0;&#x591A;&#x6B21;&#xFF0C;&#x4F46;&#x5728;&#x7ED3;&#x679C;&#x96C6;&#x5408;&#x4E2D;&#x7B26;&#x53F7;&#x53EA;&#x4F1A;&#x51FA;&#x73B0;&#x4E00;&#x6B21;&#x3002;</p>
<pre><code>(define-enumeration weather-element
  (hot warm cold sunny rainy snowy windy)
  weather)

(weather-element hot) =&gt; hot
(weather-element fun) =&gt; syntax violation
(weather hot sunny windy) =&gt; #&lt;enum-set&gt;
(enum-set-&gt;list (weather rainy cold rainy)) =&gt; (cold rainy)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(make-enumeration symbol-list)</code></p>
<p>&#x8FD4;&#x56DE;: &#x4E00;&#x4E2A;&#x679A;&#x4E3E;&#x96C6;&#x5408;</p>
<p>&#x5E93;: (rnrs enums), (rnrs)</p>
<p>&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x679A;&#x4E3E;&#x7C7B;&#x578B;&#xFF0C;&#x5176;&#x5168;&#x96C6;&#x7531; <code>symbol-list</code> &#x4E2D;&#x7684;&#x5143;&#x7D20;&#x7EC4;&#x6210;&#xFF0C; <code>symbol-list</code> &#x5FC5;&#x987B;&#x662F;&#x7B26;&#x53F7;&#x7EC4;&#x6210;&#x7684;&#x5217;&#x8868;&#xFF0C;&#x4F9D;&#x5B83;&#x4EEC;&#x7B2C;&#x4E00;&#x6B21;&#x51FA;&#x73B0;&#x5728;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x6B21;&#x5E8F;&#x6392;&#x5E8F;&#x3002;&#x5B83;&#x4EE5;&#x679A;&#x4E3E;&#x96C6;&#x5408;&#x7684;&#x5F62;&#x5F0F;&#x8FD4;&#x56DE;&#x8FD9;&#x4E2A;&#x65B0;&#x679A;&#x4E3E;&#x7C7B;&#x578B;&#x7684;&#x5168;&#x96C6;&#x3002;</p>
<pre><code>(define positions (make-enumeration &apos;(top bottom above top beside)))
(enum-set-&gt;list positions) =&gt; (top bottom above beside)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(enum-set-constructor enum-set)</code></p>
<p>&#x8FD4;&#x56DE;: &#x4E00;&#x4E2A; <code>enumeration-set</code> &#x6784;&#x9020;&#x8FC7;&#x7A0B;</p>
<p>&#x5E93;: (rnrs enums), (rnrs)</p>
<p>&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x8FC7;&#x7A0B; p&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x521B;&#x5EFA; <code>enum-set</code> &#x5168;&#x96C6;&#x7684;&#x5B50;&#x96C6;&#x3002;p &#x5FC5;&#x987B;&#x88AB;&#x4F20;&#x5165;&#x4E00;&#x4E2A;&#x7B26;&#x53F7;&#x5217;&#x8868;&#xFF0C;&#x4E14;&#x5217;&#x8868;&#x7684;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x662F; <code>enum-set</code> &#x5168;&#x96C6;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x3002;p &#x8FD4;&#x56DE;&#x7684;&#x679A;&#x4E3E;&#x96C6;&#x5408;&#x5305;&#x542B;&#x4E14;&#x4EC5;&#x5305;&#x542B;&#x4F20;&#x5165;&#x7684;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x5168;&#x90E8;&#x7B26;&#x53F7;&#x3002;p &#x8FD4;&#x56DE;&#x7684;&#x503C;&#x53EF;&#x80FD;&#x5305;&#x542B; <code>enum-set</code> &#x4E2D;&#x6CA1;&#x6709;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x5982;&#x679C; <code>enum-set</code> &#x7684;&#x5168;&#x96C6;&#x4E2D;&#x5305;&#x542B;&#x8FD9;&#x4E9B;&#x5143;&#x7D20;&#x3002;</p>
<pre><code>(define e1 (make-enumeration &apos;(one two three four)))
(define p1 (enum-set-constructor e1))
(define e2 (p1 &apos;(one three)))
(enum-set-&gt;list e2) =&gt; (one three)
(define p2 (enum-set-constructor e2))
(define e3 (p2 &apos;(one two four)))
(enum-set-&gt;list e3) =&gt; (one two four)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(enum-set-universe enum-set)</code></p>
<p>&#x8FD4;&#x56DE;: <code>enum-set</code> &#x7684;&#x5168;&#x96C6;&#xFF0C;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x679A;&#x4E3E;&#x96C6;&#x5408;</p>
<p>&#x5E93;: (rnrs enums), (rnrs)</p>
<pre><code>(define e1 (make-enumeration &apos;(a b c a b c d)))
(enum-set-&gt;list (enum-set-universe e1)) =&gt; (a b c d)
(define e2 ((enum-set-constructor e1) &apos;(c)))
(enum-set-&gt;list (enum-set-universe e2)) =&gt; (a b c d)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(enum-set-&gt;list enum-set)</code></p>
<p>&#x8FD4;&#x56DE;: <code>enum-set</code> &#x4E2D;&#x7684;&#x5143;&#x7D20;&#x7EC4;&#x6210;&#x7684;&#x5217;&#x8868;</p>
<p>&#x5E93;: (rnrs enums), (rnrs)</p>
<p>&#x7ED3;&#x679C;&#x5217;&#x8868;&#x4E2D;&#x7B26;&#x53F7;&#x51FA;&#x73B0;&#x7684;&#x987A;&#x5E8F;&#xFF0C;&#x4E0E; <code>enum-set</code> &#x7684;&#x679A;&#x4E3E;&#x7C7B;&#x578B;&#x521B;&#x5EFA;&#x65F6;&#x7ED9;&#x51FA;&#x7684;&#x987A;&#x5E8F;&#x4E00;&#x81F4;&#x3002;</p>
<pre><code>(define e1 (make-enumeration &apos;(a b c a b c d)))
(enum-set-&gt;list e1) =&gt; (a b c d)
(define e2 ((enum-set-constructor e1) &apos;(d c a b)))
(enum-set-&gt;list e2) =&gt; (a b c d)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(enum-set-subset? enum-set1 enum-set2)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>enum-set1</code> &#x662F; <code>enum-set2</code> &#x7684;&#x5B50;&#x96C6;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs enums), (rnrs)</p>
<p>&#x5F53;&#x4E14;&#x4EC5;&#x5F53; <code>enum-set1</code> &#x7684;&#x5168;&#x96C6;&#x662F; <code>enum-set2</code> &#x7684;&#x5168;&#x96C6;&#x7684;&#x5B50;&#x96C6;&#xFF0C;&#x4E14; <code>enum-set1</code> &#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x90FD;&#x662F; <code>enum-set2</code> &#x4E2D;&#x7684;&#x5143;&#x7D20;&#x65F6;&#xFF0C;&#x679A;&#x4E3E;&#x96C6;&#x5408; <code>enum-set1</code> &#x662F;&#x679A;&#x4E3E;&#x96C6;&#x5408; <code>enum-set2</code> &#x7684;&#x5B50;&#x96C6;&#x3002;</p>
<pre><code>(define e1 (make-enumeration &apos;(a b c)))
(define e2 (make-enumeration &apos;(a b c d e)))
(enum-set-subset? e1 e2) =&gt; #t
(enum-set-subset? e2 e1) =&gt; #f
(define e3 ((enum-set-constructor e2) &apos;(a c)))
(enum-set-subset? e3 e1) =&gt; #f
(enum-set-subset? e3 e2) =&gt; #t
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(enum-set=? enum-set1 enum-set2)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>enum-set1</code> &#x548C; <code>enum-set2</code> &#x76F8;&#x7B49;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs enums), (rnrs)</p>
<p>&#x5982;&#x679C;&#x4E24;&#x4E2A;&#x679A;&#x4E3E;&#x96C6;&#x5408; <code>enum-set1</code> &#x548C; <code>enum-set2</code> &#x4E92;&#x4E3A;&#x5B50;&#x96C6;&#xFF0C;&#x5219;&#x5B83;&#x4EEC;&#x76F8;&#x7B49;&#x3002;</p>
<pre><code>(define e1 (make-enumeration &apos;(a b c d)))
(define e2 (make-enumeration &apos;(b d c a)))
(enum-set=? e1 e2) =&gt; #t
(define e3 ((enum-set-constructor e1) &apos;(a c)))
(define e4 ((enum-set-constructor e2) &apos;(a c)))
(enum-set=? e3 e4) =&gt; #t
(enum-set=? e3 e2) =&gt; #f
</code></pre><p> <code>enum-set=?</code> &#x53EF;&#x4EE5;&#x57FA;&#x4E8E; <code>enum-set-subset?</code> &#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#x3002;</p>
<pre><code>(define enum-set=?
  (lambda (e1 e2)
    (and (enum-set-subset? e1 e2) (enum-set-subset? e2 e1))))
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(enum-set-member? symbol enum-set)</code></p>
<p>&#x8FD4;&#x56DE;: &#x5982;&#x679C; <code>symbol</code> &#x662F; <code>enum-set</code> &#x4E2D;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x5219;&#x4E3A; <code>#t</code>, &#x5426;&#x5219;&#x4E3A; <code>#f</code>.</p>
<p>&#x5E93;: (rnrs enums), (rnrs)</p>
<pre><code>(define e1 (make-enumeration &apos;(a b c d e)))
(define e2 ((enum-set-constructor e1) &apos;(d b)))
(enum-set-member? &apos;c e1) =&gt; #t
(enum-set-member? &apos;c e2) =&gt; #f
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(enum-set-union enum-set1 enum-set2)</code></p>
<p>&#x8FD4;&#x56DE;: <code>enum-set1</code> &#x548C; <code>enum-set2</code> &#x7684;&#x5E76;&#x96C6;</p>
<p>&#x8FC7;&#x7A0B;: <code>(enum-set-intersection enum-set1 enum-set2)</code></p>
<p>&#x8FD4;&#x56DE;: <code>enum-set1</code> &#x548C; <code>enum-set2</code> &#x7684;&#x4EA4;&#x96C6;</p>
<p>&#x8FC7;&#x7A0B;: <code>(enum-set-difference enum-set1 enum-set2)</code></p>
<p>&#x8FD4;&#x56DE;: <code>enum-set1</code> &#x548C; <code>enum-set2</code> &#x7684;&#x5DEE;&#x96C6;</p>
<p>&#x5E93;: (rnrs enums), (rnrs)</p>
<p> <code>enum-set1</code> &#x548C; <code>enum-set2</code> &#x5FC5;&#x987B;&#x4E3A;&#x76F8;&#x540C;&#x7684;&#x679A;&#x4E3E;&#x7C7B;&#x578B;&#x3002;&#x6BCF;&#x4E2A;&#x8FC7;&#x7A0B;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x679A;&#x4E3E;&#x96C6;&#x5408;&#xFF0C;&#x8868;&#x793A;&#x4E24;&#x4E2A;&#x96C6;&#x5408;&#x7684;&#x5E76;&#x96C6;&#xFF0C;&#x4EA4;&#x96C6;&#xFF0C;&#x6216;&#x5DEE;&#x96C6;&#x3002;</p>
<pre><code>(define e1 (make-enumeration &apos;(a b c d)))
(define e2 ((enum-set-constructor e1) &apos;(a c)))
(define e3 ((enum-set-constructor e1) &apos;(b c)))
(enum-set-&gt;list (enum-set-union e2 e3)) =&gt; (a b c)
(enum-set-&gt;list (enum-set-intersection e2 e3)) =&gt; (c)
(enum-set-&gt;list (enum-set-difference e2 e3)) =&gt; (a)
(enum-set-&gt;list (enum-set-difference e3 e2)) =&gt; (b)
(define e4 (make-enumeration &apos;(b d c a)))
(enum-set-union e1 e4) =&gt; exception: different enumeration types
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(enum-set-complement enum-set)</code></p>
<p>&#x8FD4;&#x56DE;: <code>enum-set</code> &#x76F8;&#x5BF9;&#x4E8E;&#x5B83;&#x7684;&#x5168;&#x96C6;&#x7684;&#x8865;&#x96C6;</p>
<p>&#x5E93;: (rnrs enums), (rnrs)</p>
<pre><code>(define e1 (make-enumeration &apos;(a b c d)))
(enum-set-&gt;list (enum-set-complement e1)) =&gt; ()
(define e2 ((enum-set-constructor e1) &apos;(a c)))
(enum-set-&gt;list (enum-set-complement e2)) =&gt; (b d)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(enum-set-projection enum-set1 enum-set2)</code></p>
<p>&#x8FD4;&#x56DE;: <code>enum-set1</code> &#x5230; <code>enum-set2</code> &#x7684;&#x5168;&#x96C6;&#x7684;&#x6295;&#x5F71;</p>
<p>&#x5E93;: (rnrs enums), (rnrs)</p>
<p> <code>enum-set1</code> &#x4E2D;&#x4EFB;&#x4F55;&#x4E0D;&#x5728; <code>enum-set2</code> &#x7684;&#x5168;&#x96C6;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x5747;&#x88AB;&#x4E22;&#x5F03;&#x3002;&#x7ED3;&#x679C;&#x4E0E; <code>enum-set2</code> &#x4E3A;&#x76F8;&#x540C;&#x7684;&#x679A;&#x4E3E;&#x7C7B;&#x578B;&#x3002;</p>
<pre><code>(define e1 (make-enumeration &apos;(a b c d)))
(define e2 (make-enumeration &apos;(a b c d e f g)))
(define e3 ((enum-set-constructor e1) &apos;(a d)))
(define e4 ((enum-set-constructor e2) &apos;(a c e g)))
(enum-set-&gt;list (enum-set-projection e4 e3)) =&gt; (a c)
(enum-set-&gt;list
  (enum-set-union e3
    (enum-set-projection e4 e3))) =&gt; (a c d)
</code></pre><p>&#x8FC7;&#x7A0B;: <code>(enum-set-indexer enum-set)</code></p>
<p>&#x8FD4;&#x56DE;: &#x4E00;&#x4E2A;&#x8FC7;&#x7A0B;&#xFF0C;&#x8FD4;&#x56DE; <code>enum-set</code> &#x5168;&#x96C6;&#x4E2D;&#x7684;&#x7B26;&#x53F7;&#x7684;&#x7D22;&#x5F15;</p>
<p>&#x5E93;: (rnrs enums), (rnrs)</p>
<p> <code>enum-set-indexer</code> &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x8FC7;&#x7A0B; p&#xFF0C;&#x5F53;&#x5E94;&#x7528;&#x4E8E; <code>enum-set</code> &#x5168;&#x96C6;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x7B26;&#x53F7;&#x65F6;&#xFF0C;&#x8FD4;&#x56DE;&#x5F62;&#x6210;&#x6B64;&#x5168;&#x96C6;&#x7684;&#x6709;&#x5E8F;&#x7B26;&#x53F7;&#x96C6;&#x5408;&#x4E2D;&#xFF0C;&#x6B64;&#x7B26;&#x53F7;&#x7684;&#x7D22;&#x5F15;&#xFF08;&#x57FA;&#x4E8E; 0&#xFF09;&#x3002;&#x5982;&#x679C;&#x5E94;&#x7528;&#x4E8E;&#x4E00;&#x4E2A;&#x4E0D;&#x5728;&#x6B64;&#x5168;&#x96C6;&#x4E2D;&#x7684;&#x7B26;&#x53F7;&#x4E0A;&#xFF0C;p &#x8FD4;&#x56DE; <code>#f</code> .</p>
<pre><code>(define e1 (make-enumeration &apos;(a b c d)))
(define e2 ((enum-set-constructor e1) &apos;(a d)))
(define p (enum-set-indexer e2))
(list (p &apos;a) (p &apos;c) (p &apos;e)) =&gt; (0 2 #f)
</code></pre><p>R. Kent Dybvig / The Scheme Programming Language, Fourth Edition
Copyright &#xA9; 2009 The MIT Press. Electronically reproduced by permission.
Illustrations &#xA9; 2009 Jean-Pierre H&#xE9;bert
ISBN 978-0-262-51298-5 / LOC QA76.73.S34D93
to order this book / about this book</p>
<p><a href="http://www.scheme.com" target="_blank">http://www.scheme.com</a></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="05.ControlOperations.html" class="navigation navigation-prev " aria-label="Previous page: 05. 控制操作">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="07.InputAndOutput.html" class="navigation navigation-next " aria-label="Next page: 07. 输入输出">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"06. 对象操作","level":"1.8","depth":1,"next":{"title":"07. 输入输出","level":"1.9","depth":1,"path":"07.InputAndOutput.md","ref":"07.InputAndOutput.md","articles":[]},"previous":{"title":"05. 控制操作","level":"1.7","depth":1,"path":"05.ControlOperations.md","ref":"05.ControlOperations.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"06.OperationsOnObjects.md","mtime":"2020-04-26T23:53:14.620Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-04-26T23:53:41.228Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

